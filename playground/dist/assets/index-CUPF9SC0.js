/* empty css            */import{S as SafeJsonParse,a as adminConfig,H as Humanize,T as Toast,E as EventBus,b as Sortable,F as Form,P as PasteFromClipboard,I as IsJson,c as SecureLS,L as Loader,M as Modal,d as SafeErrorData,e as Store,f as LeftMenu,p as pluralize,g as axios$1,Q as QueryBuilder,h as Fx,C as CopyToClipboard,i as MapAPI,j as ErrorMessage,k as PageManager,l as EditorHelper,D as Dashboard,m as common,A as AdminConfig}from"./error-message-handler-A8_HKZJi.js";import{n as qe,o as Ge,q as We,r as Ke,U as Ye}from"./error-message-handler-A8_HKZJi.js";import{r as ref,o as onMounted,a as onBeforeUnmount,b as openBlock,c as createElementBlock,d as createBaseVNode,n as normalizeClass,e as renderSlot,f as createVNode,w as withCtx,g as withDirectives,v as vShow,F as Fragment,h as renderList,i as createTextVNode,t as toDisplayString,j as createCommentVNode,T as Transition,k as computed,l as createBlock,m as vModelSelect,p as vModelDynamic,q as withModifiers,s as getCurrentInstance,u as createSlots,x as vModelCheckbox,y as vModelText,z as createStaticVNode,A as normalizeStyle,B as reactive,C as nextTick,D as withKeys,E as resolveDynamicComponent,G as Teleport,H as resolveComponent,I as watch}from"./index-Blyshef0.js";import HcUiKit,{HcButton,HcModal,HcPopover,HcInput,HcProgress,HcAlert,HcCard,HcPagination,HcToast}from"./index-DuxRbFSe.js";import{HcAvatar as Xe,HcBadge as Ze,HcBadgeContainer as et,HcBreadcrumbs as tt,HcButtonGroup as ot,HcCheckbox as at,HcDrawer as st,HcDropdown as rt,HcFileUpload as lt,HcPlaceholder as nt,HcRadioGroup as it,HcSelect as dt,HcSpinner as ct,HcStatCard as ut,HcSwitch as pt,HcTable as gt,HcTabs as ft,HcTooltip as mt}from"./index-DuxRbFSe.js";import{_ as _export_sfc}from"./_plugin-vue_export-helper-DlAUqK2U.js";const _hoisted_1$B={class:"relative inline-block text-left group"},_hoisted_2$u={class:"space-y-1",role:"none"},_hoisted_3$r=["onClick"],_hoisted_4$q={key:0,class:"fa fa-check text-[10px] ml-auto"},_sfc_main$C={__name:"split-button",props:["dataOptions","dataSelected","dataParser","dataOnChange","dataBtnCss"],emits:["change"],setup(__props,{expose:__expose,emit:__emit}){const props=__props,emit=__emit,dropdownMenu=ref(null),display=ref(""),formatter=ref(props.dataParser),lists=ref(SafeJsonParse(props.dataOptions,[])),current=ref({}),selectedIndex=ref(typeof props.dataSelected>"u"?0:parseInt(props.dataSelected)),btnCss=ref(typeof props.dataBtnCss>"u"?"":props.dataBtnCss),onChange=computed(()=>{let method=typeof props.dataOnChange>"u"?null:props.dataOnChange;if(typeof method=="string")try{return eval(method)}catch(S){return console.error("Error evaluating onChange method:",S),null}return method}),isActive=S=>current.value.value===S.value?"bg-blue-50 text-blue-700 block px-4 py-2 text-sm font-semibold":"text-gray-700 hover:bg-gray-100 block px-4 py-2 text-sm transition-colors",normalizeData=()=>{let S=formatter.value,e=[];lists.value.forEach(function(o,i){typeof S=="function"?e.push(S(o)):typeof i=="number"&&e.push({label:o,value:o})}),lists.value=e,current.value=lists.value[selectedIndex.value]||{}},setCurrent=S=>{current.value=lists.value[S],current.value.index=S,onChange.value!=null&&typeof onChange.value=="function"&&onChange.value(current.value),emit("change",current.value),display.value="",unBindDocumentClick()},mangeShowHide=S=>{let e=dropdownMenu.value,o=S.target;e&&e!==o&&!e.contains(o)&&(display.value="",unBindDocumentClick())},bindDocumentClick=()=>{document.addEventListener("mouseup",mangeShowHide)},unBindDocumentClick=()=>{document.removeEventListener("mouseup",mangeShowHide)},toggleMenu=()=>{display.value=display.value===""?"display:block":"",display.value!==""&&bindDocumentClick()},setData=S=>{lists.value=[],lists.value=S,normalizeData()};return onMounted(()=>{normalizeData()}),onBeforeUnmount(()=>{unBindDocumentClick()}),__expose({setData}),(S,e)=>(openBlock(),createElementBlock("div",_hoisted_1$B,[createBaseVNode("div",null,[createBaseVNode("button",{type:"button",class:normalizeClass(["inline-flex items-center justify-between w-full rounded-xl border border-gray-200 shadow-sm px-5 py-2.5 bg-white text-xs font-black uppercase tracking-widest text-gray-700 hover:text-blue-600 hover:border-blue-100 transition-all active:scale-95 outline-none focus:ring-4 focus:ring-blue-500/5",btnCss.value]),id:"menu-button","aria-expanded":"true","aria-haspopup":"true",onClick:e[0]||(e[0]=o=>toggleMenu())},[renderSlot(S.$slots,"default",{},()=>[createTextVNode(toDisplayString(current.value.label),1)]),(openBlock(),createElementBlock("svg",{class:normalizeClass(["ml-2 h-4 w-4 transition-transform duration-300",display.value!==""?"rotate-180":""]),xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[...e[1]||(e[1]=[createBaseVNode("path",{"fill-rule":"evenodd",d:"M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z","clip-rule":"evenodd"},null,-1)])],2))],2)]),createVNode(Transition,{"enter-active-class":"transition ease-out duration-200","enter-from-class":"transform opacity-0 scale-95","enter-to-class":"transform opacity-100 scale-100","leave-active-class":"transition ease-in duration-75","leave-from-class":"transform opacity-100 scale-100","leave-to-class":"transform opacity-0 scale-95"},{default:withCtx(()=>[withDirectives(createBaseVNode("div",{class:"origin-top-right absolute right-0 mt-3 w-64 rounded-lg shadow-lg bg-white border border-gray-100 focus:outline-none z-[100] p-2",role:"menu","aria-orientation":"vertical","aria-labelledby":"menu-button",tabindex:"-1",ref_key:"dropdownMenu",ref:dropdownMenu},[createBaseVNode("div",_hoisted_2$u,[(openBlock(!0),createElementBlock(Fragment,null,renderList(lists.value,(o,i)=>(openBlock(),createElementBlock("a",{href:"javascript:void(0)",key:i,class:normalizeClass(isActive(o)),role:"menuitem",tabindex:"-1",onClick:l=>setCurrent(i)},[createTextVNode(toDisplayString(o.label)+" ",1),current.value.value===o.value?(openBlock(),createElementBlock("i",_hoisted_4$q)):createCommentVNode("",!0)],10,_hoisted_3$r))),128))])],512),[[vShow,display.value!==""]])]),_:1})]))}},_hoisted_1$A={class:"inline-block"},_hoisted_2$t={class:"font-black tracking-tight uppercase text-[10px]"},_sfc_main$B={__name:"cms-module-dropdown",props:["dataModules","dataCurrentModule"],setup(S){const e=S,o=ref(SafeJsonParse(e.dataModules,[])),i=ref(typeof e.dataCurrentModule>"u"?"":e.dataCurrentModule),l=computed(()=>{let f=[...o.value.child||[]];return f.unshift({name:o.value.name,controller_name:o.value.controller_name}),f}),b=computed(()=>{if(l.value.length>0)for(var f=0;f<l.value.length;f++){var s=l.value[f];if(s.controller_name.toLowerCase()==i.value.toLowerCase())return f}return 0}),n=()=>o.value.parent_id==0&&l.value.length>1,u=f=>({label:f.name,value:f.controller_name}),r=f=>{let s=adminConfig.admin_path(f.value);window.location=s};return(f,s)=>(openBlock(),createElementBlock("div",_hoisted_1$A,[n()?(openBlock(),createBlock(_sfc_main$C,{key:0,"data-options":l.value,onChange:r,"data-parser":u,"data-selected":b.value,"data-btn-css":"bg-blue-600 hover:bg-blue-700 text-white shadow-blue-500/30"},{default:withCtx(()=>[createBaseVNode("span",_hoisted_2$t,toDisplayString(i.value),1)]),_:1},8,["data-options","data-selected"])):createCommentVNode("",!0)]))}},_hoisted_1$z={class:"inline-block"},_sfc_main$A={__name:"language-button",props:["dataLanguages","dataSelectedLanguage"],setup(S){const e=S,o=ref(SafeJsonParse(e.dataLanguages,null)),i=ref(e.dataSelectedLanguage=="undefined"?1:parseInt(e.dataSelectedLanguage)),l=computed(()=>{if(o.value!=null){for(let r=0;r<o.value.length;r++)if(o.value[r].id==i.value)return r}return 0}),b=()=>o.value!=null&&o.value.length>1,n=r=>({label:r.name,value:r.id}),u=r=>{let f=adminConfig.admin_path(`ajax/setLanguage/${r.value}`);axios.get(f).then(function(s){window.location.reload()}).catch(function(s){console.log(s)})};return(r,f)=>(openBlock(),createElementBlock("div",_hoisted_1$z,[b()?(openBlock(),createBlock(_sfc_main$C,{key:0,"data-options":S.dataLanguages,onChange:u,"data-parser":n,"data-selected":l.value,"data-btn-css":"bg-white border border-gray-200 text-gray-700 hover:border-blue-300 shadow-sm"},{default:withCtx(()=>[...f[0]||(f[0]=[createBaseVNode("div",{class:"flex items-center gap-2 px-1"},[createBaseVNode("i",{class:"fa fa-globe text-[10px] text-gray-400"}),createBaseVNode("span",{class:"font-black text-[10px] uppercase tracking-widest"},"Switch Language")],-1)])]),_:1},8,["data-options","data-selected"])):createCommentVNode("",!0)]))}},_hoisted_1$y=["action"],_hoisted_2$s={class:"flex flex-wrap items-center gap-4"},_hoisted_3$q={class:"flex-1 min-w-[200px] flex items-center gap-3"},_hoisted_4$p={class:"flex-1 sm:flex-none sm:w-48"},_hoisted_5$k=["value"],_hoisted_6$j={class:"w-24"},_hoisted_7$i=["value"],_hoisted_8$i={class:"flex-1 md:flex-[2] min-w-[200px]"},_hoisted_9$g=["type"],_hoisted_10$e={class:"flex items-center gap-2 w-full sm:w-auto"},_sfc_main$z={__name:"search-bar",props:["dataSelectedParams","dataControllerName","dataFields","dataActionFields"],setup(S){const e=S,o={q:"",f:"id",o:"="},i=ref({...o}),l=ref(adminConfig.admin_path(e.dataControllerName+"/search")),b=ref(SafeJsonParse(e.dataFields,[])),n=["=","!=",">","<",">=","<=","like%","%like%"],u=SafeJsonParse(e.dataActionFields,[]).length>0,r=ref("text"),f=(m,p="label")=>typeof m=="string"||m[p]===void 0?m:m[p],s=()=>{i.value.f.endsWith("_date")||i.value.f.endsWith("_at")?r.value="date":r.value="text"},$=()=>{let m;if(i.value.q.trim()==="")m=adminConfig.admin_path(e.dataControllerName);else{let p=encodeURI(JSON.stringify(i.value)),g=l.value.indexOf("?")===-1?"?":"&";m=l.value+g+"q="+p}window.location.href=m},k=()=>{window.location.href=adminConfig.admin_path(e.dataControllerName)},_=()=>{u&&b.value.pop();const m=SafeJsonParse(e.dataSelectedParams,o);i.value=m.f===void 0?{...o}:m,s()};return onMounted(()=>{_()}),(m,p)=>(openBlock(),createElementBlock("form",{action:l.value,method:"get",onSubmit:withModifiers($,["prevent"]),class:"w-full",role:"form"},[createBaseVNode("div",_hoisted_2$s,[createBaseVNode("div",_hoisted_3$q,[createBaseVNode("div",_hoisted_4$p,[withDirectives(createBaseVNode("select",{name:"fields","onUpdate:modelValue":p[0]||(p[0]=g=>i.value.f=g),class:"bg-gray-50 border border-gray-100 text-gray-700 text-sm rounded-xl focus:ring-4 focus:ring-blue-500/10 focus:border-blue-500 block w-full px-4 py-3 outline-none transition-all shadow-inner font-bold cursor-pointer",onChange:p[1]||(p[1]=g=>s())},[(openBlock(!0),createElementBlock(Fragment,null,renderList(b.value,g=>(openBlock(),createElementBlock("option",{value:f(g,"key")},toDisplayString(f(g)),9,_hoisted_5$k))),256))],544),[[vModelSelect,i.value.f]])]),createBaseVNode("div",_hoisted_6$j,[withDirectives(createBaseVNode("select",{name:"fields","onUpdate:modelValue":p[2]||(p[2]=g=>i.value.o=g),class:"bg-gray-50 border border-gray-100 text-gray-700 text-sm rounded-xl focus:ring-4 focus:ring-blue-500/10 focus:border-blue-500 block w-full px-3 py-3 outline-none transition-all shadow-inner font-mono"},[(openBlock(),createElementBlock(Fragment,null,renderList(n,g=>createBaseVNode("option",{value:g},toDisplayString(g),9,_hoisted_7$i)),64))],512),[[vModelSelect,i.value.o]])])]),createBaseVNode("div",_hoisted_8$i,[withDirectives(createBaseVNode("input",{type:r.value,"onUpdate:modelValue":p[3]||(p[3]=g=>i.value.q=g),class:"bg-white border border-gray-200 text-gray-700 text-sm rounded-xl focus:ring-4 focus:ring-blue-500/10 focus:border-blue-500 block w-full px-5 py-3 outline-none transition-all shadow-sm placeholder-gray-400 font-medium",placeholder:"What are you looking for?"},null,8,_hoisted_9$g),[[vModelDynamic,i.value.q]])]),createBaseVNode("div",_hoisted_10$e,[p[5]||(p[5]=createBaseVNode("button",{type:"submit",name:"submit",class:"flex-1 sm:flex-none px-8 py-3 bg-blue-600 hover:bg-blue-700 text-white text-xs font-black uppercase tracking-widest rounded-xl shadow-lg shadow-blue-500/20 transition-all active:scale-95 flex items-center justify-center gap-2"},[createBaseVNode("i",{class:"fa fa-search text-[10px]"}),createTextVNode(" Search ")],-1)),createBaseVNode("button",{type:"reset",name:"reset",onClick:p[4]||(p[4]=g=>k()),class:"flex-1 sm:flex-none px-6 py-3 bg-white border border-gray-200 hover:border-gray-300 text-gray-400 hover:text-gray-900 text-xs font-black uppercase tracking-widest rounded-xl transition-all active:scale-95"}," Reset ")])])],40,_hoisted_1$y))}},_hoisted_1$x={class:"w-full mb-8"},_hoisted_2$r={class:"flex flex-col lg:flex-row justify-between items-start lg:items-center gap-6"},_hoisted_3$p={class:"flex items-center gap-4"},_hoisted_4$o={class:"text-2xl font-black text-gray-900 tracking-tight uppercase leading-none"},_hoisted_5$j={class:"text-[10px] font-black text-gray-400 uppercase tracking-widest mt-1.5 opacity-70"},_hoisted_6$i={class:"flex flex-wrap items-center gap-3 bg-gray-50/50 p-2 rounded-lg border border-gray-100 shadow-inner w-full lg:w-auto"},_hoisted_7$h={key:0},_hoisted_8$h={class:"bg-white p-6 rounded-lg border border-gray-100 shadow-lg shadow-blue-500/5"},_sfc_main$y={__name:"action-bar",props:["dataSelectedParams","dataControllerName","dataControllerTitle","dataFields","dataActionFields","dataLanguages","dataSelectedLanguage","dataMoreActions","dataShowAdd","dataHasLangMethod","dataCmsModules","dataShowSearch","dataShowBack","dataLayoutType"],setup(S){const e=S,o=getCurrentInstance(),i=ref(!(typeof e.dataShowSearch>"u"||e.dataShowSearch===""||e.dataShowSearch==="false")),l=ref(!1),b=ref(""),n=ref(SafeJsonParse(e.dataMoreActions,[])),u=ref(typeof e.dataShowAdd>"u"||e.dataShowAdd==="true"),r=ref(!(typeof e.dataHasLangMethod>"u"||e.dataHasLangMethod==="false")),f=ref(SafeJsonParse(e.dataCmsModules,{})),s=ref(typeof e.dataSelectedParams>"u"?"":e.dataSelectedParams),$=ref(typeof e.dataControllerName>"u"?"":e.dataControllerName),k=ref(typeof e.dataControllerTitle>"u"?"":e.dataControllerTitle),_=ref(typeof e.dataFields>"u"||e.dataFields===""?[]:e.dataFields),m=ref(typeof e.dataActionFields>"u"||e.dataActionFields===""?[]:e.dataActionFields),p=ref(e.dataShowBack==="true"),g=ref(typeof e.dataLayoutType>"u"||e.dataLayoutType===""?"table":e.dataLayoutType),I=computed(()=>adminConfig.admin_path($.value)),V=computed(()=>g.value==="grid"?"fa fa-th-list":"fa fa-table"),B=computed(()=>m.value.indexOf("edit")!==-1),M=()=>{const t=g.value==="table"?"grid":"table";if(Toast.show(o.proxy,`Changing layout to ${t}...`,2e3),"URLSearchParams"in window){let N=new URLSearchParams(window.location.search);N.set("layout",t),window.location.href=window.location.pathname+"?"+N.toString()}else window.location.href=window.location.pathname+"?layout="+t},v=t=>t.indexOf("http")===0?t:adminConfig.admin_path(t),w=()=>{l.value=!l.value,b.value=l.value?"animated flipInX":""},H=()=>{s.value!==""&&SafeJsonParse(s.value,{}).q&&(l.value=!0)},F=()=>{if($.value!==""){var t=adminConfig.admin_path($.value);window.location.href=t+"/create"}},j=t=>!t.as||t.as==="button"?"button":t.as,E=t=>Humanize(t);return onMounted(()=>{H()}),(t,N)=>(openBlock(),createElementBlock("div",_hoisted_1$x,[createBaseVNode("div",_hoisted_2$r,[createBaseVNode("div",_hoisted_3$p,[N[0]||(N[0]=createBaseVNode("div",{class:"w-1.5 h-10 bg-blue-600 rounded-full shadow-lg shadow-blue-500/20"},null,-1)),createBaseVNode("div",null,[createBaseVNode("h4",_hoisted_4$o,toDisplayString(E(k.value)),1),createBaseVNode("p",_hoisted_5$j,toDisplayString(f.value.sub_title||"Resource Management Instance"),1)])]),createBaseVNode("div",_hoisted_6$i,[r.value?(openBlock(),createBlock(_sfc_main$A,{key:0,"data-languages":S.dataLanguages,"data-selected-language":S.dataSelectedLanguage,class:"hover:scale-105 transition-transform"},{default:withCtx(()=>[...N[1]||(N[1]=[createTextVNode("English",-1)])]),_:1},8,["data-languages","data-selected-language"])):createCommentVNode("",!0),u.value&&B.value?(openBlock(),createBlock(HcButton,{key:1,variant:"primary",onClick:F,icon:"fa fa-plus"},{default:withCtx(()=>[...N[2]||(N[2]=[createTextVNode(" Add New ",-1)])]),_:1})):createCommentVNode("",!0),(openBlock(!0),createElementBlock(Fragment,null,renderList(n.value,U=>(openBlock(),createBlock(HcButton,{key:U.action,variant:"secondary",outline:"",href:v(U.action),icon:U.icon_css,as:"a"},{default:withCtx(()=>[j(U)=="button"?(openBlock(),createElementBlock("span",_hoisted_7$h,toDisplayString(U.label),1)):createCommentVNode("",!0)]),_:2},1032,["href","icon"]))),128)),i.value?(openBlock(),createBlock(HcButton,{key:2,variant:"secondary",outline:"",onClick:w,icon:"fa fa-search",active:l.value,"is-square":"",size:"sm"},null,8,["active"])):createCommentVNode("",!0),_.value.length>0?(openBlock(),createBlock(HcButton,{key:3,variant:"secondary",outline:"",onClick:M,icon:V.value,active:g.value!=="table","is-square":"",size:"sm"},null,8,["icon","active"])):createCommentVNode("",!0),p.value?(openBlock(),createBlock(HcButton,{key:4,variant:"dark",href:I.value,as:"a"},{default:withCtx(()=>[...N[3]||(N[3]=[createTextVNode(" Back ",-1)])]),_:1},8,["href"])):createCommentVNode("",!0)])]),l.value?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(["mt-8 transform origin-top transition-all",l.value?"scale-100 opacity-100":"scale-95 opacity-0 hidden"])},[createBaseVNode("div",_hoisted_8$h,[createVNode(_sfc_main$z,{class:normalizeClass(b.value),"data-controller-name":$.value,"data-selected-params":s.value,"data-fields":_.value,"data-action-fields":m.value},null,8,["class","data-controller-name","data-selected-params","data-fields","data-action-fields"])])],2)):createCommentVNode("",!0)]))}},_hoisted_1$w={class:"flex gap-3"},_sfc_main$x={__name:"modal-box",props:["dataShowModal","dataShowFooter","dataTitleCss","dataContentCss","dataFooterCss","dataModalCss","dataWidth"],emits:["onClose"],setup(S,{expose:e,emit:o}){const i=S,l=o;ref(typeof i.dataTitleCss>"u"?"":i.dataTitleCss);const b=ref(typeof i.dataContentCss>"u"?"":i.dataContentCss);ref(typeof i.dataFooterCss>"u"?"":i.dataFooterCss);const n=ref(i.dataShowModal!==void 0&&i.dataShowModal.toString()==="true"),u=ref({}),r=ref("Alert"),f=ref("Modal Content"),s=ref(""),$=computed(()=>typeof i.dataShowFooter<"u"&&i.dataShowFooter.toString()==="true"||s.value!==""),k=computed(()=>{if(typeof i.dataWidth<"u"){const V=parseInt(i.dataWidth);return V<400?"sm":V<700?"md":V<1e3?"lg":"xl"}return"md"}),_=(V={})=>{n.value=!0,u.value=V},m=()=>{n.value=!1,typeof u.value=="function"&&u.value()},p=V=>{m(),l("onClose",V,u.value)},g=(V,B,M,v)=>{typeof V=="string"?f.value=V:(V.title&&(r.value=V.title),V.content&&(f.value=V.content),V.footerContent&&(s.value=V.footerContent)),_(M)},I=()=>{m()};return onMounted(()=>{n.value&&_()}),e({open:_,close:m,show:g,hide:I}),(V,B)=>(openBlock(),createBlock(HcModal,{modelValue:n.value,"onUpdate:modelValue":B[2]||(B[2]=M=>n.value=M),title:r.value,size:k.value},createSlots({title:withCtx(()=>[renderSlot(V.$slots,"title",{},()=>[createTextVNode(toDisplayString(r.value),1)])]),default:withCtx(()=>[createBaseVNode("div",{class:normalizeClass([b.value,"text-gray-600 font-medium leading-relaxed"])},[renderSlot(V.$slots,"content",{},()=>[renderSlot(V.$slots,"default",{},()=>[createTextVNode(toDisplayString(f.value),1)])])],2)]),_:2},[$.value?{name:"footer",fn:withCtx(()=>[renderSlot(V.$slots,"footer",{},()=>[createBaseVNode("div",_hoisted_1$w,[createVNode(HcButton,{variant:"secondary",onClick:B[0]||(B[0]=M=>p(0))},{default:withCtx(()=>[...B[3]||(B[3]=[createTextVNode("Cancel",-1)])]),_:1}),createVNode(HcButton,{variant:"primary",onClick:B[1]||(B[1]=M=>p(1))},{default:withCtx(()=>[...B[4]||(B[4]=[createTextVNode("Okay",-1)])]),_:1})])])]),key:"0"}:void 0]),1032,["modelValue","title","size"]))}},_hoisted_1$v={class:"flex flex-col sm:flex-row items-center gap-4 py-4"},_hoisted_2$q={class:"w-full sm:flex-1"},_hoisted_3$o=["value"],_hoisted_4$n={class:"w-full sm:w-auto"},_sfc_main$w={__name:"category-platform",props:["dataPlatforms"],setup(S){const e=S,o=getCurrentInstance(),i=ref(null),l=ref(SafeJsonParse(e.dataPlatforms,[])),b=ref(""),n=ref(null),u=()=>{let $=b.value;if($==="")return Toast.show(o.proxy,"Please select a platform"),!1;let k=n.value;console.log("target ",k);let _=k.getAttribute("data-rowid");window.location=adminConfig.admin_path(`category/edit/${_}/${$}`)},r=()=>{l.value.length>1?i.value?.open():l.value.length===1&&(b.value=l.value[0].id,u())},f=()=>{EventBus.emit("list-view-hide-spinner",o.proxy)},s=$=>{n.value=$,r()};return onMounted(()=>{EventBus.on("list-view-pre-edit",s)}),onBeforeUnmount(()=>{EventBus.off("list-view-pre-edit",s)}),($,k)=>(openBlock(),createElementBlock("div",null,[createVNode(_sfc_main$x,{ref_key:"platformbox",ref:i,onOnClose:f},{title:withCtx(()=>[...k[3]||(k[3]=[createBaseVNode("div",{class:"flex items-center gap-2"},[createBaseVNode("i",{class:"fa fa-layer-group text-blue-600"}),createBaseVNode("span",null,"Select Platform Context")],-1)])]),content:withCtx(()=>[createBaseVNode("div",_hoisted_1$v,[createBaseVNode("div",_hoisted_2$q,[withDirectives(createBaseVNode("select",{"onUpdate:modelValue":k[0]||(k[0]=_=>b.value=_),class:"bg-white border border-gray-200 text-gray-700 text-sm rounded-xl focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 block w-full px-4 py-3 outline-none transition-all shadow-sm cursor-pointer",onChange:k[1]||(k[1]=_=>u())},[k[4]||(k[4]=createBaseVNode("option",{value:""},"Choose a platform...",-1)),(openBlock(!0),createElementBlock(Fragment,null,renderList(l.value,_=>(openBlock(),createElementBlock("option",{key:_.id,value:_.id},toDisplayString(_.name),9,_hoisted_3$o))),128))],544),[[vModelSelect,b.value]])]),createBaseVNode("div",_hoisted_4$n,[createBaseVNode("button",{class:"w-full sm:w-auto px-8 py-3 bg-blue-600 hover:bg-blue-700 text-white font-black rounded-xl shadow-lg shadow-blue-500/20 transition-all active:scale-95 whitespace-nowrap",type:"button",onClick:k[2]||(k[2]=_=>u())}," Proceed to Edit ")])])]),_:1},512)]))}},_hoisted_1$u={class:"space-y-6"},_hoisted_2$p={class:"flex flex-col md:flex-row items-center gap-4 bg-white p-4 rounded-xl border border-gray-100 shadow-sm"},_hoisted_3$n={class:"w-full md:w-64"},_hoisted_4$m=["value"],_hoisted_5$i={class:"w-full md:w-64"},_hoisted_6$h=["value"],_hoisted_7$g={class:"md:ml-auto"},_hoisted_8$g={style:{display:"flex"},class:"flex items-center gap-3 bg-gray-50 border border-gray-200 rounded-xl px-5 h-[46px] hover:bg-white hover:border-blue-400 transition-all cursor-pointer group shadow-inner",title:"It will be inserted or deleted for all platforms if checked."},_hoisted_9$f={key:0,class:"animate-fadeIn"},_hoisted_10$d={class:"grid grid-cols-1 lg:grid-cols-12 gap-6"},_hoisted_11$c={class:"lg:col-span-7"},_hoisted_12$c={class:"bg-white rounded-lg shadow-lg border border-gray-100 overflow-hidden min-h-[500px] flex flex-col"},_hoisted_13$a={class:"px-8 py-6 bg-gray-50/50 border-b border-gray-100 flex items-center justify-between"},_hoisted_14$a={key:0,class:"animate-slideDown bg-red-50 p-8 border-b border-red-100 border-dashed"},_hoisted_15$a={class:"flex flex-col gap-3"},_hoisted_16$8={class:"flex gap-3"},_hoisted_17$7=["value"],_hoisted_18$6={key:1,class:"px-8 py-4 border-b border-gray-100 bg-gray-50/30"},_hoisted_19$5={class:"relative group"},_hoisted_20$5=["data-cache-category","data-category-id","data-theme-id"],_hoisted_21$5={class:"flex items-center gap-5"},_hoisted_22$5={class:"flex items-center gap-3"},_hoisted_23$5=["onUpdate:modelValue"],_hoisted_24$5={class:"flex flex-col gap-0.5"},_hoisted_25$5={class:"flex items-center gap-2"},_hoisted_26$5={class:"text-sm font-black text-gray-800 tracking-tight"},_hoisted_27$5={class:"text-[10px] font-bold text-gray-300"},_hoisted_28$5={class:"flex items-center gap-3"},_hoisted_29$5={key:0,class:"flex items-center gap-1.5"},_hoisted_30$5={class:"text-[10px] font-black text-blue-600/60 uppercase tracking-widest"},_hoisted_31$4={key:1,class:"flex items-center gap-1.5"},_hoisted_32$4={key:2,class:"flex items-center gap-1.5"},_hoisted_33$4={class:"text-[10px] font-bold text-gray-400 uppercase tracking-[0.2em] italic"},_hoisted_34$4={class:"flex items-center gap-2 opacity-0 group-hover:opacity-100 transition-all scale-95 group-hover:scale-100"},_hoisted_35$4={key:0,class:"p-2.5 text-gray-300 hover:text-red-600 hover:bg-red-100/50 hover:shadow-inner rounded-xl transition-all js_delete shadow-sm",title:"Remove Category"},_hoisted_36$3=["onClick"],_hoisted_37$3={class:"lg:col-span-5"},_hoisted_38$3={class:"bg-white rounded-lg shadow-lg border border-gray-100 overflow-hidden flex flex-col h-full sticky top-4"},_hoisted_39$3={key:0,class:"px-8 py-4 border-b border-gray-100 bg-gray-50/30"},_hoisted_40$3={class:"relative"},_hoisted_41$3={id:"draggableItems",class:"flex-1 divide-y divide-gray-50 overflow-y-auto max-h-[500px] scrollbar-thin scrollbar-thumb-gray-200"},_hoisted_42$3=["data-category-id"],_hoisted_43$3={class:"flex items-center gap-3"},_hoisted_44$3={class:"w-6 h-6 flex items-center justify-center rounded-lg bg-gray-50 border border-gray-100 text-[10px] font-black group-hover:bg-blue-600 group-hover:text-white group-hover:border-blue-700 transition-all"},_hoisted_45$3={class:"text-sm font-bold text-gray-600 group-hover:text-blue-900 transition-colors"},_hoisted_46$3=["onClick"],_hoisted_47$3={class:"w-72 space-y-5 pointer-events-auto"},_hoisted_48$3={class:"space-y-2"},_hoisted_49$3=["value"],_hoisted_50$3={class:"space-y-2"},_sfc_main$v={__name:"category-settings",props:["dataSiteId","dataSitePlatforms","dataSiteCategories","dataSiteThemes","dataSiteMicrosites","dataPlatformId","dataMicrositeId","dataCategories","dataUserRights"],setup(S){const e=S,o=getCurrentInstance(),i=ref(!1),l=ref(SafeJsonParse(e.dataSitePlatforms,[])),b=ref(SafeJsonParse(e.dataSiteCategories,[])),n=ref(SafeJsonParse(e.dataSiteThemes,[])),u=ref(SafeJsonParse(e.dataSiteMicrosites,[])),r=ref(SafeJsonParse(e.dataCategories,[])),f=ref(typeof e.dataPlatformId>"u"||e.dataPlatformId===""?1:parseInt(e.dataPlatformId)),s=ref(typeof e.dataMicrositeId>"u"||e.dataMicrositeId===""?0:parseInt(e.dataMicrositeId)),$=ref(""),k=ref(""),_=ref(!1),m=ref(0),p=reactive({category_id:0,theme_id:"",cache_category:""}),g=reactive([]),I=reactive({}),V=reactive([]),B=ref(typeof e.dataSiteId>"u"?1:parseInt(e.dataSiteId)),M=ref(!0),v=ref(!1),w=ref(""),H=ref(SafeJsonParse(e.dataUserRights,[])),F=ref({top:"0px",left:"0px"}),j=ref(null),E=ref(null),t=computed(()=>l.value.length>1),N=computed(()=>u.value.length>0),U=computed(()=>H.value.indexOf("edit")>=0),W=computed(()=>H.value.indexOf("delete")>=0),L=z=>{for(let y=0;y<n.value.length;y++)if(n.value[y].id==z)return n.value[y].name;return""},q=(z,y="allSiteCategories")=>{let C=null,R=y==="allSiteCategories"?V:g;for(let h=0;h<R.length;h++){let x=R[h];if(parseInt(x.category_id)===parseInt(z)){C=x;break}}return C},oe=(z,y="allCategories")=>{let C=-1,R=y==="allCategories"?g:V;if(R.length>0)for(let h=0;h<R.length;h++){let x=R[h];if(parseInt(x.category_id)===parseInt(z)){C=h;break}}return C},ne=()=>({microsite_id:s.value,platform_id:f.value,category_id:m.value,site_id:B.value}),se=(z,y)=>new Promise((C,R)=>{axios.post(z,y).then(h=>{C(h)}).catch(h=>{R(h.response)})}),_e=()=>{let z=document.querySelectorAll(".js_category li"),y=f.value,C=[];for(let R=0;R<z.length;R++){let h=z[R],x=q(h.getAttribute("data-category-id"),"allCategories"),A={position:R+1},O={category_id:x.category_id,platform_id:y};C.push({where:O,data:A})}if(C.length>0){let R=adminConfig.admin_path("category/updateIndex");se(R,{data:C}).then(()=>{Toast.show(o,"Saved...")}).catch(x=>{Toast.show(o,x.data.message,2e3)})}},re=z=>{let y=oe(z);if(y!==-1){let R=g.splice(y,1);return C(R[0]),R}function C(R){let h=adminConfig.admin_path("category/deleteCategory"),x={},A=ne();x.where={category_id:R.category_id,microsite_id:A.microsite_id},_.value||(x.where.platform_id=A.platform_id),se(h,x).then(()=>{Toast.show(o,"Deleted successfully!")}).catch(O=>{Toast.show(o,O.data.message,2e3)})}},pe=z=>{let y=oe(z.category_id),C=!1;return y===-1&&(I[z.category_id.toString()]={index:y,info:z},setTimeout(function(){R()},1),C=g.push(z)),C;function R(){let h=adminConfig.admin_path("category/insertCategory"),x=ne(),A={};const O={...z};delete O.name,O.platform_id=x.platform_id,A.data={category_id:O.category_id,platform_id:x.platform_id,site_id:x.site_id},A.applicableForAllPlatforms=_.value,se(h,A).then(()=>{Toast.show(o,"Saved...")}).catch(G=>{Toast.show(o,G.data.message,2e3)})}},P=(z="add")=>{document.querySelectorAll(".js_category").forEach(function(C){C.classList[z]("module-drop-eager")})},d=()=>{nextTick(function(){document.querySelectorAll(".js_category").forEach(function(C){Sortable.create(C,{animation:200,filter:".js_delete",group:{name:"droppable",put:"modulesBox"},onFilter:function(R){let h=R.item,x=R.target,A=h.getAttribute("data-category-id");Sortable.utils.is(x,".js_delete")&&re(A)},onUpdate:function(){_e()}})});let y=document.getElementById("draggableItems");Sortable.create(y,{animation:200,draggable:".js_item",group:{name:"modulesBox",pull:"clone",revertClone:!0},sort:!1,ghostClass:".js_category",onEnd:function(C){let R=C.item,h=R.getAttribute("data-category-id");if(h){let x=q(h,"allSiteCategories"),A;x!==null&&(A=pe(x)),R.parentNode.removeChild(R),P("remove"),A===!1&&Toast.show(o,"Category is already added in this platform...")}},onStart:function(){P("add")}})})},D=()=>{let z=r.value,y=!1;z.length>0&&z.forEach(function(C){let R=C.category_id,h=C.lang.name||C.category_name,x=C.theme_id,A=C.cache_category,O={category_id:R,category_name:h,theme_id:x,cache_category:A,selected:y};g.push(O),I[R.toString()]=O}),z=b.value,z.length>0&&z.forEach(function(C){let R={category_id:C.category_id,category_name:C.name,theme_id:"",cache_category:"",selected:y};V.push(R)})},Q=(z="allCategories")=>(z==="allCategories"?g:V).length>10,X=(z="allCategories")=>{let y=z==="allCategories"?$.value:k.value,C=z==="allCategories"?g:V;return y!==""&&y!=null?(y=y.toLowerCase(),C.filter(function(R){let h=R.category_name.toLowerCase();return R.category_id.toString()===y.toString()||h.includes(y)})):C},te=(z,y)=>{E.value&&E.value.close(),p.theme_id=z.theme_id,p.category_id=z.category_id,p.cache_category=z.cache_category;const C=y.currentTarget.getBoundingClientRect();F.value={top:`${C.top}px`,left:`${C.left}px`},setTimeout(()=>{E.value&&(E.value.isOpen=!0,E.value.checkOverflow())},50)},ve=()=>{E.value&&E.value.close()},ge=()=>{let z=ne();delete z.category_id,z.microsite_id===0&&delete z.microsite_id;let y="category/settings";window.location.href=adminConfig.admin_path(y,z)},be=()=>{let z=p,y=oe(z.category_id);if(y!==-1){g[y].theme_id=z.theme_id,g[y].cache_category=z.cache_category,m.value=parseInt(z.category_id);let C={};C.where=ne(),C.data={cache_category:z.cache_category||"",theme_id:z.theme_id},C.applicableForAllPlatforms=_.value;let R=adminConfig.admin_path("category/updateThemeAndEtc");se(R,C).then(()=>{Toast.show(o,"Saved...")}).catch(h=>{Toast.show(o,h.data.message,2e3)})}ve()},fe=()=>{let z=adminConfig.admin_path("category/updateThemeForAllCategories"),y=X("allCategories");if(w.value!==""&&y.length>0){let C=ne();delete C.category_id,delete C.microsite_id;let R={data:{theme_id:w.value},where:C};Toast.show(o,"Please wait..."),se(z,R).then(h=>{if(h.data.error)Toast.show(o,h.data.message,5e3);else{Toast.show(o,"Saved");for(let x=0;x<y.length;x++)y[x].theme_id=w.value}}).catch(h=>{Toast.show(o,h.data.message,2e3)})}},xe=z=>{U.value?pe(z):Toast.show(o,"You don't have permission",{error:!0})},ue=()=>{D(),U.value&&d()};return onMounted(()=>{ue()}),(z,y)=>(openBlock(),createElementBlock("div",_hoisted_1$u,[withDirectives(createBaseVNode("div",_hoisted_2$p,[withDirectives(createBaseVNode("div",_hoisted_3$n,[withDirectives(createBaseVNode("select",{"onUpdate:modelValue":y[0]||(y[0]=C=>s.value=C),class:"bg-gray-50 border border-gray-200 text-gray-700 text-sm rounded-xl focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 block w-full px-4 py-3 outline-none transition-all shadow-inner cursor-pointer h-[46px]",onChange:y[1]||(y[1]=C=>ge())},[y[14]||(y[14]=createBaseVNode("option",{value:"0"},"Select a MicroSite",-1)),(openBlock(!0),createElementBlock(Fragment,null,renderList(u.value,C=>(openBlock(),createElementBlock("option",{key:C.id,value:C.id},toDisplayString(C.name),9,_hoisted_4$m))),128))],544),[[vModelSelect,s.value]])],512),[[vShow,N.value]]),withDirectives(createBaseVNode("div",_hoisted_5$i,[withDirectives(createBaseVNode("select",{"onUpdate:modelValue":y[2]||(y[2]=C=>f.value=C),class:"bg-gray-50 border border-gray-200 text-gray-700 text-sm rounded-xl focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 block w-full px-4 py-3 outline-none transition-all shadow-inner cursor-pointer h-[46px]",onChange:y[3]||(y[3]=C=>ge())},[y[15]||(y[15]=createBaseVNode("option",{value:""},"Select a Platform",-1)),(openBlock(!0),createElementBlock(Fragment,null,renderList(l.value,C=>(openBlock(),createElementBlock("option",{key:C.id,value:C.id},toDisplayString(C.name),9,_hoisted_6$h))),128))],544),[[vModelSelect,f.value]])],512),[[vShow,t.value]]),withDirectives(createBaseVNode("div",_hoisted_7$g,[createBaseVNode("label",_hoisted_8$g,[withDirectives(createBaseVNode("input",{"onUpdate:modelValue":y[4]||(y[4]=C=>_.value=C),type:"checkbox",class:"w-5 h-5 text-blue-600 rounded border-gray-300 focus:ring-blue-500/20 cursor-pointer transition-all"},null,512),[[vModelCheckbox,_.value]]),y[16]||(y[16]=createBaseVNode("div",{class:"flex flex-col items-start whitespace-nowrap select-none"},[createBaseVNode("span",{class:"text-[10px] font-black text-gray-600 uppercase tracking-widest leading-none group-hover:text-blue-600 transition-colors"},"Global Sync"),createBaseVNode("span",{class:"text-[9px] font-bold text-gray-400 uppercase italic mt-1 leading-none"},"All Platforms")],-1))])],512),[[vShow,t.value]])],512),[[vShow,N.value||t.value]]),U.value?createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_9$f,[...y[17]||(y[17]=[createBaseVNode("div",{class:"bg-amber-50 border border-amber-100 text-amber-700 px-6 py-4 rounded-lg flex items-center gap-3 shadow-sm font-bold text-sm"},[createBaseVNode("i",{class:"fa fa-lock text-lg text-amber-400"}),createBaseVNode("span",null,"Read-only access mode enabled.")],-1)])])),createBaseVNode("div",_hoisted_10$d,[createBaseVNode("div",_hoisted_11$c,[createBaseVNode("div",_hoisted_12$c,[createBaseVNode("div",_hoisted_13$a,[y[19]||(y[19]=createBaseVNode("div",{class:"flex items-center gap-3"},[createBaseVNode("div",{class:"h-8 w-1 bg-green-500 rounded-full"}),createBaseVNode("h3",{class:"text-base font-black text-gray-800 tracking-tight uppercase tracking-widest"},"Active Categories")],-1)),M.value?(openBlock(),createElementBlock("button",{key:0,class:"p-2 hover:bg-gray-200 rounded-lg transition-colors text-gray-400 hover:text-gray-900 shadow-sm",onClick:y[5]||(y[5]=C=>v.value=!v.value),title:"Global Theme Update"},[...y[18]||(y[18]=[createBaseVNode("i",{class:"fa fa-ellipsis-v"},null,-1)])])):createCommentVNode("",!0)]),v.value?(openBlock(),createElementBlock("div",_hoisted_14$a,[createBaseVNode("div",_hoisted_15$a,[y[21]||(y[21]=createBaseVNode("p",{class:"text-[11px] font-black text-red-700 uppercase leading-snug"},[createBaseVNode("i",{class:"fa fa-exclamation-triangle mr-1 text-red-500"}),createTextVNode(" Critical: Global Theme Override ")],-1)),createBaseVNode("div",_hoisted_16$8,[withDirectives(createBaseVNode("select",{"onUpdate:modelValue":y[6]||(y[6]=C=>w.value=C),class:"flex-1 bg-white border border-red-200 text-sm rounded-xl px-4 py-2.5 outline-none focus:ring-4 focus:ring-red-500/10 shadow-sm font-bold text-red-900",onChange:y[7]||(y[7]=C=>fe())},[y[20]||(y[20]=createBaseVNode("option",{value:""},"Select Theme for ALL categories",-1)),(openBlock(!0),createElementBlock(Fragment,null,renderList(n.value,C=>(openBlock(),createElementBlock("option",{key:C.id,value:C.id},toDisplayString(C.name),9,_hoisted_17$7))),128))],544),[[vModelSelect,w.value]]),createBaseVNode("button",{onClick:y[8]||(y[8]=C=>v.value=!1),class:"text-xs font-black text-red-400 hover:text-red-700 transition-colors uppercase tracking-widest px-4 border border-red-100 rounded-xl hover:bg-red-100/50"},"Cancel")])])])):createCommentVNode("",!0),Q("allCategories")?(openBlock(),createElementBlock("div",_hoisted_18$6,[createBaseVNode("div",_hoisted_19$5,[y[22]||(y[22]=createBaseVNode("i",{class:"fa fa-search absolute left-4 top-1/2 -translate-y-1/2 text-gray-400 group-focus-within:text-blue-500 transition-colors"},null,-1)),withDirectives(createBaseVNode("input",{"onUpdate:modelValue":y[9]||(y[9]=C=>$.value=C),class:"w-full bg-white border border-gray-200 rounded-xl pl-12 pr-4 py-3 text-sm focus:ring-4 focus:ring-blue-500/10 focus:border-blue-500 outline-none transition-all shadow-sm",placeholder:"Search by ID or Category name...",type:"text"},null,512),[[vModelText,$.value]])])])):createCommentVNode("",!0),createBaseVNode("ul",{ref_key:"droppableArea",ref:j,class:"flex-1 divide-y divide-gray-50 min-h-[200px] overflow-y-auto max-h-[600px] js_category scrollbar-thin scrollbar-thumb-gray-200"},[(openBlock(!0),createElementBlock(Fragment,null,renderList(X("allCategories"),C=>(openBlock(),createElementBlock("li",{key:C.category_id,"data-cache-category":C.cache_category,"data-category-id":C.category_id,"data-theme-id":C.theme_id,class:"px-8 py-5 flex items-center justify-between hover:bg-gray-50/50 transition-colors group js_item cursor-pointer"},[createBaseVNode("div",_hoisted_21$5,[createBaseVNode("div",_hoisted_22$5,[y[23]||(y[23]=createBaseVNode("i",{class:"fa fa-grip-vertical text-gray-300 group-hover:text-blue-400 transition-colors cursor-grab active:cursor-grabbing text-lg"},null,-1)),withDirectives(createBaseVNode("input",{"onUpdate:modelValue":R=>C.selected=R,type:"checkbox",class:"w-5 h-5 text-blue-600 rounded border-gray-300 shadow-sm"},null,8,_hoisted_23$5),[[vShow,i.value],[vModelCheckbox,C.selected]])]),createBaseVNode("div",_hoisted_24$5,[createBaseVNode("div",_hoisted_25$5,[createBaseVNode("span",_hoisted_26$5,toDisplayString(C.category_name),1),createBaseVNode("span",_hoisted_27$5,"#"+toDisplayString(C.category_id),1)]),createBaseVNode("div",_hoisted_28$5,[C.theme_id>0?(openBlock(),createElementBlock("div",_hoisted_29$5,[y[24]||(y[24]=createBaseVNode("div",{class:"w-1.5 h-1.5 rounded-full bg-blue-500 shadow-sm shadow-blue-500/50"},null,-1)),createBaseVNode("span",_hoisted_30$5,toDisplayString(L(C.theme_id)),1)])):(openBlock(),createElementBlock("div",_hoisted_31$4,[...y[25]||(y[25]=[createBaseVNode("div",{class:"w-1.5 h-1.5 rounded-full bg-rose-400"},null,-1),createBaseVNode("span",{class:"text-[10px] font-black text-rose-400 uppercase tracking-widest"},"No Theme",-1)])])),C.cache_category?(openBlock(),createElementBlock("div",_hoisted_32$4,[y[26]||(y[26]=createBaseVNode("div",{class:"w-1 h-1 rounded-full bg-gray-200"},null,-1)),createBaseVNode("span",_hoisted_33$4,toDisplayString(C.cache_category),1)])):createCommentVNode("",!0)])])]),createBaseVNode("div",_hoisted_34$4,[W.value?(openBlock(),createElementBlock("button",_hoisted_35$4,[...y[27]||(y[27]=[createBaseVNode("i",{class:"fa fa-trash-o js_delete"},null,-1)])])):createCommentVNode("",!0),U.value?(openBlock(),createElementBlock("button",{key:1,class:"p-2.5 text-gray-300 hover:text-blue-600 hover:bg-blue-100/50 hover:shadow-inner rounded-xl transition-all shadow-sm",title:"Configure Category",onClick:withModifiers(R=>te(C,R),["stop"])},[...y[28]||(y[28]=[createBaseVNode("i",{class:"fa fa-ellipsis-v"},null,-1)])],8,_hoisted_36$3)):createCommentVNode("",!0)])],8,_hoisted_20$5))),128))],512)])]),createBaseVNode("div",_hoisted_37$3,[createBaseVNode("div",_hoisted_38$3,[y[30]||(y[30]=createStaticVNode('<div class="px-8 py-6 bg-gray-50/50 border-b border-gray-100"><div class="space-y-1"><div class="flex items-center gap-3"><div class="h-8 w-1 bg-blue-500 rounded-full"></div><h3 class="text-base font-black text-gray-800 tracking-tight uppercase tracking-widest">Available Pool</h3></div><div class="text-xs text-gray-500 pl-4 italic">Drag and drop to the &quot;Active Categories&quot; section or click on + Icon to add</div></div></div>',1)),Q("allSiteCategories")?(openBlock(),createElementBlock("div",_hoisted_39$3,[createBaseVNode("div",_hoisted_40$3,[y[29]||(y[29]=createBaseVNode("i",{class:"fa fa-search absolute left-4 top-1/2 -translate-y-1/2 text-gray-400"},null,-1)),withDirectives(createBaseVNode("input",{"onUpdate:modelValue":y[10]||(y[10]=C=>k.value=C),class:"w-full bg-white border border-gray-200 rounded-xl pl-12 pr-4 py-3 text-sm focus:ring-4 focus:ring-blue-500/10 shadow-sm outline-none",placeholder:"Find category...",type:"text"},null,512),[[vModelText,k.value]])])])):createCommentVNode("",!0),createBaseVNode("ul",_hoisted_41$3,[(openBlock(!0),createElementBlock(Fragment,null,renderList(X("allSiteCategories"),C=>(openBlock(),createElementBlock("li",{key:C.category_id,"data-category-id":C.category_id,class:"px-8 py-5 flex items-center justify-between hover:bg-blue-50/30 transition-all group js_item cursor-grab active:cursor-grabbing"},[createBaseVNode("div",_hoisted_43$3,[createBaseVNode("div",_hoisted_44$3,toDisplayString(C.category_id),1),createBaseVNode("span",_hoisted_45$3,toDisplayString(C.category_name),1)]),createBaseVNode("i",{class:"fa fa-plus text-xs text-blue-300 group-hover:text-blue-600 transition-all translate-x-2 opacity-0 group-hover:opacity-100 group-hover:translate-x-0",onClick:R=>xe(C)},null,8,_hoisted_46$3)],8,_hoisted_42$3))),128))])])])]),createBaseVNode("div",{style:normalizeStyle(F.value),class:"fixed pointer-events-none z-[9999]"},[createVNode(HcPopover,{ref_key:"globalPopover",ref:E,position:"left-start",title:"Configuration Tool"},{content:withCtx(()=>[createBaseVNode("div",_hoisted_47$3,[createBaseVNode("div",_hoisted_48$3,[y[32]||(y[32]=createBaseVNode("label",{class:"text-[10px] font-black text-blue-500 ml-1 uppercase tracking-tighter"},"Target Theme Overlay",-1)),withDirectives(createBaseVNode("select",{"onUpdate:modelValue":y[11]||(y[11]=C=>p.theme_id=C),class:"w-full bg-white border border-gray-200 text-sm rounded-lg px-5 py-4 outline-none focus:ring-4 focus:ring-blue-500/10 transition-all shadow-sm cursor-pointer hover:border-blue-300"},[y[31]||(y[31]=createBaseVNode("option",{value:""},"Select a Theme",-1)),(openBlock(!0),createElementBlock(Fragment,null,renderList(n.value,C=>(openBlock(),createElementBlock("option",{key:C.id,value:C.id},toDisplayString(C.name),9,_hoisted_49$3))),128))],512),[[vModelSelect,p.theme_id]])]),createBaseVNode("div",_hoisted_50$3,[y[33]||(y[33]=createBaseVNode("label",{class:"text-[10px] font-black text-blue-500 ml-1 uppercase tracking-tighter"},"Custom Cache Partition",-1)),withDirectives(createBaseVNode("input",{"onUpdate:modelValue":y[12]||(y[12]=C=>p.cache_category=C),class:"w-full bg-white border border-gray-200 text-sm rounded-lg px-5 py-4 outline-none focus:ring-4 focus:ring-blue-500/10 transition-all shadow-sm hover:border-blue-300",placeholder:"e.g. partition_01"},null,512),[[vModelText,p.cache_category]])]),createBaseVNode("button",{class:"w-full py-4 bg-blue-600 hover:bg-blue-700 text-white font-black rounded-lg shadow-lg shadow-blue-500/30 transition-all hover:scale-[1.02] active:scale-95 text-[10px] uppercase tracking-widest mt-2",onClick:y[13]||(y[13]=C=>be())}," Save ")])]),default:withCtx(()=>[y[34]||(y[34]=createBaseVNode("div",{class:"w-1 h-1"},null,-1))]),_:1},512)],4)]))}},_sfc_main$u={__name:"downloads",props:["dataControllerName"],setup(S){const e=S,o=()=>{window.location.href=adminConfig.admin_path(e.dataControllerName+"/download")};return(i,l)=>(openBlock(),createElementBlock("button",{onClick:l[0]||(l[0]=b=>o()),type:"button",class:"px-6 py-2.5 bg-gray-900 hover:bg-black text-white text-xs font-black uppercase tracking-widest rounded-xl shadow-lg transition-all active:scale-95 flex items-center gap-2"},[l[2]||(l[2]=createBaseVNode("i",{class:"fa fa-download text-[10px] opacity-70"},null,-1)),renderSlot(i.$slots,"default",{},()=>[l[1]||(l[1]=createTextVNode("Download",-1))])]))}},_hoisted_1$t={class:"flex flex-col lg:flex-row gap-4 items-start"},_hoisted_2$o={class:"w-full lg:flex-1"},_hoisted_3$m=["accept"],_hoisted_4$l={key:0,class:"mt-1.5 px-2 text-[11px] text-red-500 font-semibold flex items-center"},_hoisted_5$h={class:"w-full lg:flex-[2]"},_hoisted_6$g={key:0,class:"mt-1.5 px-2 text-[11px] text-red-500 font-semibold flex items-center"},_hoisted_7$f={class:"w-full lg:w-auto mt-0 lg:mt-5"},_hoisted_8$f={key:0,class:"mt-6"},_hoisted_9$e={key:1,class:"mt-4"},_sfc_main$t={__name:"file-uploader",props:["dataTitle","dataAccept"],setup(S){const e=S,o=ref(null),i=ref(null);ref(e.dataTitle);const l=reactive({tags:"",files:""}),b=ref(!1),n=reactive({files:!1,tags:!1}),u=ref(0),r=ref(""),f=ref("alert-success"),s=ref(typeof e.dataAccept<"u"?e.dataAccept:"image/*"),$=()=>{n.files=!1,n.tags=!1},k=()=>{l.tags="",l.files="",n.tags=!1,n.files=!1,u.value=0,o.value?.reset()},_=(p,g)=>{r.value=p,g?f.value="alert-danger":(f.value="alert-success",setTimeout(()=>{r.value=""},2e3))},m=()=>{let p=adminConfig.admin_path("gallery/uploadFiles"),g=w=>{u.value=Math.round(w.loaded*100/w.total)},I=w=>{EventBus.emit("gallery-image-uploaded",w.data),k(),_(w.data.message,!1)},V=w=>{_(w.response?.statusText||w.message||"There is some error while uploading. Please try again.",!0),k()};r.value="";let B=i.value.files,M=!1;if(B.length===0&&(n.files=!0,M=!0),l.tags===""&&(n.tags=!0,M=!0),M)return!1;b.value=!0;let v=new FormData;for(let w=0;w<B.length;w++)v.append("images[]",B[w]);v.append("tags",l.tags),v.append("groupName","content"),v.append("mediaType",s.value.replace(/[^a-zA-Z,]/g,"")),v.append("_csrf",window.HashtagCms?.csrfToken||window.Laravel?.csrfToken),axios.post(p,v,{headers:{"Content-Type":"multipart/form-data"},onUploadProgress:w=>{g(w)}}).then(w=>{I(w)}).catch(w=>{V(w)}).finally(()=>{b.value=!1})};return(p,g)=>(openBlock(),createElementBlock(Fragment,null,[createBaseVNode("form",{ref_key:"uploaderForm",ref:o,name:"uploaderForm",enctype:"multipart/form-data"},[withDirectives(createBaseVNode("div",_hoisted_1$t,[createBaseVNode("div",_hoisted_2$o,[g[2]||(g[2]=createBaseVNode("label",{class:"block text-[10px] font-bold text-gray-400 uppercase tracking-widest mb-1 ml-1"},"Select Files",-1)),createBaseVNode("input",{type:"file",ref_key:"allFilesC",ref:i,name:"msFiles__[]",multiple:"",class:"block w-full text-sm text-gray-500 file:mr-4 file:py-2 file:px-4 file:rounded-lg file:border-0 file:text-xs file:font-bold file:bg-blue-50 file:text-blue-700 hover:file:bg-blue-100 transition-all cursor-pointer border border-gray-200 rounded-xl p-1.5 bg-white shadow-sm",required:"",onChange:$,accept:s.value},null,40,_hoisted_3$m),n.files?(openBlock(),createElementBlock("div",_hoisted_4$l,[...g[1]||(g[1]=[createBaseVNode("i",{class:"fa fa-exclamation-circle mr-1"},null,-1),createTextVNode(" Please select at least one file. ",-1)])])):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_5$h,[createVNode(HcInput,{modelValue:l.tags,"onUpdate:modelValue":g[0]||(g[0]=I=>l.tags=I),label:"Tags (Comma separated)",placeholder:"e.g. hero-banner, background, v2",variant:n.tags?"danger":"",onChange:$},null,8,["modelValue","variant"]),n.tags?(openBlock(),createElementBlock("div",_hoisted_6$g,[...g[3]||(g[3]=[createBaseVNode("i",{class:"fa fa-exclamation-circle mr-1"},null,-1),createTextVNode(" Please enter keywords to search later. ",-1)])])):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_7$f,[createVNode(HcButton,{variant:"primary",onClick:m,icon:"fa fa-upload",class:"w-full lg:w-auto mt-2"},{default:withCtx(()=>[...g[4]||(g[4]=[createTextVNode(" Upload ",-1)])]),_:1})])],512),[[vShow,!b.value]])],512),b.value?(openBlock(),createElementBlock("div",_hoisted_8$f,[createVNode(HcProgress,{percentage:u.value,"show-label":"",label:"Uploading in progress..."},null,8,["percentage"])])):createCommentVNode("",!0),r.value!==""?(openBlock(),createElementBlock("div",_hoisted_9$e,[createVNode(HcAlert,{variant:f.value==="alert-danger"?"danger":"success",dismissible:""},{default:withCtx(()=>[createTextVNode(toDisplayString(r.value),1)]),_:1},8,["variant"])])):createCommentVNode("",!0)],64))}},_hoisted_1$s={class:"max-w-4xl mx-auto space-y-8"},_hoisted_2$n=["action"],_hoisted_3$l={class:"p-8 space-y-6"},_hoisted_4$k={class:"grid grid-cols-1 md:grid-cols-2 gap-6 pb-6 border-b border-gray-100"},_hoisted_5$g={class:"space-y-1.5"},_hoisted_6$f={class:"mt-2 ml-1"},_hoisted_7$e={class:"inline-flex items-center gap-2 cursor-pointer group"},_hoisted_8$e={key:0,class:"px-2 text-[11px] text-red-500 font-bold"},_hoisted_9$d={class:"space-y-1.5"},_hoisted_10$c={key:0,class:"px-2 text-[11px] text-red-500 font-bold"},_hoisted_11$b={class:"space-y-1.5"},_hoisted_12$b={key:0,class:"px-2 text-[11px] text-red-500 font-bold"},_hoisted_13$9={class:"space-y-1.5"},_hoisted_14$9={class:"flex items-center justify-between"},_hoisted_15$9={class:"flex items-center gap-2 cursor-pointer"},_hoisted_16$7={key:0,class:"px-2 text-[11px] text-red-500 font-bold"},_hoisted_17$6={class:"space-y-6"},_hoisted_18$5={class:"space-y-4"},_hoisted_19$4={class:"space-y-1.5"},_hoisted_20$4=["value"],_hoisted_21$4=["innerHTML"],_hoisted_22$4={key:0,class:"px-2 text-[11px] text-red-500 font-bold"},_hoisted_23$4={class:"space-y-1.5"},_hoisted_24$4={class:"bg-blue-50/20 p-6 rounded-lg border border-blue-100 space-y-4 animate-fadeIn"},_hoisted_25$4={class:"grid grid-cols-1 md:grid-cols-2 gap-4"},_hoisted_26$4={class:"space-y-1.5"},_hoisted_27$4=["value"],_hoisted_28$4={class:"space-y-1.5"},_hoisted_29$4={class:"space-y-1.5"},_hoisted_30$4={class:"bg-purple-50/30 p-6 rounded-lg border border-purple-100 space-y-4 animate-fadeIn"},_hoisted_31$3={class:"space-y-4"},_hoisted_32$3={class:"space-y-1.5"},_hoisted_33$3={class:"space-y-1.5"},_hoisted_34$3=["value"],_hoisted_35$3={class:"grid grid-cols-2 md:grid-cols-4 gap-4 bg-gray-50/30 p-4 rounded-xl border border-gray-100"},_hoisted_36$2={class:"flex flex-col items-center justify-center p-3 bg-white rounded-xl border border-gray-100 cursor-pointer hover:border-blue-500 transition-all gap-2 group shadow-sm"},_hoisted_37$2={class:"flex flex-col items-center justify-center p-3 bg-white rounded-xl border border-gray-100 cursor-pointer hover:border-blue-500 transition-all gap-2 group shadow-sm"},_hoisted_38$2={class:"flex flex-col items-center justify-center p-3 bg-white rounded-xl border border-gray-100 cursor-pointer hover:border-blue-500 transition-all gap-2 group shadow-sm"},_hoisted_39$2={class:"flex flex-col items-center justify-center p-3 bg-white rounded-xl border border-gray-100 cursor-pointer hover:border-blue-500 transition-all gap-2 group shadow-sm"},_hoisted_40$2={class:"space-y-6"},_hoisted_41$2={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},_hoisted_42$2={class:"space-y-1.5"},_hoisted_43$2={class:"space-y-1.5"},_hoisted_44$2={class:"space-y-1.5"},_hoisted_45$2={class:"bg-red-50/50 p-6 rounded-lg border border-red-100 border-dashed space-y-4"},_hoisted_46$2={class:"flex items-center gap-3 cursor-pointer group"},_hoisted_47$2={class:"px-8 py-10 bg-gray-50/50 border-t border-gray-100 flex flex-col items-center gap-6"},_hoisted_48$2={key:0,class:"w-full max-w-xl bg-red-50 text-red-700 px-6 py-4 rounded-lg border border-red-100 text-sm font-black flex items-center gap-4 animate-shake shadow-sm"},_hoisted_49$2={class:"flex flex-col sm:flex-row items-center gap-4 w-full justify-center"},_hoisted_50$2=["href"],_sfc_main$s={__name:"frontend-module-creator",props:["dataControllerName","dataBackUrl","dataSite","dataResults","dataActionPerformed","dataDataTypes","dataDataTypesInfo","dataFormAction","dataSiteId"],setup(S){const e=S,o=getCurrentInstance(),i=[{name:"param",value:"param"},{name:"data",value:"data"}],l=ref(!1),b=ref(SafeJsonParse(e.dataResults,[])),n=ref(SafeJsonParse(e.dataSite,[])),u=reactive({show:!1}),r=ref(SafeJsonParse(e.dataDataTypes,[])),f=[{name:"GET",value:"GET"},{name:"POST",value:"POST"}],s=reactive(new Form({id:0,name:"",icon_css:"",alias:"",view_name:"",cache_group:"",data_type:"",method_type:"",data_handler:"",data_key_map:"",query_statement:"",query_as:"",description:"",site_id:1,is_seo_module:0,individual_cache:0,shared:0,update_inAllSites:0,is_mandatory:0,service_params:"",actionPerformed:e.dataActionPerformed,backURL:e.dataBackUrl,headers:"",live_edit:0,linked_module:""})),$=reactive({}),k=ref(""),_=ref(SafeJsonParse(e.dataDataTypesInfo,[])),m=ref(e.dataFormAction),p=computed(()=>s.data_type?.toLowerCase().indexOf("queryservice")>-1),g=computed(()=>s.data_type?.toLowerCase().indexOf("service")>-1),I=computed(()=>e.dataActionPerformed==="edit"&&n.value.length>1),V=E=>{let t=document.querySelector("#addEditFrm");for(let N in E){let U=E[N];typeof s[N]<"u"&&typeof s[N]!="function"&&(s[N]=U);let W=t&&t[N]||document.getElementById(N);if(W){let L=W.type;(L==="checkbox"||L==="radio")&&L!=="submit"&&(s[N]=U===1||U===!0||U==="1")}}},B=()=>{PasteFromClipboard().then(E=>{IsJson(s.name)&&V(SafeJsonParse(s.name,{}))}).catch(E=>{console.log("unable to paste")})},M=()=>{if(l.value===!1){let E=s.name;s.alias=("MODULE_"+E.toUpperCase()).replace(/\s/g,"_"),s.view_name=E.toLowerCase().replace(/\s/g,"-")}},v=E=>{u.show=E!==""&&(E.indexOf("Service")>-1||E.indexOf("service")>-1)},w=E=>{for(let t in E.errors)E.errors.hasOwnProperty(t)&&($[t]=E.errors[t][0]);k.value=E.message},H=E=>{let t=E.target.getAttribute("name");t&&($[t]=""),k.value!==""&&(k.value="")},F=E=>{const t=N=>N?.toString()==="true"||N?.toString()==="1";t(E.isSaved)?(k.value="",Toast.show(o.proxy,"Saved..."),t(E.isSaved)&&(window.location.href=E.backURL)):(Toast.show(o.proxy,"There is some error..."),k.value=E.message)},j=()=>{s.is_seo_module=s.is_seo_module?1:0,s.individual_cache=s.individual_cache?1:0,s.update_inAllSites=s.update_inAllSites?1:0,s.is_mandatory=s.is_mandatory?1:0,s.shared=s.shared?1:0,s.live_edit=s.live_edit?1:0,s.service_params=s.service_params||"",s.post(m.value).then(E=>{F(E)}).catch(E=>{w(E)})};return onMounted(()=>{e.dataActionPerformed==="edit"?V(b.value):s.site_id=e.dataSiteId}),(E,t)=>(openBlock(),createElementBlock("div",_hoisted_1$s,[createBaseVNode("form",{id:"addEditFrm",action:m.value,class:"bg-white shadow-lg rounded-lg border border-gray-100 overflow-hidden",method:"post",role:"form",onKeyup:t[23]||(t[23]=N=>H(N)),onSubmit:withModifiers(j,["prevent"])},[t[54]||(t[54]=createBaseVNode("div",{class:"px-8 py-6 border-b border-gray-100 bg-gray-50/50"},[createBaseVNode("h2",{class:"text-2xl font-black text-gray-800 tracking-tight"},"Frontend Module Configuration"),createBaseVNode("p",{class:"text-sm text-gray-500 mt-1"},"Configure layout, data handlers, and cache settings")],-1)),createBaseVNode("div",_hoisted_3$l,[createBaseVNode("div",_hoisted_4$k,[createBaseVNode("div",_hoisted_5$g,[t[25]||(t[25]=createBaseVNode("label",{class:"text-xs font-black text-gray-400 uppercase tracking-widest ml-1"},"Module Name",-1)),withDirectives(createBaseVNode("input",{onBlur:B,id:"name","onUpdate:modelValue":t[0]||(t[0]=N=>s.name=N),class:"bg-white border border-gray-200 text-gray-700 text-sm rounded-xl focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 block w-full px-4 py-3 outline-none transition-all shadow-sm",name:"name",placeholder:"e.g. Header Module",required:"",type:"text"},null,544),[[vModelText,s.name]]),createBaseVNode("div",_hoisted_6$f,[createBaseVNode("label",_hoisted_7$e,[withDirectives(createBaseVNode("input",{"onUpdate:modelValue":t[1]||(t[1]=N=>l.value=N),type:"checkbox",onClick:t[2]||(t[2]=N=>M()),class:"w-4 h-4 text-blue-600 border-gray-300 rounded focus:ring-blue-500"},null,512),[[vModelCheckbox,l.value]]),t[24]||(t[24]=createBaseVNode("span",{class:"text-xs font-bold text-gray-400 group-hover:text-blue-600 transition-colors"},"Apply Conventions",-1))])]),$.name?(openBlock(),createElementBlock("div",_hoisted_8$e,toDisplayString($.name),1)):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_9$d,[t[26]||(t[26]=createBaseVNode("label",{class:"text-xs font-black text-gray-400 uppercase tracking-widest ml-1"},"Alias",-1)),withDirectives(createBaseVNode("input",{id:"alias","onUpdate:modelValue":t[3]||(t[3]=N=>s.alias=N),class:"bg-white border border-gray-200 text-gray-700 text-sm rounded-xl focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 block w-full px-4 py-3 outline-none transition-all shadow-sm",name:"alias",placeholder:"MODULE_ALIAS_HERE",required:"",type:"text"},null,512),[[vModelText,s.alias]]),$.alias?(openBlock(),createElementBlock("div",_hoisted_10$c,toDisplayString($.alias),1)):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_11$b,[t[27]||(t[27]=createBaseVNode("label",{class:"text-xs font-black text-gray-400 uppercase tracking-widest ml-1"},"View Name",-1)),withDirectives(createBaseVNode("input",{id:"view_name","onUpdate:modelValue":t[4]||(t[4]=N=>s.view_name=N),class:"bg-white border border-gray-200 text-gray-700 text-sm rounded-xl focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 block w-full px-4 py-3 outline-none transition-all shadow-sm",name:"view_name",placeholder:"e.g. components/header",required:"",type:"text"},null,512),[[vModelText,s.view_name]]),$.view_name?(openBlock(),createElementBlock("div",_hoisted_12$b,toDisplayString($.view_name),1)):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_13$9,[createBaseVNode("div",_hoisted_14$9,[t[29]||(t[29]=createBaseVNode("label",{class:"text-xs font-black text-gray-400 uppercase tracking-widest ml-1"},"Cache Settings",-1)),createBaseVNode("label",_hoisted_15$9,[withDirectives(createBaseVNode("input",{"onUpdate:modelValue":t[5]||(t[5]=N=>s.individual_cache=N),type:"checkbox",class:"w-4 h-4 text-orange-500 border-gray-300 rounded focus:ring-orange-500"},null,512),[[vModelCheckbox,s.individual_cache]]),t[28]||(t[28]=createBaseVNode("span",{class:"text-[10px] font-black text-orange-400 uppercase tracking-widest"},"Individual?",-1))])]),withDirectives(createBaseVNode("input",{id:"cache_group","onUpdate:modelValue":t[6]||(t[6]=N=>s.cache_group=N),class:"bg-white border border-gray-200 text-gray-700 text-sm rounded-xl focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 block w-full px-4 py-3 outline-none transition-all shadow-sm",maxlength:"60",name:"cache_group",placeholder:"Cache group name"},null,512),[[vModelText,s.cache_group]]),$.cache_group?(openBlock(),createElementBlock("div",_hoisted_16$7,toDisplayString($.cache_group),1)):createCommentVNode("",!0)])]),createBaseVNode("div",_hoisted_17$6,[t[33]||(t[33]=createBaseVNode("div",{class:"flex items-center gap-3"},[createBaseVNode("div",{class:"h-8 w-1 bg-green-500 rounded-full"}),createBaseVNode("h3",{class:"text-lg font-black text-gray-800"},"Data & Logic")],-1)),createBaseVNode("div",_hoisted_18$5,[createBaseVNode("div",_hoisted_19$4,[t[31]||(t[31]=createBaseVNode("label",{class:"text-xs font-black text-gray-400 uppercase tracking-widest ml-1"},"Data Type",-1)),withDirectives(createBaseVNode("select",{id:"data_type","onUpdate:modelValue":t[7]||(t[7]=N=>s.data_type=N),class:"bg-white border border-gray-200 text-gray-700 text-sm rounded-xl focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 block w-full px-4 py-3 outline-none transition-all shadow-sm cursor-pointer",onChange:t[8]||(t[8]=N=>v(s.data_type))},[t[30]||(t[30]=createBaseVNode("option",{value:""},"Select Data Type",-1)),(openBlock(!0),createElementBlock(Fragment,null,renderList(r.value,N=>(openBlock(),createElementBlock("option",{key:N,value:N},toDisplayString(N),9,_hoisted_20$4))),128))],544),[[vModelSelect,s.data_type]]),withDirectives(createBaseVNode("div",{class:"mt-3 bg-blue-50 border border-blue-100 rounded-xl p-4 text-xs text-blue-700 leading-relaxed shadow-sm",innerHTML:_.value[s.data_type]||""},null,8,_hoisted_21$4),[[vShow,s.data_type!=""&&_.value[s.data_type]]]),$.data_type?(openBlock(),createElementBlock("div",_hoisted_22$4,toDisplayString($.data_type),1)):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_23$4,[t[32]||(t[32]=createBaseVNode("label",{class:"text-xs font-black text-gray-400 uppercase tracking-widest ml-1"},"Data Handler",-1)),withDirectives(createBaseVNode("textarea",{id:"data_handler","onUpdate:modelValue":t[9]||(t[9]=N=>s.data_handler=N),class:"bg-gray-50 border border-gray-200 text-gray-700 text-sm rounded-xl focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 block w-full px-4 py-3 outline-none transition-all shadow-inner font-mono min-h-[100px]",name:"data_handler",placeholder:"e.g. SELECT * FROM table WHERE site_id=:site_id"},null,512),[[vModelText,s.data_handler]])])])]),withDirectives(createBaseVNode("div",_hoisted_24$4,[t[38]||(t[38]=createBaseVNode("h4",{class:"text-xs font-black text-blue-400 uppercase tracking-widest border-b border-blue-100 pb-2"},"External Service Integration",-1)),createBaseVNode("div",_hoisted_25$4,[createBaseVNode("div",_hoisted_26$4,[t[35]||(t[35]=createBaseVNode("label",{class:"text-[10px] font-black text-gray-500 ml-1"},"HTTP METHOD",-1)),withDirectives(createBaseVNode("select",{"onUpdate:modelValue":t[10]||(t[10]=N=>s.method_type=N),class:"bg-white border border-gray-200 text-xs rounded-lg block w-full px-3 py-2"},[t[34]||(t[34]=createBaseVNode("option",{value:""},"Select",-1)),(openBlock(),createElementBlock(Fragment,null,renderList(f,N=>createBaseVNode("option",{key:N.value,value:N.value},toDisplayString(N.name),9,_hoisted_27$4)),64))],512),[[vModelSelect,s.method_type]])]),createBaseVNode("div",_hoisted_28$4,[t[36]||(t[36]=createBaseVNode("label",{class:"text-[10px] font-black text-gray-500 ml-1"},"QUERY PARAMS",-1)),withDirectives(createBaseVNode("input",{"onUpdate:modelValue":t[11]||(t[11]=N=>s.service_params=N),class:"bg-white border border-gray-200 text-xs rounded-lg block w-full px-3 py-2",placeholder:"param1=val&param2=val"},null,512),[[vModelText,s.service_params]])])]),createBaseVNode("div",_hoisted_29$4,[t[37]||(t[37]=createBaseVNode("label",{class:"text-[10px] font-black text-gray-500 ml-1 uppercase"},"Custom Headers (JSON)",-1)),withDirectives(createBaseVNode("textarea",{"onUpdate:modelValue":t[12]||(t[12]=N=>s.headers=N),placeholder:'{"Authorization": "Bearer..."}',class:"bg-white border border-gray-200 text-xs rounded-lg block w-full px-3 py-2 font-mono h-20"},null,512),[[vModelText,s.headers]])])],512),[[vShow,g.value]]),withDirectives(createBaseVNode("div",_hoisted_30$4,[t[42]||(t[42]=createBaseVNode("h4",{class:"text-xs font-black text-purple-400 uppercase tracking-widest border-b border-purple-100 pb-2"},"Query Engine Properties",-1)),createBaseVNode("div",_hoisted_31$3,[createBaseVNode("div",_hoisted_32$3,[t[39]||(t[39]=createBaseVNode("label",{class:"text-[10px] font-black text-purple-600 ml-1"},"RAW SQL QUERY",-1)),withDirectives(createBaseVNode("textarea",{"onUpdate:modelValue":t[13]||(t[13]=N=>s.query_statement=N),class:"bg-white border border-purple-100 text-xs rounded-lg block w-full px-3 py-2 font-mono h-24 shadow-sm",placeholder:"SELECT..."},null,512),[[vModelText,s.query_statement]])]),createBaseVNode("div",_hoisted_33$3,[t[41]||(t[41]=createBaseVNode("label",{class:"text-[10px] font-black text-purple-600 ml-1"},"RESULT MAPPING",-1)),withDirectives(createBaseVNode("select",{"onUpdate:modelValue":t[14]||(t[14]=N=>s.query_as=N),class:"bg-white border border-purple-100 text-xs rounded-lg block w-full px-3 py-2 shadow-sm"},[t[40]||(t[40]=createBaseVNode("option",{value:""},"Select Mapping",-1)),(openBlock(),createElementBlock(Fragment,null,renderList(i,N=>createBaseVNode("option",{key:N.value,value:N.value},toDisplayString(N.name),9,_hoisted_34$3)),64))],512),[[vModelSelect,s.query_as]])])])],512),[[vShow,p.value]]),createBaseVNode("div",_hoisted_35$3,[createBaseVNode("label",_hoisted_36$2,[withDirectives(createBaseVNode("input",{"onUpdate:modelValue":t[15]||(t[15]=N=>s.is_seo_module=N),type:"checkbox",class:"w-5 h-5 text-blue-600 rounded border-gray-300"},null,512),[[vModelCheckbox,s.is_seo_module]]),t[43]||(t[43]=createBaseVNode("span",{class:"text-[10px] font-black text-gray-400 group-hover:text-gray-900 uppercase tracking-tighter"},"SEO Module",-1))]),createBaseVNode("label",_hoisted_37$2,[withDirectives(createBaseVNode("input",{"onUpdate:modelValue":t[16]||(t[16]=N=>s.is_mandatory=N),type:"checkbox",class:"w-5 h-5 text-blue-600 rounded border-gray-300"},null,512),[[vModelCheckbox,s.is_mandatory]]),t[44]||(t[44]=createBaseVNode("span",{class:"text-[10px] font-black text-gray-400 group-hover:text-gray-900 uppercase tracking-tighter"},"Mandatory",-1))]),createBaseVNode("label",_hoisted_38$2,[withDirectives(createBaseVNode("input",{"onUpdate:modelValue":t[17]||(t[17]=N=>s.shared=N),type:"checkbox",class:"w-5 h-5 text-blue-600 rounded border-gray-300"},null,512),[[vModelCheckbox,s.shared]]),t[45]||(t[45]=createBaseVNode("span",{class:"text-[10px] font-black text-gray-400 group-hover:text-gray-900 uppercase tracking-tighter"},"Shared",-1))]),createBaseVNode("label",_hoisted_39$2,[withDirectives(createBaseVNode("input",{"onUpdate:modelValue":t[18]||(t[18]=N=>s.live_edit=N),type:"checkbox",class:"w-5 h-5 text-blue-600 rounded border-gray-300"},null,512),[[vModelCheckbox,s.live_edit]]),t[46]||(t[46]=createBaseVNode("span",{class:"text-[10px] font-black text-gray-400 group-hover:text-gray-900 uppercase tracking-tighter"},"Live Edit",-1))])]),createBaseVNode("div",_hoisted_40$2,[createBaseVNode("div",_hoisted_41$2,[createBaseVNode("div",_hoisted_42$2,[t[47]||(t[47]=createBaseVNode("label",{class:"text-xs font-black text-gray-400 uppercase tracking-widest ml-1"},"Linked Module Alias",-1)),withDirectives(createBaseVNode("input",{"onUpdate:modelValue":t[19]||(t[19]=N=>s.linked_module=N),class:"bg-white border border-gray-200 text-sm rounded-xl block w-full px-4 py-3 outline-none shadow-sm focus:ring-2 focus:ring-blue-500/20",placeholder:"ALIAS_OF_TARGET"},null,512),[[vModelText,s.linked_module]])]),createBaseVNode("div",_hoisted_43$2,[t[48]||(t[48]=createBaseVNode("label",{class:"text-xs font-black text-gray-400 uppercase tracking-widest ml-1"},"Data Key Map",-1)),withDirectives(createBaseVNode("input",{"onUpdate:modelValue":t[20]||(t[20]=N=>s.data_key_map=N),class:"bg-white border border-gray-200 text-sm rounded-xl block w-full px-4 py-3 outline-none shadow-sm focus:ring-2 focus:ring-blue-500/20",placeholder:":id, :site_id..."},null,512),[[vModelText,s.data_key_map]])])]),createBaseVNode("div",_hoisted_44$2,[t[49]||(t[49]=createBaseVNode("label",{class:"text-xs font-black text-gray-400 uppercase tracking-widest ml-1"},"Contextual Description",-1)),withDirectives(createBaseVNode("textarea",{"onUpdate:modelValue":t[21]||(t[21]=N=>s.description=N),class:"bg-white border border-gray-200 text-sm rounded-xl block w-full px-4 py-3 min-h-[80px] shadow-sm focus:ring-2 focus:ring-blue-500/20 outline-none",placeholder:"Purpose of this module..."},null,512),[[vModelText,s.description]])])]),withDirectives(createBaseVNode("div",_hoisted_45$2,[createBaseVNode("label",_hoisted_46$2,[withDirectives(createBaseVNode("input",{"onUpdate:modelValue":t[22]||(t[22]=N=>s.update_inAllSites=N),type:"checkbox",class:"w-6 h-6 text-red-600 border-red-300 rounded focus:ring-red-500"},null,512),[[vModelCheckbox,s.update_inAllSites]]),t[50]||(t[50]=createBaseVNode("span",{class:"text-sm font-black text-red-700"},"Sync Changes Across All Sites",-1))]),t[51]||(t[51]=createBaseVNode("div",{class:"bg-red-100/50 text-[11px] text-red-700 p-4 rounded-xl border border-red-100 leading-relaxed font-bold"},[createBaseVNode("i",{class:"fa fa-exclamation-triangle mr-1"}),createTextVNode(" WARNING: This action will overwrite module metadata on multiple sites. Use only for global structural changes. ")],-1))],512),[[vShow,I.value]])]),createBaseVNode("div",_hoisted_47$2,[k.value!==""?(openBlock(),createElementBlock("div",_hoisted_48$2,[t[52]||(t[52]=createBaseVNode("i",{class:"fa fa-exclamation-triangle text-2xl"},null,-1)),createTextVNode(" "+toDisplayString(k.value),1)])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_49$2,[t[53]||(t[53]=createBaseVNode("button",{class:"w-full sm:w-auto px-16 py-4.5 bg-blue-600 hover:bg-blue-700 text-white font-black rounded-lg shadow-lg shadow-blue-500/20 transition-all hover:-translate-y-1 active:scale-95 text-lg",name:"submit",type:"submit"}," Save Module ",-1)),createBaseVNode("a",{href:S.dataBackUrl,class:"w-full sm:w-auto px-12 py-4.5 bg-white border border-gray-200 text-gray-500 font-bold rounded-lg hover:bg-gray-100 hover:text-gray-700 transition-all text-center"}," Back to List ",8,_hoisted_50$2)])])],40,_hoisted_2$n)]))}},_hoisted_1$r={class:"relative min-w-[180px]"},_hoisted_2$m=["value"],_sfc_main$r={__name:"global-site-button",props:["dataSites","dataCurrentSite","dataSupportedSites","dataIsAdmin"],setup(S){const e=S,o=ref(SafeJsonParse(e.dataSites,[])),i=ref(e.dataCurrentSite=="undefined"?1:parseInt(e.dataCurrentSite));ref(SafeJsonParse(e.dataSupportedSites,[]));const l=(n=!1)=>{let u=new SecureLS,r=u.get("allSites");if(r.length===0||n===!0){let f=adminConfig.admin_path("site/getSitesForUsers");axios.get(f,{withCredentials:!1}).then(function(s){o.value=s.data,u.set("allSites",JSON.stringify(o.value))}).catch(function(s){console.log(s)})}else o.value=SafeJsonParse(r,[])},b=()=>{let n=adminConfig.admin_path(`ajax/setSiteId/${i.value}`);axios.get(n).then(function(u){window.location.href=window.location.pathname}).catch(function(u){console.log(u)})};return onMounted(()=>{l()}),(n,u)=>(openBlock(),createElementBlock("div",_hoisted_1$r,[withDirectives(createBaseVNode("select",{onClick:u[0]||(u[0]=r=>l(!0)),name:"site_combo",id:"site_combo",onChange:b,"onUpdate:modelValue":u[1]||(u[1]=r=>i.value=r),class:"bg-white border border-gray-200 text-gray-700 text-[11px] font-black uppercase tracking-widest rounded-xl focus:ring-4 focus:ring-blue-500/10 focus:border-blue-500 block w-full px-4 py-2.5 outline-none transition-all shadow-sm cursor-pointer hover:border-blue-300"},[(openBlock(!0),createElementBlock(Fragment,null,renderList(o.value,r=>(openBlock(),createElementBlock("option",{key:r.id,value:r.id},toDisplayString(r.name),9,_hoisted_2$m))),128))],544),[[vModelSelect,i.value]])]))}},_hoisted_1$q={class:"flex items-center gap-2"},_hoisted_2$l={class:"capitalize font-black text-gray-800 tracking-tight"},_hoisted_3$k={class:"max-h-[500px] overflow-y-auto scrollbar-thin scrollbar-thumb-gray-200 rounded-lg border border-gray-100 shadow-inner bg-white"},_hoisted_4$j={class:"w-full text-left border-collapse"},_hoisted_5$f={class:"divide-y divide-gray-50"},_hoisted_6$e={key:0,class:"hover:bg-gray-50/50 transition-colors group"},_hoisted_7$d={class:"px-6 py-4 text-[10px] font-black text-gray-400 group-hover:text-blue-500 uppercase tracking-widest bg-gray-50/30 w-1/3 leading-relaxed"},_hoisted_8$d={class:"px-6 py-4 text-xs font-bold text-gray-600 leading-normal"},_hoisted_9$c=["innerHTML"],_hoisted_10$b=["textContent"],_hoisted_11$a={key:0},_hoisted_12$a={colspan:"2",class:"px-6 py-6 bg-red-50 text-red-600 text-[10px] font-black uppercase tracking-widest text-center italic"},_sfc_main$q={__name:"info-popup",props:["dataModel","dataModuleRelations","dataId"],setup(S,{expose:e}){const o=S,i=getCurrentInstance(),l=ref(null),b=ref(o.dataModel==="undefined"||o.dataModel===""?null:o.dataModel);ref(o.dataModuleRelations==="undefined"||o.dataModuleRelations===""?"":o.dataModuleRelations),ref(o.dataId==="undefined"||o.dataId===""?0:parseInt(o.dataId));const n=ref([]),u=ref(""),r=ref(!0),f=ref([]),s=p=>f.value.indexOf(p)>=0,$=(p,g)=>{if(!r.value)return g;if(p==="id"&&r.value){let I=`edit/${g}`;return I=adminConfig.admin_path(`${b.value}/${I}`),`<a href="${I}">${g}</a>`}return g},k=()=>{l.value?.open(),EventBus.emit("info-popup-open")},_=()=>{l.value?.close(),EventBus.emit("info-popup-close")};return e({showInfo:(p,g,I=[],V=!0)=>{r.value=V.toString()==="true",f.value=I,b.value=p,Loader.show(i.proxy),axios.get(adminConfig.get("base_path")+`/ajax/getInfo/${p}/${g}`).then(function(B){u.value="",n.value=B.data.results,B.data.error===!0&&(u.value=B.data.message),k(),Loader.hide(i.proxy)}).catch(function(B){Toast.show(i.proxy,B.message),Loader.hide(i.proxy)})},open:k,close:_}),(p,g)=>(openBlock(),createBlock(_sfc_main$x,{ref_key:"infoModal",ref:l,"data-show-footer":"true"},{title:withCtx(()=>[createBaseVNode("div",_hoisted_1$q,[g[1]||(g[1]=createBaseVNode("i",{class:"fa fa-info-circle text-blue-500"},null,-1)),createBaseVNode("span",_hoisted_2$l,toDisplayString(b.value)+" Details",1)])]),content:withCtx(()=>[createBaseVNode("div",_hoisted_3$k,[createBaseVNode("table",_hoisted_4$j,[createBaseVNode("tbody",_hoisted_5$f,[(openBlock(!0),createElementBlock(Fragment,null,renderList(n.value,(I,V)=>(openBlock(),createElementBlock(Fragment,{key:V},[s(V)?createCommentVNode("",!0):(openBlock(),createElementBlock("tr",_hoisted_6$e,[createBaseVNode("td",_hoisted_7$d,toDisplayString(V.replace(/_/g," ")),1),createBaseVNode("td",_hoisted_8$d,[V==="id"?(openBlock(),createElementBlock("span",{key:0,innerHTML:$(V,I),class:"text-blue-600 hover:text-blue-800 transition-colors"},null,8,_hoisted_9$c)):(openBlock(),createElementBlock("span",{key:1,textContent:toDisplayString($(V,I))},null,8,_hoisted_10$b))])]))],64))),128)),u.value!==""?(openBlock(),createElementBlock("tr",_hoisted_11$a,[createBaseVNode("td",_hoisted_12$a,[g[2]||(g[2]=createBaseVNode("i",{class:"fa fa-exclamation-triangle mr-1"},null,-1)),createTextVNode(" "+toDisplayString(u.value),1)])])):createCommentVNode("",!0)])])])]),footer:withCtx(()=>[createBaseVNode("button",{class:"px-10 py-3 border border-gray-200 hover:bg-gray-50 text-gray-400 hover:text-gray-900 text-[10px] font-black rounded-xl transition-all active:scale-95 uppercase tracking-widest shadow-sm",onClick:g[0]||(g[0]=I=>_())},"Dismiss View")]),_:1},512))}},_hoisted_1$p={class:"flex flex-col md:flex-row items-center justify-between gap-6 pb-8 border-b border-gray-100 bg-white/50 backdrop-blur-sm sticky top-0 z-40 px-2 pt-2"},_hoisted_2$k={class:"flex flex-wrap items-center gap-4"},_hoisted_3$j={class:"relative group"},_hoisted_4$i=["value"],_hoisted_5$e={class:"relative group"},_hoisted_6$d=["value"],_hoisted_7$c={class:"relative group"},_hoisted_8$c=["value"],_hoisted_9$b={class:"flex items-center gap-2 px-4 py-2 bg-blue-50 rounded-xl border border-blue-100/50"},_hoisted_10$a={class:"flex items-center gap-3"},_hoisted_11$9={key:0,class:"flex items-center gap-2 p-1.5 bg-gray-50 rounded-lg border border-gray-100"},_hoisted_12$9={key:0,class:"py-6"},_hoisted_13$8={class:"bg-red-50 border border-red-100 p-6 rounded-lg shadow-sm animate-fadeIn"},_hoisted_14$8={class:"space-y-2"},_hoisted_15$8=["innerHTML"],_hoisted_16$6={class:"flex flex-col xl:flex-row gap-10 mt-8"},_hoisted_17$5={class:"flex-1"},_hoisted_18$4={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8 homepage-modules"},_hoisted_19$3={class:"non-selectable shadow-lg rounded-lg bg-white border border-gray-100 overflow-hidden flex flex-col h-full transition-all hover:shadow-lg hover:shadow-blue-500/10 group"},_hoisted_20$3=["onDblclick"],_hoisted_21$3={class:"flex items-center gap-3"},_hoisted_22$3=["onClick"],_hoisted_23$3={class:"flex items-center gap-2"},_hoisted_24$3=["onClick"],_hoisted_25$3=["onClick"],_hoisted_26$3=["data-hook-id"],_hoisted_27$3=["data-module-id"],_hoisted_28$3={class:"flex items-center gap-3"},_hoisted_29$3=["onClick"],_hoisted_30$3=["data-hook-id"],_hoisted_31$2={key:1,class:"h-[120px] border-2 border-dashed border-gray-100 rounded-lg flex items-center justify-center bg-gray-50/30"},_hoisted_32$2={key:0,class:"px-6 py-3 bg-gray-50/30 border-t border-gray-50 flex justify-end opacity-0 group-hover:opacity-100 transition-opacity"},_hoisted_33$2=["onClick","data-hook-id"],_hoisted_34$2={key:0,class:"w-full xl:w-80 flex flex-col gap-6"},_hoisted_35$2={class:"bg-white rounded-lg shadow-lg border border-gray-100 p-6 space-y-6 sticky top-24"},_hoisted_36$1={class:"relative group"},_hoisted_37$1={id:"draggableModules",class:"space-y-2 max-h-[600px] overflow-y-auto pr-2 scrollbar-thin scrollbar-thumb-gray-200"},_hoisted_38$1=["data-module-id"],_hoisted_39$1={class:"flex items-center gap-3"},_hoisted_40$1=["innerHTML"],_hoisted_41$1={class:"space-y-8 p-4"},_hoisted_42$1={class:"space-y-4"},_hoisted_43$1={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 bg-gray-50/50 p-6 rounded-lg border border-gray-100 shadow-inner"},_hoisted_44$1={key:0,class:"space-y-1"},_hoisted_45$1=["value"],_hoisted_46$1={key:1,class:"space-y-1"},_hoisted_47$1=["value"],_hoisted_48$1={key:2,class:"space-y-1"},_hoisted_49$1=["value"],_hoisted_50$1={class:"space-y-1"},_hoisted_51$1=["value"],_hoisted_52$1={class:"space-y-4"},_hoisted_53$1={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4 bg-blue-50/20 p-6 rounded-lg border border-blue-100/50 shadow-inner"},_hoisted_54$1={key:0,class:"space-y-1"},_hoisted_55$1=["value"],_hoisted_56$1={key:1,class:"space-y-1"},_hoisted_57$1=["value"],_hoisted_58$1={key:2,class:"space-y-1"},_hoisted_59$1=["value"],_hoisted_60$1={class:"space-y-1"},_hoisted_61$1=["value"],_hoisted_62$1={class:"bg-amber-50 border border-amber-100 rounded-lg p-6"},_hoisted_63$1={class:"flex items-center gap-4"},_hoisted_64$1={class:"flex items-center gap-2 text-[10px] font-black text-blue-600 uppercase tracking-widest animate-pulse"},_hoisted_65$1={class:"p-4 space-y-6"},_hoisted_66$1={class:"bg-gray-50 p-6 rounded-lg border border-gray-100 shadow-inner"},_hoisted_67$1={class:"flex items-center gap-4 cursor-pointer group",title:"Delete from other platforms too"},_hoisted_68$1={class:"flex items-center gap-4"},_sfc_main$p={__name:"homepage",props:["dataCategories","dataMicrosites","dataPlatforms","dataSiteId","dataMicrositeId","dataCategoryId","dataPlatformId","dataSiteInfo","dataHookInfo","dataAllModules","dataCategoryModules","dataCategoryInfo","dataThemeInfo","dataUserRights","dataIsModuleReadonly","dataAllSites"],setup(S){const e=S,o=getCurrentInstance(),i=ref(null),l=ref(null),b=ref(null),n=ref(null),u=reactive({}),r=reactive({}),f=(T,a)=>{T&&(u[a]=T)},s=(T,a)=>{T&&(r[a]=T)},$=reactive({}),k=ref(SafeJsonParse(e.dataCategories,[])),_=ref(SafeJsonParse(e.dataMicrosites,[])),m=ref(SafeJsonParse(e.dataPlatforms,[])),p=ref(typeof e.dataSiteId>"u"||e.dataSiteId===""?1:parseInt(e.dataSiteId)),g=ref(typeof e.dataMicrositeId>"u"||e.dataMicrositeId===""?0:parseInt(e.dataMicrositeId)),I=ref(typeof e.dataPlatformId>"u"||e.dataPlatformId===""?1:parseInt(e.dataPlatformId)),V=ref(typeof e.dataCategoryId>"u"||e.dataCategoryId===""?0:parseInt(e.dataCategoryId));ref(SafeJsonParse(e.dataSiteInfo,[]));const B=ref(SafeJsonParse(e.dataHookInfo,[])),M=ref(SafeJsonParse(e.dataAllModules,[])),v=ref(SafeJsonParse(e.dataCategoryModules,[])),w=ref(SafeJsonParse(e.dataCategoryInfo,[])),H=ref(SafeJsonParse(e.dataThemeInfo,[])),F=reactive([]),j=reactive({}),E=reactive({}),t=reactive([]),N=ref(!1),U=ref(""),W=ref(!1),L=reactive({site_id:0,microsite_id:0,platform_id:0,category_id:0}),q=reactive({site_id:0,microsite_id:0,platform_id:0,category_id:0}),oe=ref(!1),ne=reactive({draggable:null}),se=ref(SafeJsonParse(e.dataUserRights,[])),_e=ref(e.dataIsModuleReadonly==="1"),re=ref(SafeJsonParse(e.dataAllSites,[])),pe=computed(()=>re.value.length>1),P=computed(()=>_.value.length>0),d=computed(()=>m.value.length>1),D=computed(()=>H.value&&H.value.id),Q=computed(()=>"btn btn-success btn-form-submit"+(N.value===!0?"":" disabled")),X=computed(()=>se.value.indexOf("edit")>=0&&_e.value===!1),te=computed(()=>se.value.indexOf("delete")>=0&&_e.value===!1),ve=computed(()=>"modal-lg"),ge=computed(()=>$[L.site_id]||[]),be=computed(()=>$[q.site_id]||[]),fe=computed(()=>t.length>0),xe=computed(()=>{let T=U.value;return T!==""&&T!=null?(T=T.toLowerCase(),M.value.filter(a=>{let c=a.alias.toLowerCase(),J=a.name.toLowerCase();return a.id.toString()===T||c.includes(T)||J.includes(T)})):M.value}),ue=T=>{t.push({message:T})},z=(T,a=!1)=>{let c="";typeof T=="string"?c=T:c=T&&T.data&&T.data.message?T.data.message:"Unknown error!",Toast.show(o.proxy,c,5e3),a&&setTimeout(()=>{window.location.reload()},1e3)},y=T=>j[T],C=(T,a)=>{j[T]=a},R=(T,a="alias")=>{let c=B.value;for(let J=0;J<c.length;J++){let Y=c[J];if(Y[a]===T)return Y}return null},h=T=>{if(E[T])return E[T];let a=null;for(let c=0;c<M.value.length;c++){let J=M.value[c];if(J.id.toString()===T.toString()){E[T]=J,a=J;break}}return a},x=(T,a)=>F[T]?F[T].modules.findIndex(c=>a.id===c.id):-1,A=(T,a)=>x(T,a)===-1?(F[T].modules.push(a),F[T].modules.length):!1,O=()=>({site_id:p.value,microsite_id:g.value,platform_id:I.value,category_id:V.value}),G=T=>{if(T===void 0)return N.value;N.value=T},K=(T,a)=>(Loader.show(o.proxy),new Promise((c,J)=>{axios.post(T,a).then(c).catch(Y=>J(SafeErrorData(Y))).finally(()=>Loader.hide(o.proxy))})),ee=T=>{F.push(T)},Z=()=>{if(D.value){let a=H.value.skeleton,c=/(%{cms.+}%)/gim,J=a.match(c);if(J&&J.length>0){let Y=0;J.forEach(de=>{let ae=de.replace("%{cms.","").replace("}%","").split("."),ye=ae[0],Ee=ae[1];if(ye==="hook"){let we=R(Ee);we!==null?(ee({name:Ee,modules:[],info:we}),C(we.id,{info:we,hookIndex:Y}),Y++):console.error("@parseTheme "+Ee+". You need to add in your site")}})}else ue(`There is no hook defined in for this theme (${H.value.name}})`)}else ue("There is no theme available for this category")},le=()=>{let T=v.value;if(T.length>0)for(let a=0;a<T.length;a++){let c=T[a],J=y(c.hook_id);try{let Y=h(c.module_id);Y&&A(J.hookIndex,Y)}catch(Y){console.error("@populateModules: "+Y.message),z("@populateModules: "+Y.message)}}else Toast.show(o.proxy,"There is no module added for this category. Drag from the right panel to the left boxes. ",5e3)},ie=(T="add")=>{document.querySelectorAll(".js_hook_modules").forEach(c=>{c.classList[T]("module-drop-eager"),c.closest("div.js_modules").classList[T]("p-0","m-0")})},me=()=>{if(!X.value)return!1;let T=document.getElementById("draggableModules");ne.draggable=Sortable.create(T,{animation:200,draggable:".js_item",group:{name:"modulesBox"},sort:!1,onEnd:a=>{let c=a.to,J=a.item,Y=c.getAttribute("data-hook-id"),de=J.getAttribute("data-module-id");if(Y){let ce=y(Y),ae=h(de),ye=A(ce.hookIndex,ae);J.parentNode&&J.parentNode.removeChild(J),ie("remove"),ye===!1&&Toast.show(o.proxy,"Module is already added in this hook...")}G(!0)},onStart:()=>ie("add")})},he=(T,a="module_id",c=null)=>{let J;if(Object.prototype.toString.call(T)==="[object Object]"?J=T:(J=O(),J[a]=parseInt(T)),c!==null){J.hook_id=parseInt(c);let Y=y(c),de=h(T),ce=x(Y.hookIndex,de);F[Y.hookIndex]&&F[Y.hookIndex].modules.splice(ce,1)}G(!0)},$e=()=>{if(!X.value)return!1;nextTick(()=>{document.querySelectorAll(".js_modules").forEach(a=>{Sortable.create(a,{animation:200,filter:".js_delete",group:{name:"droppable",put:"modulesBox"},onFilter:c=>{let J=c.item,Y=c.target,ce=J.parentNode.getAttribute("data-hook-id"),ae=J.getAttribute("data-module-id");Sortable.utils.is(Y,".js_delete")&&he(ae,"module_id",ce)},onUpdate:()=>G(!0)})}),me()})},ke=()=>{re.value.length>0?(L.site_id=re.value[0].id,q.site_id=p.value):(L.site_id=p.value,q.site_id=p.value),L.platform_id=I.value,q.platform_id=I.value,q.category_id=V.value},Ne=()=>{let T=re.value.length;if(T>0)for(let a=0;a<T;a++){let c=re.value[a];$[c.id]=c.category}ke()},Me=()=>{if(k.value.length===0&&ue("No category found!"),w.value.length===0&&ue("There is a mismatch in site default category. Please fix that."),D.value)Z(),le(),$e(),Ne();else{let T=adminConfig.admin_path("category/settings",{platform_id:I.value});ue(`This category/platform/theme is not available in category_site table.
                         You need to drag and drop in <a href='${T}'>category settings</a>.`),ue("Dont' forget the set the theme there.")}},Te=()=>{if(G()===!1)return!1;let T={},a=document.querySelectorAll(".js_hook_modules"),c=[];a.forEach(J=>{let Y=J.querySelectorAll("li.js_item"),de=J.getAttribute("data-hook-id");if(Y.length>0){let ce=[];for(let ae=0;ae<Y.length;ae++){let ye=Y[ae].getAttribute("data-module-id");ce.push({module_id:ye,position:ae+1})}c.push({hook_id:de,modules:ce})}}),c.length>0&&(T.data=c,T.where=O(),T.applicableForAllPlatforms=!1,K(adminConfig.admin_path("homepage/saveSettings"),T).then(()=>{Toast.show(o.proxy,"Saved..."),G(!1)}).catch(J=>z(J)))},Ve=()=>{let T=O();delete T.site_id,T.microsite_id===0&&delete T.microsite_id,window.location.href=adminConfig.admin_path("homepage/ui",T)},Ae=T=>{let a=y(T);F[a.hookIndex]&&(F[a.hookIndex].modules=[]),he(T,"hook_id")},Ce=T=>{T?Modal.open(o.proxy,"deleteBox"):Modal.close(o.proxy,"deleteBox")},Ie=()=>{Ce(!1),F.forEach(T=>T.modules=[]),he(V.value,"category_id")},Be=(T=!0)=>{T?(ke(),Modal.open(o.proxy,"copyBox")):Modal.close(o.proxy,"copyBox")},Le=()=>{oe.value=!0;let T={fromData:L,toData:q};K(adminConfig.admin_path("homepage/copyData"),T).then(a=>{a.data.error?z(a.data.message):a.data.success&&(Be(!1),Toast.show(o.proxy,"Copied. Reloading..."),window.location.reload()),oe.value=!1}).catch(a=>{Be(!1),oe.value=!1,z(a)})},Se=(T,a)=>i.value?.showInfo(T,a),De=T=>{let a=r[T];a&&a.classList.toggle("hide")},Pe=(T,a)=>{let c=u[T];const J=c?.classList.contains("fixed"),Y=de=>{F.forEach(ce=>{let ae=u[ce.info.id];ae&&(de?(ae.classList.add("hide"),ae.classList.remove("fixed")):(ae.classList.remove("hide"),ae.classList.remove("fixed")))}),n.value&&(de?n.value.classList.add("hide"):n.value.classList.remove("hide"))};J?Y(!1):(Y(!0),c?.classList.remove("hide"),c?.classList.add("fixed"))},Fe=T=>T.modules&&T.modules.length>0;return onMounted(()=>Me()),(T,a)=>(openBlock(),createElementBlock(Fragment,null,[createBaseVNode("div",_hoisted_1$p,[createBaseVNode("div",_hoisted_2$k,[withDirectives(createBaseVNode("div",_hoisted_3$j,[withDirectives(createBaseVNode("select",{"onUpdate:modelValue":a[0]||(a[0]=c=>g.value=c),class:"bg-white border border-gray-200 text-gray-700 text-[11px] font-black uppercase tracking-widest rounded-xl focus:ring-4 focus:ring-blue-500/10 focus:border-blue-500 block w-full px-5 py-3 outline-none transition-all shadow-sm cursor-pointer hover:border-blue-300",onChange:a[1]||(a[1]=c=>Ve())},[a[24]||(a[24]=createBaseVNode("option",{value:"0"},"Select a MicroSite",-1)),(openBlock(!0),createElementBlock(Fragment,null,renderList(_.value,c=>(openBlock(),createElementBlock("option",{key:c.id,value:c.id},toDisplayString(c.name),9,_hoisted_4$i))),128))],544),[[vModelSelect,g.value]])],512),[[vShow,P.value]]),createBaseVNode("div",_hoisted_5$e,[withDirectives(createBaseVNode("select",{"onUpdate:modelValue":a[2]||(a[2]=c=>V.value=c),class:"bg-white border border-gray-200 text-gray-700 text-[11px] font-black uppercase tracking-widest rounded-xl focus:ring-4 focus:ring-blue-500/10 focus:border-blue-500 block w-full px-5 py-3 outline-none transition-all shadow-sm cursor-pointer hover:border-blue-300",onChange:a[3]||(a[3]=c=>Ve())},[a[25]||(a[25]=createBaseVNode("option",null,"Select a Category",-1)),(openBlock(!0),createElementBlock(Fragment,null,renderList(k.value,c=>(openBlock(),createElementBlock("option",{key:c.category_id,value:c.category_id},toDisplayString(c.name),9,_hoisted_6$d))),128))],544),[[vModelSelect,V.value]])]),withDirectives(createBaseVNode("div",_hoisted_7$c,[withDirectives(createBaseVNode("select",{"onUpdate:modelValue":a[4]||(a[4]=c=>I.value=c),class:"bg-white border border-gray-200 text-gray-700 text-[11px] font-black uppercase tracking-widest rounded-xl focus:ring-4 focus:ring-blue-500/10 focus:border-blue-500 block w-full px-5 py-3 outline-none transition-all shadow-sm cursor-pointer hover:border-blue-300",onChange:a[5]||(a[5]=c=>Ve())},[a[26]||(a[26]=createBaseVNode("option",null,"Select a Platform",-1)),(openBlock(!0),createElementBlock(Fragment,null,renderList(m.value,c=>(openBlock(),createElementBlock("option",{key:c.id,value:c.id},toDisplayString(c.name),9,_hoisted_8$c))),128))],544),[[vModelSelect,I.value]])],512),[[vShow,d.value]]),withDirectives(createBaseVNode("div",_hoisted_9$b,[a[27]||(a[27]=createBaseVNode("span",{class:"text-[9px] font-black text-blue-400 uppercase tracking-widest"},"Active Theme",-1)),createBaseVNode("span",{class:"text-xs font-black text-blue-700 cursor-help underline decoration-blue-300/50 decoration-2 underline-offset-4 hover:decoration-blue-500 transition-all",title:"Click to see theme info",onClick:a[6]||(a[6]=c=>Se("theme",H.value.id))},toDisplayString(H.value.name),1)],512),[[vShow,D.value]])]),createBaseVNode("div",_hoisted_10$a,[D.value?(openBlock(),createElementBlock("div",_hoisted_11$9,[te.value?(openBlock(),createElementBlock("button",{key:0,class:"w-12 h-12 flex items-center justify-center bg-red-50 text-red-500 hover:bg-red-500 hover:text-white rounded-xl transition-all shadow-sm hover:shadow-red-500/20 active:scale-95 group",title:"Delete All Modules form this category",type:"button",onClick:a[7]||(a[7]=c=>Ce(!0))},[...a[28]||(a[28]=[createBaseVNode("i",{class:"fa fa-trash-o text-lg"},null,-1)])])):createCommentVNode("",!0),createBaseVNode("button",{class:"w-12 h-12 flex items-center justify-center bg-white text-gray-400 hover:bg-blue-600 hover:text-white rounded-xl transition-all shadow-sm hover:shadow-blue-500/20 border border-gray-100 active:scale-95 group",title:"Copy Data From",type:"button",onClick:a[8]||(a[8]=c=>Be(!0))},[...a[29]||(a[29]=[createBaseVNode("i",{class:"fa fa-copy text-lg"},null,-1)])])])):createCommentVNode("",!0)])]),fe.value?(openBlock(),createElementBlock("div",_hoisted_12$9,[createBaseVNode("div",_hoisted_13$8,[createBaseVNode("ul",_hoisted_14$8,[(openBlock(!0),createElementBlock(Fragment,null,renderList(t,(c,J)=>(openBlock(),createElementBlock("li",{key:J,class:"flex items-center gap-3 text-red-700 text-xs font-black uppercase tracking-widest"},[a[30]||(a[30]=createBaseVNode("i",{class:"fa fa-exclamation-circle text-red-500"},null,-1)),createBaseVNode("span",{innerHTML:c.message},null,8,_hoisted_15$8)]))),128))])])])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_16$6,[createBaseVNode("div",_hoisted_17$5,[createBaseVNode("div",_hoisted_18$4,[(openBlock(!0),createElementBlock(Fragment,null,renderList(F,c=>(openBlock(),createElementBlock("div",{key:c.info.id,ref_for:!0,ref:J=>f(J,c.info.id),class:"flex flex-col"},[createBaseVNode("div",_hoisted_19$3,[createBaseVNode("div",{class:"px-6 py-4 bg-gray-50/50 border-b border-gray-100 flex items-center justify-between cursor-pointer select-none",onDblclick:J=>De(c.info.id)},[createBaseVNode("div",_hoisted_21$3,[createBaseVNode("a",{href:"javascript:void(0)",class:"text-xs font-black text-gray-800 uppercase tracking-widest hover:text-blue-600 transition-colors",onClick:J=>Se("hook",c.info.id)},toDisplayString(c.info.name),9,_hoisted_22$3)]),createBaseVNode("div",_hoisted_23$3,[createBaseVNode("button",{onClick:J=>Pe(c.info.id),class:"w-8 h-8 flex items-center justify-center text-gray-400 hover:text-blue-600 hover:bg-white rounded-lg transition-all"},[...a[31]||(a[31]=[createBaseVNode("i",{class:"fa fa-expand text-[10px]"},null,-1)])],8,_hoisted_24$3),createBaseVNode("button",{onClick:J=>De(c.info.id),class:"w-8 h-8 flex items-center justify-center text-gray-400 hover:text-blue-600 hover:bg-white rounded-lg transition-all"},[...a[32]||(a[32]=[createBaseVNode("i",{class:"fa fa-minus text-[10px]"},null,-1)])],8,_hoisted_25$3)])],40,_hoisted_20$3),createBaseVNode("div",{ref_for:!0,ref:J=>s(J,c.info.id),class:"flex-1 p-4 bg-white min-h-[150px] js_modules overflow-hidden"},[createBaseVNode("ul",{"data-hook-id":c.info.id,class:"space-y-2 js_modules js_hook_modules min-h-[100px]"},[c.modules.length>0?(openBlock(!0),createElementBlock(Fragment,{key:0},renderList(c.modules,J=>(openBlock(),createElementBlock("li",{key:J.id,"data-module-id":J.id,class:"px-4 py-3 bg-gray-50/50 hover:bg-white border border-transparent hover:border-blue-100/50 rounded-xl flex items-center justify-between group/item transition-all js_item cursor-grab active:cursor-grabbing"},[createBaseVNode("div",_hoisted_28$3,[a[33]||(a[33]=createBaseVNode("i",{class:"fa fa-grip-lines text-[10px] text-gray-200 group-hover/item:text-blue-400 transition-colors"},null,-1)),createBaseVNode("a",{href:"javascript:void(0)",onClick:Y=>Se("module",J.id),class:"text-xs font-bold text-gray-600 group-hover/item:text-blue-900 transition-colors"},toDisplayString(J.name),9,_hoisted_29$3)]),te.value?(openBlock(),createElementBlock("button",{key:0,"data-hook-id":c.info.id,class:"text-gray-300 hover:text-red-500 transition-colors js_delete",title:"Delete this module from the hook"},[...a[34]||(a[34]=[createBaseVNode("i",{class:"fa fa-trash-o text-xs"},null,-1)])],8,_hoisted_30$3)):createCommentVNode("",!0)],8,_hoisted_27$3))),128)):(openBlock(),createElementBlock("li",_hoisted_31$2,[...a[35]||(a[35]=[createBaseVNode("span",{class:"text-[10px] font-black text-gray-300 uppercase tracking-widest text-center px-4"},"Ready for Modules",-1)])]))],8,_hoisted_26$3)],512),Fe(c)&&te.value?(openBlock(),createElementBlock("div",_hoisted_32$2,[createBaseVNode("button",{onClick:J=>Ae(c.info.id),class:"text-[10px] font-black text-red-400 hover:text-red-600 uppercase tracking-widest flex items-center gap-2 js_delete_from_hook","data-hook-id":c.info.id},[...a[36]||(a[36]=[createBaseVNode("i",{class:"fa fa-trash-o"},null,-1),createTextVNode(" Flush Hook ",-1)])],8,_hoisted_33$2)])):createCommentVNode("",!0)])]))),128)),D.value?(openBlock(),createElementBlock("div",{key:0,ref_key:"savePanel",ref:n,class:"col-span-full pt-12 flex justify-center pb-20"},[createBaseVNode("button",{class:normalizeClass([Q.value,"px-20 py-5 bg-blue-600 hover:bg-blue-700 text-white font-black rounded-lg shadow-lg shadow-blue-500/30 transition-all hover:-translate-y-1 active:scale-95 text-lg uppercase tracking-widest"]),type:"button",onClick:a[9]||(a[9]=c=>Te())}," Save Configuration ",2)],512)):createCommentVNode("",!0)])]),fe.value?createCommentVNode("",!0):(openBlock(),createElementBlock("div",_hoisted_34$2,[createBaseVNode("div",_hoisted_35$2,[a[40]||(a[40]=createStaticVNode('<div class="flex items-center gap-3"><div class="w-10 h-10 rounded-xl bg-blue-50 flex items-center justify-center text-blue-600"><i class="fa fa-cube"></i></div><div><h3 class="text-[10px] font-black text-gray-400 uppercase tracking-widest leading-none mb-1">Module Pool</h3><p class="text-xs text-gray-500 font-bold">Drag to Hooks</p></div></div>',1)),createBaseVNode("div",_hoisted_36$1,[a[37]||(a[37]=createBaseVNode("i",{class:"fa fa-search absolute left-4 top-1/2 -translate-y-1/2 text-gray-300 text-xs transition-colors group-focus-within:text-blue-500"},null,-1)),withDirectives(createBaseVNode("input",{"onUpdate:modelValue":a[10]||(a[10]=c=>U.value=c),class:"w-full bg-gray-50 border border-gray-100 rounded-xl pl-10 pr-4 py-3 text-xs font-bold outline-none focus:ring-4 focus:ring-blue-500/5 focus:border-blue-500 transition-all shadow-inner",placeholder:"Search components...",type:"text"},null,512),[[vModelText,U.value]])]),createBaseVNode("ul",_hoisted_37$1,[(openBlock(!0),createElementBlock(Fragment,null,renderList(xe.value,c=>(openBlock(),createElementBlock("li",{key:c.id,"data-module-id":c.id,class:"px-4 py-3 bg-white border border-gray-100 rounded-xl flex items-center justify-between group/pool hover:border-blue-200 hover:shadow-md transition-all cursor-grab active:cursor-grabbing js_item"},[createBaseVNode("div",_hoisted_39$1,[a[38]||(a[38]=createBaseVNode("i",{class:"fa fa-grip-vertical text-gray-200 group-hover/pool:text-blue-400 transition-colors"},null,-1)),createBaseVNode("span",{class:"text-xs font-bold text-gray-600 group-hover/pool:text-blue-900 transition-colors",innerHTML:c.name},null,8,_hoisted_40$1)]),a[39]||(a[39]=createBaseVNode("span",{class:"delete opacity-0 group-hover/pool:opacity-100 transition-opacity text-red-300 hover:text-red-500 fa fa-trash-o cursor-pointer"},null,-1))],8,_hoisted_38$1))),128))])])]))]),createVNode(_sfc_main$x,{ref_key:"copyBox",ref:l,"data-show-footer":"true","data-modal-css":ve.value},{title:withCtx(()=>[...a[41]||(a[41]=[createBaseVNode("div",{class:"flex items-center gap-3"},[createBaseVNode("i",{class:"fa fa-copy text-blue-500"}),createBaseVNode("span",{class:"font-black text-gray-800 tracking-tight uppercase text-sm"},"Clone Category Data")],-1)])]),content:withCtx(()=>[createBaseVNode("div",_hoisted_41$1,[createBaseVNode("div",_hoisted_42$1,[a[50]||(a[50]=createBaseVNode("div",{class:"flex items-center gap-3"},[createBaseVNode("span",{class:"w-8 h-8 rounded-lg bg-gray-100 flex items-center justify-center text-[10px] font-black text-gray-400 uppercase"},"1"),createBaseVNode("h4",{class:"text-[10px] font-black text-gray-400 uppercase tracking-widest"},"Source Configuration")],-1)),createBaseVNode("div",_hoisted_43$1,[pe.value?(openBlock(),createElementBlock("div",_hoisted_44$1,[a[43]||(a[43]=createBaseVNode("label",{class:"text-[9px] font-black text-gray-400 uppercase tracking-widest ml-1"},"Site",-1)),withDirectives(createBaseVNode("select",{"onUpdate:modelValue":a[11]||(a[11]=c=>L.site_id=c),class:"w-full bg-white border border-gray-200 rounded-xl px-4 py-2.5 text-xs font-bold outline-none focus:ring-4 focus:ring-blue-500/10 focus:border-blue-500 transition-all shadow-sm"},[a[42]||(a[42]=createBaseVNode("option",{value:"0"},"Select a MicroSite",-1)),(openBlock(!0),createElementBlock(Fragment,null,renderList(re.value,c=>(openBlock(),createElementBlock("option",{key:c.id,value:c.id},toDisplayString(c.name),9,_hoisted_45$1))),128))],512),[[vModelSelect,L.site_id]])])):createCommentVNode("",!0),P.value?(openBlock(),createElementBlock("div",_hoisted_46$1,[a[45]||(a[45]=createBaseVNode("label",{class:"text-[9px] font-black text-gray-400 uppercase tracking-widest ml-1"},"Microsite",-1)),withDirectives(createBaseVNode("select",{"onUpdate:modelValue":a[12]||(a[12]=c=>L.microsite_id=c),class:"w-full bg-white border border-gray-200 rounded-xl px-4 py-2.5 text-xs font-bold outline-none focus:ring-4 focus:ring-blue-500/10 focus:border-blue-500 transition-all shadow-sm"},[a[44]||(a[44]=createBaseVNode("option",{value:"0"},"Select a Microsite",-1)),(openBlock(!0),createElementBlock(Fragment,null,renderList(_.value,c=>(openBlock(),createElementBlock("option",{key:c.id,value:c.id},toDisplayString(c.name),9,_hoisted_47$1))),128))],512),[[vModelSelect,L.microsite_id]])])):createCommentVNode("",!0),d.value?(openBlock(),createElementBlock("div",_hoisted_48$1,[a[47]||(a[47]=createBaseVNode("label",{class:"text-[9px] font-black text-gray-400 uppercase tracking-widest ml-1"},"Platform",-1)),withDirectives(createBaseVNode("select",{"onUpdate:modelValue":a[13]||(a[13]=c=>L.platform_id=c),class:"w-full bg-white border border-gray-200 rounded-xl px-4 py-2.5 text-xs font-bold outline-none focus:ring-4 focus:ring-blue-500/10 focus:border-blue-500 transition-all shadow-sm"},[a[46]||(a[46]=createBaseVNode("option",{value:"0"},"Select a Platform",-1)),(openBlock(!0),createElementBlock(Fragment,null,renderList(m.value,c=>(openBlock(),createElementBlock("option",{key:c.id,value:c.id},toDisplayString(c.name),9,_hoisted_49$1))),128))],512),[[vModelSelect,L.platform_id]])])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_50$1,[a[49]||(a[49]=createBaseVNode("label",{class:"text-[9px] font-black text-gray-400 uppercase tracking-widest ml-1"},"Category",-1)),withDirectives(createBaseVNode("select",{"onUpdate:modelValue":a[14]||(a[14]=c=>L.category_id=c),class:"w-full bg-white border border-gray-200 rounded-xl px-4 py-2.5 text-xs font-bold outline-none focus:ring-4 focus:ring-blue-500/10 focus:border-blue-500 transition-all shadow-sm"},[a[48]||(a[48]=createBaseVNode("option",{value:"0"},"Select a Category",-1)),(openBlock(!0),createElementBlock(Fragment,null,renderList(ge.value,c=>(openBlock(),createElementBlock("option",{key:c.category_id,value:c.category_id},toDisplayString(c.name),9,_hoisted_51$1))),128))],512),[[vModelSelect,L.category_id]])])])]),createBaseVNode("div",_hoisted_52$1,[a[59]||(a[59]=createBaseVNode("div",{class:"flex items-center gap-3"},[createBaseVNode("span",{class:"w-8 h-8 rounded-lg bg-blue-50 flex items-center justify-center text-[10px] font-black text-blue-400 uppercase font-black"},"2"),createBaseVNode("h4",{class:"text-[10px] font-black text-gray-400 uppercase tracking-widest"},"Target Configuration")],-1)),createBaseVNode("div",_hoisted_53$1,[pe.value?(openBlock(),createElementBlock("div",_hoisted_54$1,[a[52]||(a[52]=createBaseVNode("label",{class:"text-[9px] font-black text-blue-400 uppercase tracking-widest ml-1"},"Site",-1)),withDirectives(createBaseVNode("select",{"onUpdate:modelValue":a[15]||(a[15]=c=>q.site_id=c),class:"w-full bg-white border border-blue-100 rounded-xl px-4 py-2.5 text-xs font-bold outline-none focus:ring-4 focus:ring-blue-500/10 focus:border-blue-500 transition-all shadow-sm"},[a[51]||(a[51]=createBaseVNode("option",{value:"0"},"Select a MicroSite",-1)),(openBlock(!0),createElementBlock(Fragment,null,renderList(re.value,c=>(openBlock(),createElementBlock("option",{key:c.id,value:c.id},toDisplayString(c.name),9,_hoisted_55$1))),128))],512),[[vModelSelect,q.site_id]])])):createCommentVNode("",!0),P.value?(openBlock(),createElementBlock("div",_hoisted_56$1,[a[54]||(a[54]=createBaseVNode("label",{class:"text-[9px] font-black text-blue-400 uppercase tracking-widest ml-1"},"Microsite",-1)),withDirectives(createBaseVNode("select",{"onUpdate:modelValue":a[16]||(a[16]=c=>q.microsite_id=c),class:"w-full bg-white border border-blue-100 rounded-xl px-4 py-2.5 text-xs font-bold outline-none focus:ring-4 focus:ring-blue-500/10 focus:border-blue-500 transition-all shadow-sm"},[a[53]||(a[53]=createBaseVNode("option",{value:"0"},"Select a MicroSite",-1)),(openBlock(!0),createElementBlock(Fragment,null,renderList(_.value,c=>(openBlock(),createElementBlock("option",{key:c.id,value:c.id},toDisplayString(c.name),9,_hoisted_57$1))),128))],512),[[vModelSelect,q.microsite_id]])])):createCommentVNode("",!0),d.value?(openBlock(),createElementBlock("div",_hoisted_58$1,[a[56]||(a[56]=createBaseVNode("label",{class:"text-[9px] font-black text-blue-400 uppercase tracking-widest ml-1"},"Platform",-1)),withDirectives(createBaseVNode("select",{"onUpdate:modelValue":a[17]||(a[17]=c=>q.platform_id=c),class:"w-full bg-white border border-blue-100 rounded-xl px-4 py-2.5 text-xs font-bold outline-none focus:ring-4 focus:ring-blue-500/10 focus:border-blue-500 transition-all shadow-sm"},[a[55]||(a[55]=createBaseVNode("option",{value:"0"},"Select a Platform",-1)),(openBlock(!0),createElementBlock(Fragment,null,renderList(m.value,c=>(openBlock(),createElementBlock("option",{key:c.id,value:c.id},toDisplayString(c.name),9,_hoisted_59$1))),128))],512),[[vModelSelect,q.platform_id]])])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_60$1,[a[58]||(a[58]=createBaseVNode("label",{class:"text-[9px] font-black text-blue-400 uppercase tracking-widest ml-1"},"Category",-1)),withDirectives(createBaseVNode("select",{"onUpdate:modelValue":a[18]||(a[18]=c=>q.category_id=c),class:"w-full bg-white border border-blue-100 rounded-xl px-4 py-2.5 text-xs font-bold outline-none focus:ring-4 focus:ring-blue-500/10 focus:border-blue-500 transition-all shadow-sm"},[a[57]||(a[57]=createBaseVNode("option",{value:"0"},"Select a Category",-1)),(openBlock(!0),createElementBlock(Fragment,null,renderList(be.value,c=>(openBlock(),createElementBlock("option",{key:c.category_id,value:c.category_id},toDisplayString(c.name),9,_hoisted_61$1))),128))],512),[[vModelSelect,q.category_id]])])])]),withDirectives(createBaseVNode("div",_hoisted_62$1,[...a[60]||(a[60]=[createBaseVNode("div",{class:"flex gap-4"},[createBaseVNode("i",{class:"fa fa-info-circle text-amber-500 mt-1"}),createBaseVNode("p",{class:"text-[10px] font-bold text-amber-700 leading-relaxed uppercase tracking-widest"},[createTextVNode(" Pro tip: Do not select "),createBaseVNode("span",{class:"text-amber-900 font-black"},"source platform"),createTextVNode(" if you want to copy modules into all platforms respectively. ")])],-1)])],512),[[vShow,d.value]])])]),footer:withCtx(()=>[createBaseVNode("div",_hoisted_63$1,[withDirectives(createBaseVNode("div",_hoisted_64$1,[...a[61]||(a[61]=[createBaseVNode("i",{class:"fa fa-spinner fa-spin"},null,-1),createTextVNode(" Cloning Data... ",-1)])],512),[[vShow,oe.value]]),createBaseVNode("button",{class:"px-8 py-3 bg-blue-600 hover:bg-blue-700 text-white text-[10px] font-black uppercase tracking-widest rounded-xl shadow-lg shadow-blue-500/20 transition-all active:scale-95",onClick:a[19]||(a[19]=c=>Le())}," Start Cloning "),createBaseVNode("button",{class:"px-8 py-3 border border-gray-200 hover:bg-gray-50 text-gray-400 hover:text-gray-900 text-[10px] font-black uppercase tracking-widest rounded-xl transition-all shadow-sm",onClick:a[20]||(a[20]=c=>Be(!1))}," Cancel ")])]),_:1},8,["data-modal-css"]),createVNode(_sfc_main$x,{ref_key:"deleteBox",ref:b,"data-show-footer":"true","data-title-css":"bg-red-50 text-red-600 rounded-t-[2rem]"},{title:withCtx(()=>[...a[62]||(a[62]=[createBaseVNode("div",{class:"flex items-center gap-3"},[createBaseVNode("i",{class:"fa fa-exclamation-triangle text-red-600"}),createBaseVNode("span",{class:"font-black text-red-600 tracking-tight uppercase text-sm"},"Critical Warning")],-1)])]),content:withCtx(()=>[createBaseVNode("div",_hoisted_65$1,[a[64]||(a[64]=createBaseVNode("div",{class:"text-center"},[createBaseVNode("h5",{class:"text-lg font-black text-gray-800 leading-tight mb-2"},"Destructive Action Ahead"),createBaseVNode("p",{class:"text-gray-500 text-sm"},[createTextVNode("Are you sure you want to delete "),createBaseVNode("span",{class:"text-red-600 font-bold underline decoration-2"},"all modules"),createTextVNode(" from this category? This action is permanent and cannot be undone.")])],-1)),withDirectives(createBaseVNode("div",_hoisted_66$1,[createBaseVNode("label",_hoisted_67$1,[withDirectives(createBaseVNode("input",{"onUpdate:modelValue":a[21]||(a[21]=c=>W.value=c),type:"checkbox",class:"w-6 h-6 rounded-lg border-gray-300 text-red-600 focus:ring-red-500 transition-all cursor-pointer shadow-sm"},null,512),[[vModelCheckbox,W.value]]),a[63]||(a[63]=createBaseVNode("span",{class:"text-[10px] font-black text-gray-500 uppercase tracking-widest group-hover:text-red-600 transition-colors"},"Apply deletion across all platforms",-1))])],512),[[vShow,d.value]])])]),footer:withCtx(()=>[createBaseVNode("div",_hoisted_68$1,[createBaseVNode("button",{class:"px-10 py-3 bg-red-600 hover:bg-red-700 text-white text-[10px] font-black uppercase tracking-widest rounded-xl shadow-lg shadow-red-500/20 transition-all active:scale-95",onClick:a[22]||(a[22]=c=>Ie())}," Confirm Delete "),createBaseVNode("button",{class:"px-8 py-3 border border-gray-200 hover:bg-gray-50 text-gray-400 hover:text-gray-900 text-[10px] font-black uppercase tracking-widest rounded-xl transition-all shadow-sm",onClick:a[23]||(a[23]=c=>Ce(!1))}," No, Keep Data ")])]),_:1},512),createVNode(_sfc_main$q,{ref_key:"infoPopup",ref:i},null,512)],64))}},_hoisted_1$o={class:"w-full"},_sfc_main$o={__name:"html-slot",setup(S){return onMounted(()=>{}),(e,o)=>(openBlock(),createElementBlock("div",_hoisted_1$o,[renderSlot(e.$slots,"default")]))}},_hoisted_1$n={class:"flex flex-col sm:flex-row items-start sm:items-center justify-between w-full gap-4"},_hoisted_2$j={class:"flex items-center w-full sm:w-auto gap-2"},_hoisted_3$i={class:"min-h-[300px]"},_hoisted_4$h={key:0,class:"flex justify-center items-center py-20"},_hoisted_5$d={key:1,class:"grid grid-cols-3 sm:grid-cols-4 md:grid-cols-5 gap-3 p-1"},_hoisted_6$c=["onClick"],_hoisted_7$b=["src"],_hoisted_8$b={key:2,class:"flex flex-col items-center justify-center py-20 text-gray-400"},_hoisted_9$a={class:"w-full p-2 bg-gray-50 rounded-lg"},_sfc_main$n={__name:"image-gallery",props:["dataModel","dataModuleRelations","dataId","dataEditor"],setup(S,{expose:e}){const o=S,i=ref(null),l=ref([]),b=ref(!1),n=ref(""),u=ref(o.dataEditor),r=()=>{l.value=[],b.value=!0;let p=adminConfig.admin_path("gallery/getAllImages");axios.get(p).then(g=>{l.value=g.data}).catch(g=>{console.log(g)}).finally(()=>{b.value=!1})},f=p=>adminConfig.get_media(`${p}`),s=p=>{const g=`<img src="${p}" />`;u.value&&u.value.insertContent(g),_()},$=()=>{if(n.value.length>0){l.value=[],b.value=!0;let p=adminConfig.admin_path(`gallery/searchImages/${n.value}`);axios.get(p).then(g=>{l.value=g.data}).catch(g=>{console.log(g)}).finally(()=>{b.value=!1})}else r()},k=p=>{r(),p&&(u.value=p),i.value?.open(),EventBus.emit("image-gallery-open")},_=()=>{i.value?.close(),EventBus.emit("image-gallery-close")},m=p=>{l.value=[...p.data,...l.value]};return onMounted(()=>{EventBus.on("gallery-image-uploaded",m)}),onBeforeUnmount(()=>{EventBus.off("gallery-image-uploaded",m)}),e({open:k,close:_}),(p,g)=>(openBlock(),createBlock(_sfc_main$x,{ref_key:"imageModalBox",ref:i,"data-show-footer":"true","data-width":"800px"},{title:withCtx(()=>[createBaseVNode("div",_hoisted_1$n,[g[1]||(g[1]=createBaseVNode("span",{class:"text-xl font-bold text-gray-800"},"Gallery",-1)),createBaseVNode("div",_hoisted_2$j,[withDirectives(createBaseVNode("input",{type:"text",class:"bg-gray-50 border border-gray-300 text-gray-900 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full px-4 py-2 outline-none transition-all",placeholder:"Search images...",onKeydown:withKeys($,["enter"]),"onUpdate:modelValue":g[0]||(g[0]=I=>n.value=I)},null,544),[[vModelText,n.value]]),createBaseVNode("button",{type:"button",class:"inline-flex items-center px-4 py-2 border border-transparent shadow-sm text-sm font-medium rounded-lg text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-colors",onClick:$}," Search ")])])]),content:withCtx(()=>[createBaseVNode("div",_hoisted_3$i,[b.value?(openBlock(),createElementBlock("div",_hoisted_4$h,[...g[2]||(g[2]=[createBaseVNode("div",{class:"flex flex-col items-center gap-3"},[createBaseVNode("div",{class:"animate-spin rounded-full h-10 w-10 border-4 border-blue-600 border-t-transparent"}),createBaseVNode("span",{class:"text-sm text-gray-500 font-medium"},"Fetching images...")],-1)])])):(openBlock(),createElementBlock("div",_hoisted_5$d,[(openBlock(!0),createElementBlock(Fragment,null,renderList(l.value,(I,V)=>(openBlock(),createElementBlock("div",{key:V,class:"relative aspect-square group cursor-pointer bg-white border border-gray-100 rounded-xl overflow-hidden hover:border-blue-500 hover:shadow-md transition-all duration-200",onClick:B=>s(f(I.path))},[createBaseVNode("img",{src:f(I.path),class:"w-full h-full object-cover group-hover:scale-110 transition-transform duration-300"},null,8,_hoisted_7$b),g[3]||(g[3]=createBaseVNode("div",{class:"absolute inset-0 bg-black/0 group-hover:bg-black/20 transition-colors flex items-center justify-center"},[createBaseVNode("i",{class:"fa fa-plus text-white opacity-0 group-hover:opacity-100 scale-50 group-hover:scale-100 transition-all duration-200 text-xl"})],-1))],8,_hoisted_6$c))),128))])),l.value.length===0&&b.value===!1?(openBlock(),createElementBlock("div",_hoisted_8$b,[...g[4]||(g[4]=[createBaseVNode("i",{class:"fa fa-image text-5xl mb-4 opacity-20"},null,-1),createBaseVNode("p",{class:"text-lg font-medium"},"No images found",-1),createBaseVNode("p",{class:"text-sm text-gray-400"},"Try a different search term or upload a new image.",-1)])])):createCommentVNode("",!0)])]),footer:withCtx(()=>[createBaseVNode("div",_hoisted_9$a,[createVNode(_sfc_main$t,{"data-accept":"image/*"})])]),_:1},512))}},_hoisted_1$m={class:"flex-1 min-w-0"},_hoisted_2$i={class:"text-xs font-black text-gray-900 uppercase tracking-widest leading-tight"},_hoisted_3$h=["innerHTML"],_hoisted_4$g={key:0,class:"text-[10px] font-bold text-gray-400 uppercase tracking-widest mt-1 truncate"},_sfc_main$m={__name:"info-box",props:{dataInfo:[String,Object],dataColorIndex:[Number,String],dataSubTitle:String,dataTitle:String,dataIconCss:String,dataLink:String},setup(S){const e=S,o=computed(()=>SafeJsonParse(e.dataInfo,null)),i=computed(()=>typeof e.dataSubTitle<"u"?e.dataSubTitle:""),l=computed(()=>e.dataIconCss),b=computed(()=>typeof e.dataLink>"u"?"":e.dataLink),n=computed(()=>o.value!==null?o.value.name||o.value.title:e.dataTitle),u=computed(()=>(typeof l.value>"u"||l.value==="")&&o.value!==null?o.value.icon_css||o.value.iconCss:l.value),r=()=>(o.value?.icon_css||typeof l.value>"u")&&n.value.replace(/[^a-zA-Z- ]/g,"").match(/\b\w/g)?.join("")||"",f=()=>{Store.fetch("counter")===void 0&&Store.store("counter",1);let $=Store.fetch("counter");return $>10&&($=1),Store.store("counter",$+1),$},s=()=>{const $=["bg-blue-50 text-blue-600","bg-indigo-50 text-indigo-600","bg-purple-50 text-purple-600","bg-emerald-50 text-emerald-600","bg-rose-50 text-rose-600","bg-amber-50 text-amber-600","bg-violet-50 text-violet-600","bg-cyan-50 text-cyan-600","bg-teal-50 text-teal-600","bg-pink-50 text-pink-600"];let k=e.dataColorIndex?e.dataColorIndex:f();return $[(k-1)%$.length]};return($,k)=>(openBlock(),createBlock(resolveDynamicComponent(b.value!==""?"a":"div"),{href:b.value!==""?b.value:null,class:"block group no-underline"},{default:withCtx(()=>[createVNode(HcCard,{class:normalizeClass(["hover:shadow-xl hover:shadow-blue-500/10 active:scale-95 transition-all duration-300",b.value!==""?"cursor-pointer":""]),"body-class":"flex items-center gap-6"},{default:withCtx(()=>[createBaseVNode("div",{class:normalizeClass([s(),"w-14 h-14 flex shrink-0 items-center justify-center rounded-lg transition-transform group-hover:rotate-12 shadow-lg shadow-current/10"])},[createBaseVNode("i",{style:{"font-style":"normal"},class:normalizeClass([u.value,"text-sm font-black uppercase tracking-tighter leading-none"])},toDisplayString(r()),3)],2),createBaseVNode("div",_hoisted_1$m,[createBaseVNode("h5",_hoisted_2$i,[createBaseVNode("span",{innerHTML:n.value,class:"block truncate"},null,8,_hoisted_3$h)]),i.value!==""?(openBlock(),createElementBlock("p",_hoisted_4$g,toDisplayString(i.value),1)):createCommentVNode("",!0)]),k[0]||(k[0]=createBaseVNode("div",{class:"opacity-0 group-hover:opacity-100 transition-opacity"},[createBaseVNode("i",{class:"fa fa-chevron-right text-blue-500 text-[10px]"})],-1))]),_:1},8,["class"])]),_:1},8,["href"]))}},_hoisted_1$l={class:"grid grid-cols-1 sm:grid-cols-2 md:grid-cols-3 lg:grid-cols-4 gap-6"},_hoisted_2$h=["href","title"],_sfc_main$l={__name:"info-boxes",props:["dataModules","dataModulesAllowed","dataIsAdmin"],setup(S){const e=S,o=ref(SafeJsonParse(e.dataModulesAllowed,[])),i=computed(()=>SafeJsonParse(e.dataModules,[]).child||[]),l=n=>adminConfig.admin_path(n.controller_name),b=n=>{if(e.dataIsAdmin.toString()=="1")return!0;for(let u=0;u<o.value.length;u++)if(o.value[u].module_id==n)return!0;return!1};return(n,u)=>(openBlock(),createElementBlock("div",_hoisted_1$l,[(openBlock(!0),createElementBlock(Fragment,null,renderList(i.value,(r,f)=>(openBlock(),createElementBlock(Fragment,null,[b(r.id)?(openBlock(),createElementBlock("a",{key:r.name+f,href:l(r),class:"group block transition-all duration-300 hover:-translate-y-2",title:r.name},[createVNode(_sfc_main$m,{"data-title":r.name,"data-sub-title":r.sub_title,"data-icon-css":r.icon_css,class:"h-full"},null,8,["data-title","data-sub-title","data-icon-css"])],8,_hoisted_2$h)):createCommentVNode("",!0)],64))),256))]))}},_hoisted_1$k={class:"max-w-2xl"},_hoisted_2$g={class:"bg-white shadow-lg rounded-lg border border-gray-100 overflow-hidden"},_hoisted_3$g={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},_hoisted_4$f={class:"space-y-1.5"},_hoisted_5$c=["value"],_hoisted_6$b={key:0,class:"px-2 text-[11px] text-red-500 font-bold"},_hoisted_7$a={class:"space-y-1.5"},_hoisted_8$a=["value"],_hoisted_9$9={key:0,class:"px-2 text-[11px] text-red-500 font-bold"},_hoisted_10$9={class:"space-y-1.5"},_hoisted_11$8=["value"],_hoisted_12$8={key:0,class:"px-2 text-[11px] text-red-500 font-bold"},_hoisted_13$7={class:"space-y-4 pt-4"},_hoisted_14$7={class:"bg-red-50 text-red-700 px-6 py-4 rounded-xl border border-red-100 text-sm font-black flex items-center gap-3 animate-shake shadow-sm"},_hoisted_15$7={class:"space-y-2"},saveUrl="language/translateNow",_sfc_main$k={__name:"language-copier",props:["dataLanguages","dataLanguageTables"],setup(S){const e=S,o=getCurrentInstance(),i=ref(SafeJsonParse(e.dataLanguages,[])),l=ref(SafeJsonParse(e.dataLanguageTables,[])),b=ref([]),n=reactive(new Form({tables:[],sourceLang:"",targetLang:""})),u=reactive({}),r=ref(""),f=_=>{for(let m in _.errors)Object.prototype.hasOwnProperty.call(_.errors,m)&&(u[m]=_.errors[m][0]);r.value=_.message},s=_=>{let m=_.target.getAttribute("name");u[m]="",r.value!==""&&(r.value="")},$=_=>{console.log(_),_.isSaved===0?(Toast.show(o,_.message),r.value=_.message):(r.value="",b.value=_.message)},k=()=>{let _=adminConfig.admin_path(saveUrl);return n.post(_).then(m=>$(m)).catch(m=>f(m)),!1};return(_,m)=>(openBlock(),createElementBlock("div",_hoisted_1$k,[createBaseVNode("div",_hoisted_2$g,[m[14]||(m[14]=createBaseVNode("div",{class:"px-8 py-6 border-b border-gray-100 bg-gray-50/50"},[createBaseVNode("h2",{class:"text-xl font-black text-gray-800 tracking-tight"},"Language Resource Copier"),createBaseVNode("p",{class:"text-sm text-gray-500 mt-1"},"Duplicate data across language contexts")],-1)),createBaseVNode("form",{id:"addEditFrm",method:"post",class:"p-8 space-y-6",role:"form",onSubmit:withModifiers(k,["prevent"]),onKeyup:m[6]||(m[6]=p=>s(p))},[createBaseVNode("div",_hoisted_3$g,[createBaseVNode("div",_hoisted_4$f,[m[8]||(m[8]=createBaseVNode("label",{class:"text-xs font-black text-gray-400 uppercase tracking-widest ml-1"},"Source Language",-1)),withDirectives(createBaseVNode("select",{required:"",name:"sourceLang",class:"bg-white border border-gray-200 text-gray-700 text-sm rounded-xl focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 block w-full px-4 py-3 outline-none transition-all shadow-sm cursor-pointer","onUpdate:modelValue":m[0]||(m[0]=p=>n.sourceLang=p),onChange:m[1]||(m[1]=p=>s(p))},[m[7]||(m[7]=createBaseVNode("option",{value:""},"Select Origin",-1)),(openBlock(!0),createElementBlock(Fragment,null,renderList(i.value,p=>(openBlock(),createElementBlock("option",{key:p.id,value:p.id},toDisplayString(p.name)+" ("+toDisplayString(p.iso_code)+") ",9,_hoisted_5$c))),128))],544),[[vModelSelect,n.sourceLang]]),u.sourceLang?(openBlock(),createElementBlock("div",_hoisted_6$b,toDisplayString(u.sourceLang),1)):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_7$a,[m[10]||(m[10]=createBaseVNode("label",{class:"text-xs font-black text-gray-400 uppercase tracking-widest ml-1"},"Target Language",-1)),withDirectives(createBaseVNode("select",{required:"",name:"targetLang",class:"bg-white border border-gray-200 text-gray-700 text-sm rounded-xl focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 block w-full px-4 py-3 outline-none transition-all shadow-sm cursor-pointer","onUpdate:modelValue":m[2]||(m[2]=p=>n.targetLang=p),onChange:m[3]||(m[3]=p=>s(p))},[m[9]||(m[9]=createBaseVNode("option",{value:""},"Select Destination",-1)),(openBlock(!0),createElementBlock(Fragment,null,renderList(i.value,p=>(openBlock(),createElementBlock("option",{key:p.id,value:p.id},toDisplayString(p.name)+" ("+toDisplayString(p.iso_code)+") ",9,_hoisted_8$a))),128))],544),[[vModelSelect,n.targetLang]]),u.targetLang?(openBlock(),createElementBlock("div",_hoisted_9$9,toDisplayString(u.targetLang),1)):createCommentVNode("",!0)])]),createBaseVNode("div",_hoisted_10$9,[m[11]||(m[11]=createBaseVNode("label",{class:"text-xs font-black text-gray-400 uppercase tracking-widest ml-1"},"Affected Data Tables",-1)),withDirectives(createBaseVNode("select",{required:"",name:"tables",class:"bg-gray-50 border border-gray-200 text-gray-700 text-sm rounded-xl focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 block w-full px-4 py-3 outline-none transition-all shadow-inner font-mono overflow-y-auto",multiple:"",style:{height:"180px"},"onUpdate:modelValue":m[4]||(m[4]=p=>n.tables=p),onChange:m[5]||(m[5]=p=>s(p))},[(openBlock(!0),createElementBlock(Fragment,null,renderList(l.value,p=>(openBlock(),createElementBlock("option",{key:p.name,value:p.name},toDisplayString(p.name),9,_hoisted_11$8))),128))],544),[[vModelSelect,n.tables]]),u.tables?(openBlock(),createElementBlock("div",_hoisted_12$8,toDisplayString(u.tables),1)):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_13$7,[withDirectives(createBaseVNode("div",_hoisted_14$7,[m[12]||(m[12]=createBaseVNode("i",{class:"fa fa-exclamation-triangle"},null,-1)),createTextVNode(" "+toDisplayString(r.value),1)],512),[[vShow,typeof r.value=="string"&&r.value!==""]]),createBaseVNode("div",_hoisted_15$7,[(openBlock(!0),createElementBlock(Fragment,null,renderList(b.value,(p,g)=>(openBlock(),createElementBlock("div",{key:g,class:normalizeClass([p.status===0?"bg-red-50 text-red-600 border-red-100":"bg-green-50 text-green-600 border-green-100","px-4 py-3 rounded-lg border text-xs font-bold transition-all animate-fadeIn shadow-sm"])},toDisplayString(p.message),3))),128))]),m[13]||(m[13]=createBaseVNode("div",{class:"flex justify-center"},[createBaseVNode("button",{type:"submit",class:"px-12 py-4 bg-blue-600 hover:bg-blue-700 text-white font-black rounded-lg shadow-lg shadow-blue-500/20 transition-all hover:-translate-y-1 active:scale-95 text-base"}," Start Migration ")],-1))])],32)])]))}},_hoisted_1$j={class:"flex-1 px-4 space-y-1 mt-3"},_hoisted_2$f=["onMouseenter"],_hoisted_3$f=["title","href","onMouseenter"],_hoisted_4$e={key:1,class:"text-xs font-black uppercase"},_hoisted_5$b=["onClick"],_hoisted_6$a={key:1,class:"absolute left-full ml-2 px-3 py-2 bg-gray-900 text-white text-[10px] font-black uppercase tracking-widest rounded-lg opacity-0 pointer-events-none group-hover:opacity-100 transition-opacity z-50 shadow-xl border border-white/5 whitespace-nowrap"},_hoisted_7$9=["title","href"],_hoisted_8$9={key:1,class:"text-[9px] font-black"},_hoisted_9$8={class:"flex-shrink-0 p-4 mt-auto"},_hoisted_10$8=["href"],_hoisted_11$7={class:"relative z-10"},_hoisted_12$7={class:"px-4 py-2 border-b border-white/5 mb-2"},_hoisted_13$6={class:"text-xs font-black text-white uppercase tracking-widest"},_hoisted_14$6={key:0,class:"text-[9px] text-gray-500 font-bold mt-0.5"},_hoisted_15$6={class:"space-y-1 pr-2 max-h-[calc(100vh-100px)] overflow-y-auto custom-scrollbar"},_hoisted_16$5=["href"],_hoisted_17$4={key:1,class:"mr-3 opacity-70 text-[8px] font-black"},_sfc_main$j={__name:"left-nav",props:["dataList","dataControllerName","dataModulesAllowed","dataIsAdmin","dataHashtagcmsVersion"],setup(S){const e=S,o=ref(SafeJsonParse(e.dataList,[]));ref(SafeJsonParse(e.dataModulesAllowed,[]));const i=ref([]),l=ref(!1),b=ref(null),n=ref(0),u=ref(null),r=ref(""),f=ref(!1),s=ref(0),$=ref(0),k=computed(()=>`https://www.hashtagcms.org/?utm_src=${window.location.host}`),_=computed(()=>b.value?o.value.find(U=>U.id===b.value):null),m=U=>{f.value&&(s.value=U.clientX,$.value=U.clientY)},p=(U,W)=>{l.value&&(r.value=W,f.value=!0,s.value=U.clientX,$.value=U.clientY)},g=()=>{f.value=!1},I=()=>{u.value&&(clearTimeout(u.value),u.value=null)},V=(U,W)=>{if(!l.value)return;I(),b.value=U;const L=W.currentTarget.getBoundingClientRect();n.value=L.top},B=()=>{u.value=setTimeout(()=>{b.value=null},150)},M=()=>{l.value=LeftMenu.toggleCollapse()},v=(U,W)=>{if(W.preventDefault(),l.value)return;const L=i.value.indexOf(U);L>-1?i.value.splice(L,1):i.value.push(U)},w=(U,W=!1)=>{const L=U.trim(),q=L.includes("fa-")||L.startsWith("fa "),oe=W?"text-[10px]":l.value?"text-lg":"text-sm";return q&&!L.includes(" fa ")&&!L.startsWith("fa ")?["fa",L,oe]:[L,oe]},H=U=>U.icon_css===""||!U.icon_css?U.controller_name.charAt(0).toUpperCase():"",F=(U,W)=>{if(e.dataControllerName===U)return!0;if(W&&W.child&&W.child.length>0){let L=e.dataControllerName;return W.child.find(q=>q.controller_name===L)}return!1},j=U=>U&&U.child&&U.child.length>0,E=U=>adminConfig.admin_path(U.controller_name),t=()=>{l.value=!0,i.value=[]},N=()=>{l.value=!1};return onMounted(()=>{window.addEventListener("mousemove",m),l.value=LeftMenu.isCollapsed(),l.value||o.value.forEach(U=>{F(U.controller_name,U)&&i.value.push(U.id)}),EventBus.on("left-menu-on-collapse",t),EventBus.on("left-menu-on-expand",N)}),onBeforeUnmount(()=>{window.removeEventListener("mousemove",m),EventBus.off("left-menu-on-collapse",t),EventBus.off("left-menu-on-expand",N)}),(U,W)=>(openBlock(),createElementBlock("div",{class:normalizeClass(["flex flex-col flex-shrink-0 bg-[#0F172A] text-white h-full js_left_menu overflow-y-auto border-r border-white/5 shadow-lg transition-all duration-300 ease-in-out",l.value?"w-20":"w-72"])},[createBaseVNode("div",{class:normalizeClass(["flex items-center px-4 py-4 border-b border-white/5",l.value?"justify-center":"justify-end"])},[createBaseVNode("button",{onClick:M,class:"w-8 h-8 flex items-center justify-center rounded-lg bg-white/5 hover:bg-white/10 text-gray-400 hover:text-white transition-all active:scale-95 group",title:"Toggle Sidebar"},[createBaseVNode("i",{class:normalizeClass(["fa text-xs transition-transform duration-300",l.value?"fa-angle-double-right group-hover:translate-x-0.5":"fa-angle-double-left group-hover:-translate-x-0.5"])},null,2)])],2),createBaseVNode("nav",_hoisted_1$j,[(openBlock(!0),createElementBlock(Fragment,null,renderList(o.value,L=>(openBlock(),createElementBlock(Fragment,null,[L.parent_id===0?(openBlock(),createElementBlock("div",{key:L.id,onMouseenter:q=>V(L.id,q),onMouseleave:B},[createBaseVNode("a",{title:L.sub_title||L.name,href:E(L),onMouseenter:q=>p(q,L.name),onMouseleave:g,class:normalizeClass(["relative group flex items-center rounded-lg transition-all duration-300",l.value?"px-3 py-3 justify-center":"px-5 py-3.5 text-xs font-black tracking-widest",F(L.controller_name,L)?"bg-blue-600 text-white shadow-lg shadow-blue-500/20":"text-gray-400 hover:bg-white/5 hover:text-white"])},[createBaseVNode("div",{class:normalizeClass(["flex-shrink-0 rounded-xl flex items-center justify-center transition-all duration-300",l.value?"w-10 h-10":"w-4 h-4 mr-3",F(L.controller_name,L)?"bg-white/20":"bg-white/5 group-hover:bg-white/10 text-gray-400 group-hover:text-white"])},[L.icon_css&&L.icon_css!==""?(openBlock(),createElementBlock("i",{key:0,class:normalizeClass(w(L.icon_css)),"aria-hidden":"true"},null,2)):(openBlock(),createElementBlock("span",_hoisted_4$e,toDisplayString(H(L)),1))],2),withDirectives(createBaseVNode("span",{class:"flex-1 truncate"},toDisplayString(L.name),513),[[vShow,!l.value]]),j(L)&&!l.value?(openBlock(),createElementBlock("i",{key:0,class:normalizeClass(["js_more fa fa-chevron-down text-[10px] transition-transform duration-300 ml-2",i.value.includes(L.id)?"rotate-180 text-white":"text-gray-500 group-hover:text-gray-300"]),onClick:withModifiers(q=>v(L.id,q),["stop"])},null,10,_hoisted_5$b)):createCommentVNode("",!0),l.value?(openBlock(),createElementBlock("div",_hoisted_6$a,toDisplayString(L.name),1)):createCommentVNode("",!0)],42,_hoisted_3$f),j(L)&&!l.value?(openBlock(),createElementBlock("ul",{key:0,class:normalizeClass(["js_child space-y-2 mt-2 py-2 border-l border-white/5 ml-9 transition-all duration-500",i.value.includes(L.id)?"block opacity-100 translate-x-0":"hidden opacity-0 -translate-x-2"])},[(openBlock(!0),createElementBlock(Fragment,null,renderList(L.child,q=>(openBlock(),createElementBlock("li",{key:q.id},[createBaseVNode("a",{title:q.sub_title||q.name,href:E(q),class:normalizeClass(["group flex items-center px-4 py-2 text-[10px] font-black tracking-widest rounded-xl transition-all duration-200",F(q.controller_name,q)?"bg-white/10 text-blue-400":"text-gray-500 hover:text-white hover:bg-white/5"])},[createBaseVNode("div",{class:normalizeClass(["w-6 h-6 rounded-lg flex items-center justify-center mr-3 transition-all",F(q.controller_name,q)?"bg-blue-500/20 text-blue-400":"bg-white/5 text-gray-500 group-hover:text-white"])},[q.icon_css&&q.icon_css!==""?(openBlock(),createElementBlock("i",{key:0,class:normalizeClass(w(q.icon_css,!0)),"aria-hidden":"true"},null,2)):(openBlock(),createElementBlock("span",_hoisted_8$9,toDisplayString(H(q)),1))],2),createTextVNode(" "+toDisplayString(q.name),1)],10,_hoisted_7$9)]))),128))],2)):createCommentVNode("",!0)],40,_hoisted_2$f)):createCommentVNode("",!0)],64))),256))]),createBaseVNode("div",_hoisted_9$8,[createBaseVNode("div",{class:normalizeClass(["bg-gray-800/50 backdrop-blur-sm rounded-lg border border-white/5 group cursor-pointer hover:bg-gray-800 transition-all overflow-hidden",l.value?"p-3 text-center":"p-5"])},[createBaseVNode("a",{href:k.value,target:"_blank",class:"flex flex-col"},[createBaseVNode("span",{class:normalizeClass(["font-black text-white tracking-widest uppercase",l.value?"text-[8px]":"text-xs"])},[W[0]||(W[0]=createTextVNode("H",-1)),withDirectives(createBaseVNode("span",null,"ashtagCms",512),[[vShow,!l.value]])],2),withDirectives(createBaseVNode("span",{class:"text-[9px] font-black text-blue-400/80 uppercase mt-1"},"Version "+toDisplayString(S.dataHashtagcmsVersion),513),[[vShow,!l.value]])],8,_hoisted_10$8)],2)]),(openBlock(),createBlock(Teleport,{to:"body"},[createBaseVNode("div",{class:"fixed z-[10000] pointer-events-none px-3 py-1.5 bg-gray-900 border border-white/10 text-white text-[10px] font-black uppercase tracking-widest rounded shadow-xl transition-opacity duration-200",style:normalizeStyle({top:$.value+"px",left:s.value+"px",opacity:f.value?1:0,transform:"translate(12px, 12px)"})},toDisplayString(r.value),5)])),(openBlock(),createBlock(Teleport,{to:"body"},[l.value&&_.value&&j(_.value)?(openBlock(),createElementBlock("div",{key:0,class:"fixed z-[9999] w-56 bg-[#0F172A] border border-white/10 rounded-r-xl shadow-2xl py-2 pl-4 transition-all duration-200",style:normalizeStyle({top:n.value+"px",left:"5rem"}),onMouseenter:I,onMouseleave:B},[W[1]||(W[1]=createBaseVNode("div",{class:"absolute top-4 -left-2 w-4 h-4 bg-[#0F172A] border-l border-b border-white/10 transform rotate-45"},null,-1)),createBaseVNode("div",_hoisted_11$7,[createBaseVNode("div",_hoisted_12$7,[createBaseVNode("h4",_hoisted_13$6,toDisplayString(_.value.name),1),_.value.sub_title?(openBlock(),createElementBlock("p",_hoisted_14$6,toDisplayString(_.value.sub_title),1)):createCommentVNode("",!0)]),createBaseVNode("ul",_hoisted_15$6,[(openBlock(!0),createElementBlock(Fragment,null,renderList(_.value.child,L=>(openBlock(),createElementBlock("li",{key:L.id},[createBaseVNode("a",{href:E(L),class:normalizeClass(["flex items-center px-4 py-2.5 text-[10px] font-black tracking-widest rounded-lg transition-all",F(L.controller_name,L)?"bg-blue-600 text-white shadow-lg shadow-blue-500/20":"text-gray-400 hover:text-white hover:bg-white/5"])},[L.icon_css?(openBlock(),createElementBlock("i",{key:0,class:normalizeClass([w(L.icon_css,!0),"mr-3 opacity-70"])},null,2)):(openBlock(),createElementBlock("span",_hoisted_17$4,"#")),createTextVNode(" "+toDisplayString(L.name),1)],10,_hoisted_16$5)]))),128))])])],36)):createCommentVNode("",!0)]))],2))}},_hoisted_1$i={class:"max-w-3xl space-y-6"},_hoisted_2$e={key:0,class:"flex items-center justify-between bg-white px-6 py-4 rounded-lg border border-gray-100 shadow-sm"},_hoisted_3$e={class:"divide-y divide-gray-50 bg-white shadow-lg rounded-lg border border-gray-100 overflow-hidden js_sortable"},_hoisted_4$d=["data-id"],_hoisted_5$a={class:"px-8 py-5 flex items-center justify-between hover:bg-gray-50/50 transition-colors"},_hoisted_6$9={class:"flex items-center gap-5"},_hoisted_7$8=["innerHTML"],_hoisted_8$8={key:0,class:"flex items-center"},_hoisted_9$7=["for"],_hoisted_10$7={key:0,class:"overflow-hidden"},_hoisted_11$6=["id"],_hoisted_12$6={class:"hidden peer-checked:block bg-gray-50/50 divide-y divide-gray-100 border-t border-gray-100 js_sortable animate-slideDown"},_hoisted_13$5=["data-id"],_hoisted_14$5={class:"flex items-center gap-4"},_hoisted_15$5={class:"text-xs font-bold text-gray-500 group-hover/child:text-blue-900 transition-colors"},_hoisted_16$4={key:1,class:"flex justify-center pt-6"},_sfc_main$i={__name:"menu-sorter",props:["dataAllData","dataFields","dataControllerName","dataControllerChildName","dataGroups","dataGroupName","dataShowGroups"],setup(S){const e=S,o=getCurrentInstance(),i=ref(SafeJsonParse(e.dataAllData,[])),l=ref(SafeJsonParse(e.dataGroups,[])),b=ref(e.dataGroupName&&e.dataGroupName!==""?e.dataGroupName:""),n=ref(!!(e.dataShowGroups&&e.dataShowGroups==="true")),u=computed(()=>{let v=SafeJsonParse(e.dataFields,null);return v===null&&(v={id:"id",label:"name",isImage:!1}),v}),r=computed(()=>(typeof e.dataControllerName>"u"?"":e.dataControllerName.toLowerCase()).replace(/\s/g,"")),f=computed(()=>(typeof e.dataControllerChildName>"u"?"":e.dataControllerChildName.toLowerCase()).replace(/\s/g,"")),s=computed(()=>{let v=0;for(let w=0;w<l.value.length;w++)if(l.value[w]===b.value){v=w;break}return v}),$=v=>v[u.value.id],k=v=>{if(u.value.isImage===!0){let w=v[u.value.label]?adminConfig.get_media(v[u.value.label]):adminConfig.get_media(v.lang[u.value.label]);return`<a href='${w}' target='_blank'><img height='30' src='${w}' /></a>`}else return v[u.value.label]?v[u.value.label]:v.lang[u.value.label]},_=v=>v.parent_id===0||!v.parent_id,m=v=>v.child&&v.child.length>0,p=v=>{window.location.href=adminConfig.admin_path(r.value+"/sort/"+v.value)},g=()=>{nextTick(()=>{document.querySelectorAll(".js_sortable").forEach(w=>{Sortable.create(w,{animation:500,ghostClass:"text-danger",onUpdate:()=>{}})})})},I=(v,w)=>{Toast.show(o,w.toUpperCase()+" Sorted.")},V=v=>{Toast.show(o,v?.statusText||"There is some error! Don't know the reason",5e3),console.log(v)},B=(v,w,H,F)=>(Loader.show(o,"Please wait. Saving sorting data..."),new Promise((j,E)=>{axios[v](w,H).then(t=>{I(t,F),j(t)}).catch(t=>{V(SafeErrorData(t)),E(t)}).finally(()=>{Loader.hide(o)})})),M=(v=!1)=>{let w=document.querySelectorAll(".item"),H=[],F=v===!0?r.value:f.value!==""?f.value:r.value,j=f.value==="",E=1;w.forEach(N=>{if(j===!0){let U=N.getAttribute("data-id");H.push({position:E,where:{id:parseInt(U)}}),E++}else{let U=N.getAttribute("data-is-parent"),W=N.getAttribute("data-id");v.toString()===U.toString()&&(H.push({position:E,where:{id:parseInt(W)}}),E++)}});let t=adminConfig.admin_path(F+"/updateIndex");B("post",t,H,F)};return onMounted(()=>{g()}),(v,w)=>(openBlock(),createElementBlock("div",_hoisted_1$i,[n.value?(openBlock(),createElementBlock("div",_hoisted_2$e,[w[1]||(w[1]=createBaseVNode("div",{class:"flex items-center gap-3"},[createBaseVNode("div",{class:"w-8 h-8 rounded-lg bg-blue-50 flex items-center justify-center text-blue-600"},[createBaseVNode("i",{class:"fa fa-layer-group"})]),createBaseVNode("h4",{class:"text-xs font-black text-gray-400 uppercase tracking-widest leading-none"}," Arrange Menu Structure ")],-1)),createVNode(_sfc_main$C,{"data-options":l.value,onChange:p,"data-selected":s.value},null,8,["data-options","data-selected"])])):createCommentVNode("",!0),createBaseVNode("ul",_hoisted_3$e,[(openBlock(!0),createElementBlock(Fragment,null,renderList(i.value,(H,F)=>(openBlock(),createElementBlock(Fragment,{key:$(H)},[_(H)?(openBlock(),createElementBlock("li",{key:0,"data-is-parent":"true",class:"group","data-id":$(H)},[createBaseVNode("div",_hoisted_5$a,[createBaseVNode("div",_hoisted_6$9,[w[2]||(w[2]=createBaseVNode("i",{class:"fa fa-grip-vertical text-gray-300 group-hover:text-blue-500 transition-colors cursor-grab active:cursor-grabbing text-lg"},null,-1)),createBaseVNode("span",{class:"text-sm font-black text-gray-700 tracking-tight",innerHTML:k(H)},null,8,_hoisted_7$8)]),m(H)?(openBlock(),createElementBlock("div",_hoisted_8$8,[createBaseVNode("label",{for:"item_"+F,class:"w-10 h-10 flex items-center justify-center text-gray-400 hover:text-blue-600 hover:bg-blue-50 rounded-xl transition-all cursor-pointer"},[...w[3]||(w[3]=[createBaseVNode("i",{class:"fa fa-chevron-down text-xs transition-transform duration-300 opacity-50"},null,-1)])],8,_hoisted_9$7)])):createCommentVNode("",!0)]),m(H)?(openBlock(),createElementBlock("div",_hoisted_10$7,[createBaseVNode("input",{id:"item_"+F,type:"checkbox",class:"hidden peer"},null,8,_hoisted_11$6),createBaseVNode("ul",_hoisted_12$6,[(openBlock(!0),createElementBlock(Fragment,null,renderList(H.child,j=>(openBlock(),createElementBlock("li",{"data-is-parent":"false",class:"px-16 py-4 flex items-center justify-between group/child hover:bg-white transition-all js_item",key:$(j),"data-id":$(j)},[createBaseVNode("div",_hoisted_14$5,[w[4]||(w[4]=createBaseVNode("i",{class:"fa fa-grip-lines text-gray-200 group-hover/child:text-blue-400 transition-colors cursor-grab active:cursor-grabbing text-[10px]"},null,-1)),createBaseVNode("span",_hoisted_15$5,toDisplayString(k(j)),1)])],8,_hoisted_13$5))),128))])])):createCommentVNode("",!0)],8,_hoisted_4$d)):createCommentVNode("",!0)],64))),128))]),i.value.length>1?(openBlock(),createElementBlock("div",_hoisted_16$4,[createBaseVNode("button",{type:"button",class:"px-20 py-5 bg-blue-600 hover:bg-blue-700 text-white font-black rounded-lg shadow-lg shadow-blue-500/30 transition-all hover:-translate-y-1 active:scale-95 text-lg",onClick:w[0]||(w[0]=H=>M())}," Save New Sequence ")])):createCommentVNode("",!0)]))}},_hoisted_1$h={class:"max-w-6xl mx-auto space-y-8"},_hoisted_2$d=["action"],_hoisted_3$d={class:"p-8 space-y-6"},_hoisted_4$c={class:"bg-blue-50/50 p-4 rounded-xl border border-blue-100/50"},_hoisted_5$9={class:"flex items-center gap-3 cursor-pointer group"},_hoisted_6$8={class:"relative flex items-center"},_hoisted_7$7={class:"grid grid-cols-1 md:grid-cols-2 gap-6"},_hoisted_8$7={class:"space-y-1.5"},_hoisted_9$6={key:0,class:"px-2 text-[11px] text-red-500 font-bold"},_hoisted_10$6={class:"space-y-1.5"},_hoisted_11$5={key:0,class:"px-2 text-[11px] text-red-500 font-bold"},_hoisted_12$5={class:"space-y-1.5"},_hoisted_13$4={key:0,class:"px-2 text-[11px] text-red-500 font-bold"},_hoisted_14$4={class:"space-y-1.5"},_hoisted_15$4=["value"],_hoisted_16$3={key:0,class:"px-2 text-[11px] text-red-500 font-bold"},_hoisted_17$3={class:"space-y-1.5"},_hoisted_18$3={class:"flex items-center gap-3"},_hoisted_19$2={class:"bg-gray-50 border border-gray-100 rounded-xl p-3 flex items-center justify-center min-w-[50px] shadow-inner"},_hoisted_20$2={key:0,class:"px-2 text-[11px] text-red-500 font-bold"},_hoisted_21$2={class:"space-y-1.5"},_hoisted_22$2={class:"grid grid-cols-2 gap-4"},_hoisted_23$2={class:"space-y-1.5"},_hoisted_24$2={class:"space-y-1.5"},_hoisted_25$2={key:0,class:"border-t border-gray-100 pt-8 space-y-6"},_hoisted_26$2={class:"grid grid-cols-1 md:grid-cols-2 gap-8"},_hoisted_27$2={class:"space-y-1.5"},_hoisted_28$2=["value"],_hoisted_29$2={key:0,class:"mt-2 ml-1"},_hoisted_30$2={class:"inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-bold bg-blue-100 text-blue-800 border border-blue-200"},_hoisted_31$1={class:"space-y-4"},_hoisted_32$1={class:"space-y-1.5"},_hoisted_33$1=["value"],_hoisted_34$1={key:0,class:"space-y-3"},_hoisted_35$1={class:"flex flex-col gap-3"},_hoisted_36={class:"flex items-center justify-between"},_hoisted_37={class:"text-xs font-black text-blue-600 truncate max-w-[150px]"},_hoisted_38=["onClick"],_hoisted_39={class:"grid grid-cols-2 gap-2"},_hoisted_40=["value","onInput"],_hoisted_41=["onChange"],_hoisted_42={class:"flex items-center gap-2 cursor-pointer mt-1"},_hoisted_43=["onUpdate:modelValue"],_hoisted_44={key:0,class:"mt-8 space-y-4"},_hoisted_45={class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6"},_hoisted_46={class:"bg-white border border-gray-200 rounded-lg shadow-sm flex flex-col h-[400px]"},_hoisted_47={class:"px-5 py-4 border-b border-gray-100 flex items-center justify-between bg-blue-50/20"},_hoisted_48={class:"text-xs font-black text-blue-800 tracking-tight"},_hoisted_49={class:"flex-1 overflow-y-auto p-3 custom-scrollbar"},_hoisted_50={class:"space-y-1"},_hoisted_51=["onClick"],_hoisted_52={class:"px-5 py-4 border-b border-gray-100 flex items-center justify-between bg-purple-50/20"},_hoisted_53={class:"flex flex-col"},_hoisted_54={class:"text-xs font-black text-purple-800 tracking-tight"},_hoisted_55={class:"text-[9px] font-bold text-purple-400 mt-0.5 uppercase tracking-widest"},_hoisted_56=["onClick"],_hoisted_57={class:"flex-1 overflow-y-auto p-3 custom-scrollbar"},_hoisted_58={class:"space-y-1"},_hoisted_59=["onClick"],_hoisted_60={key:1,class:"mt-8"},_hoisted_61={class:"bg-gray-900 rounded-lg p-8 shadow-lg border border-gray-800"},_hoisted_62={class:"flex items-center justify-between mb-6 border-b border-gray-800 pb-4"},_hoisted_63={id:"selectedFields",class:"flex flex-wrap gap-3 min-h-[50px]"},_hoisted_64=["data-fieldname"],_hoisted_65=["onClick"],_hoisted_66={class:"px-8 py-10 bg-gray-50/50 border-t border-gray-100 flex flex-col items-center gap-6"},_hoisted_67={key:0,class:"w-full max-w-xl bg-red-50 text-red-700 px-6 py-4 rounded-lg border border-red-100 text-sm font-black flex items-center gap-4 animate-shake shadow-sm"},_hoisted_68={class:"flex flex-col sm:flex-row items-center gap-4 w-full justify-center"},_hoisted_69=["href"],_sfc_main$h={__name:"module-creator",props:["dataDatabaseTables","dataControllerName","dataBackUrl","dataCmsModules"],setup(S){const e=S,o=getCurrentInstance();class i{static getFields(d){return new Promise((D,Q)=>{axios$1.get("getFields?table="+d).then(function(X){D(X)}).catch(function(X){Q(X)})})}}const l=ref(SafeJsonParse(e.dataDatabaseTables,[])),b=ref(SafeJsonParse(e.dataCmsModules,[])),n=reactive({tableName:"",fields:[],modelName:"",selected:[]}),u=reactive({tableName:"",models:[]}),r=reactive(new Form({name:"",controller_name:"",validator_name:"",dataWith:[],dataSource:"",createFiles:!0,selectedFields:[],relationModels:[],parent_id:"",display_name:"",sub_title:"",icon_css:"",list_view_name:"",edit_view_name:""})),f=ref({}),s=reactive({}),$=ref(null),k=ref(-1),_=ref(""),m=computed(()=>adminConfig.admin_path(e.dataControllerName+"/createModule")),p=(P="")=>{P=pluralize.singular(P)+"::class";let d=P.split("_");return d=d.map(D=>D.charAt(0).toUpperCase()+D.substr(1,D.length)),d.join("")},g=(P="")=>{P!==""&&axios$1.get("isControllerExists?name="+P).then(function(d){d.data===1&&Toast.show(o.proxy,"Controller already exist")})},I=P=>{let d=P||r.name;d=d.toLowerCase().replace(/\s/g,""),r.controller_name=pluralize.singular(d),r.validator_name=r.controller_name,P!==void 0&&g(r.controller_name),r.icon_css=r.controller_name},V=()=>{n.tableName!==""&&(n.fields=["Please wait..."],i.getFields(n.tableName).then(function(P){n.fields=P.data}),n.modelName=p(n.tableName),r.dataSource=n.modelName)},B=()=>{r.dataWith=[];for(let P=0;P<u.models.length;P++){let d=u.models[P];r.dataWith.indexOf(d.relationAlias)===-1&&r.dataWith.push(d.relationAlias)}},M=P=>s[P]||!1,v=()=>{if(u.tableName!==""){let P=u.tableName,d=p(P);if(M(d)===!1){let D="";P.endsWith("_langs")||P.endsWith("_sites")?D=P.endsWith("_langs")?"lang":"site":D=pluralize.singular(P.replace(/_/g,"")).toLowerCase();let te={model:d,relationAlias:D,relationType:"hasMany",isLanguage:D==="lang",fields:[],selected:[]};s[d]||u.models.push(te),s[d]=te,s[d].fields=["Please wait..."],i.getFields(P).then(ve=>{s[d].fields=ve.data}),B()}}},w=P=>{n.selected.length>0&&(n.selected=n.selected.filter(d=>!d.startsWith(P+".")))},H=(P,d,D)=>{let Q=u.models[d][D];u.models[d][D]=P.target.value,D==="relationAlias"&&(u.models[d].selected=[],w(Q)),B()},F=(P,d)=>{let D=u.models[P].relationAlias;delete s[d],u.models.splice(P,1),u.tableName="",w(D)},j=()=>u.models.length>0,E=()=>n.tableName!=="",t=()=>{k.value!==-1&&clearInterval(k.value)},N=()=>{t()},U=()=>{nextTick(function(){$.value!=null&&$.value.destroy();let P=document.getElementById("selectedFields");P&&($.value=Sortable.create(P,{onEnd:N,onStart:t}))})},W=(P,d,D="")=>{const Q=D!==""?D+"."+P:P;d.selected.indexOf(Q)===-1&&d.selected.push(Q),U()},L=(P,d="")=>{if(P.selected.length===0)P.selected=P.fields.slice(),d!==""&&(P.selected=P.selected.map(D=>d+"."+D));else for(let D=0;D<P.fields.length;D++)W(P.fields[D],P,d);U()},q=(P,d)=>{P.selected.splice(d,1)},oe=P=>{P.selected=[],r.selectedFields=[]},ne=()=>{let P=document.querySelectorAll("#selectedFields li"),d=P.length;if(d>0){let D=[];for(let Q=0;Q<d;Q++){let te=P[Q].getAttribute("data-fieldname");D.push(te)}r.selectedFields=D}},se=P=>{f.value={};for(let d in P.errors)P.errors.hasOwnProperty(d)&&(f.value[d]=P.errors[d][0]);_.value=P.message},_e=P=>{let d=P.target.getAttribute("name");d&&(f.value[d]=""),_.value!==""&&(_.value="")},re=P=>{n.tableName="",n.fields=[],n.modelName="",n.selected=[],u.tableName="",u.models=[],Object.keys(s).forEach(d=>delete s[d]),P.created===0?(Toast.show(o.proxy,"There is some error..."),_.value=P.message):Toast.show(o.proxy,"Created...")},pe=()=>{ne(),r.relationModels=u,r.post(m.value).then(P=>re(P)).catch(P=>se(P))};return(P,d)=>(openBlock(),createElementBlock("div",_hoisted_1$h,[createBaseVNode("form",{action:m.value,class:"bg-white shadow-lg rounded-lg border border-gray-100 overflow-hidden",method:"post",role:"form",onKeyup:d[17]||(d[17]=D=>_e(D)),onSubmit:withModifiers(pe,["prevent"])},[d[44]||(d[44]=createBaseVNode("div",{class:"px-8 py-6 border-b border-gray-100 bg-gray-50/50"},[createBaseVNode("h2",{class:"text-2xl font-black text-gray-800 tracking-tight"},"Create New Module"),createBaseVNode("p",{class:"text-sm text-gray-500 mt-1"},"Define your module configuration and data source")],-1)),createBaseVNode("div",_hoisted_3$d,[createBaseVNode("div",_hoisted_4$c,[createBaseVNode("label",_hoisted_5$9,[createBaseVNode("div",_hoisted_6$8,[withDirectives(createBaseVNode("input",{"onUpdate:modelValue":d[0]||(d[0]=D=>r.createFiles=D),type:"checkbox",name:"create-validator",class:"w-5 h-5 text-blue-600 bg-white border-gray-300 rounded-md focus:ring-blue-500 transition-all shadow-sm"},null,512),[[vModelCheckbox,r.createFiles]])]),d[18]||(d[18]=createBaseVNode("div",null,[createBaseVNode("span",{class:"text-sm font-bold text-gray-800 group-hover:text-blue-700 transition-colors"},"Generate Boilerplate Files"),createBaseVNode("p",{class:"text-[11px] text-gray-500 mt-0.5"},"Automates creation of Controller, Model, View, and Validator.")],-1))])]),createBaseVNode("div",_hoisted_7$7,[withDirectives(createBaseVNode("input",{"onUpdate:modelValue":d[1]||(d[1]=D=>r.display_name=D),type:"hidden"},null,512),[[vModelText,r.display_name]]),createBaseVNode("div",_hoisted_8$7,[d[19]||(d[19]=createBaseVNode("label",{class:"text-xs font-black text-gray-400 uppercase tracking-widest ml-1"},"Module Name",-1)),withDirectives(createBaseVNode("input",{"onUpdate:modelValue":d[2]||(d[2]=D=>r.name=D),class:"bg-white border border-gray-200 text-gray-700 text-sm rounded-xl focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 block w-full px-4 py-3 outline-none transition-all shadow-sm",name:"name",placeholder:"e.g. BlogPost",required:"",type:"text",onBlur:d[3]||(d[3]=D=>I())},null,544),[[vModelText,r.name]]),f.value.name?(openBlock(),createElementBlock("div",_hoisted_9$6,toDisplayString(f.value.name),1)):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_10$6,[d[20]||(d[20]=createBaseVNode("label",{class:"text-xs font-black text-gray-400 uppercase tracking-widest ml-1"},"Sub Title",-1)),withDirectives(createBaseVNode("input",{"onUpdate:modelValue":d[4]||(d[4]=D=>r.sub_title=D),class:"bg-white border border-gray-200 text-gray-700 text-sm rounded-xl focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 block w-full px-4 py-3 outline-none transition-all shadow-sm",name:"sub_title",placeholder:"Optional descriptive title",type:"text"},null,512),[[vModelText,r.sub_title]]),f.value.sub_title?(openBlock(),createElementBlock("div",_hoisted_11$5,toDisplayString(f.value.sub_title),1)):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_12$5,[d[21]||(d[21]=createBaseVNode("label",{class:"text-xs font-black text-gray-400 uppercase tracking-widest ml-1"},"Controller Name",-1)),withDirectives(createBaseVNode("input",{"onUpdate:modelValue":d[5]||(d[5]=D=>r.controller_name=D),class:"bg-white border border-gray-200 text-gray-700 text-sm rounded-xl focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 block w-full px-4 py-3 outline-none transition-all shadow-sm",name:"controller_name",placeholder:"e.g. blog-posts",required:"",type:"text",onBlur:d[6]||(d[6]=D=>I(r.controller_name))},null,544),[[vModelText,r.controller_name]]),f.value.controller_name?(openBlock(),createElementBlock("div",_hoisted_13$4,toDisplayString(f.value.controller_name),1)):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_14$4,[d[23]||(d[23]=createBaseVNode("label",{class:"text-xs font-black text-gray-400 uppercase tracking-widest ml-1"},"Parent Module",-1)),withDirectives(createBaseVNode("select",{"onUpdate:modelValue":d[7]||(d[7]=D=>r.parent_id=D),class:"bg-white border border-gray-200 text-gray-700 text-sm rounded-xl focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 block w-full px-4 py-3 outline-none transition-all shadow-sm cursor-pointer"},[d[22]||(d[22]=createBaseVNode("option",{value:""},"No Parent (Root Level)",-1)),(openBlock(!0),createElementBlock(Fragment,null,renderList(b.value,D=>(openBlock(),createElementBlock("option",{key:D.id,value:D.id},toDisplayString(D.name),9,_hoisted_15$4))),128))],512),[[vModelSelect,r.parent_id]]),f.value.parent_id?(openBlock(),createElementBlock("div",_hoisted_16$3,toDisplayString(f.value.parent_id),1)):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_17$3,[d[24]||(d[24]=createBaseVNode("label",{class:"text-xs font-black text-gray-400 uppercase tracking-widest ml-1"},"Icon CSS (FontAwesome)",-1)),createBaseVNode("div",_hoisted_18$3,[createBaseVNode("div",_hoisted_19$2,[createBaseVNode("i",{class:normalizeClass([r.icon_css||"fa fa-cube","text-gray-400 text-xl"])},null,2)]),withDirectives(createBaseVNode("input",{"onUpdate:modelValue":d[8]||(d[8]=D=>r.icon_css=D),class:"bg-white border border-gray-200 text-gray-700 text-sm rounded-xl focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 block w-full px-4 py-3 outline-none transition-all shadow-sm",name:"icon_css",placeholder:"fa fa-pencil",required:"",type:"text"},null,512),[[vModelText,r.icon_css]])]),f.value.icon_css?(openBlock(),createElementBlock("div",_hoisted_20$2,toDisplayString(f.value.icon_css),1)):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_21$2,[createBaseVNode("div",_hoisted_22$2,[createBaseVNode("div",_hoisted_23$2,[d[25]||(d[25]=createBaseVNode("label",{class:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1"},"List View",-1)),withDirectives(createBaseVNode("input",{"onUpdate:modelValue":d[9]||(d[9]=D=>r.list_view_name=D),class:"bg-white border border-gray-200 text-gray-700 text-xs rounded-lg focus:ring-2 focus:ring-blue-500/20 outline-none block w-full px-3 py-2",placeholder:"common/listing"},null,512),[[vModelText,r.list_view_name]])]),createBaseVNode("div",_hoisted_24$2,[d[26]||(d[26]=createBaseVNode("label",{class:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1"},"Edit View",-1)),withDirectives(createBaseVNode("input",{"onUpdate:modelValue":d[10]||(d[10]=D=>r.edit_view_name=D),class:"bg-white border border-gray-200 text-gray-700 text-xs rounded-lg focus:ring-2 focus:ring-blue-500/20 outline-none block w-full px-3 py-2",placeholder:"addedit"},null,512),[[vModelText,r.edit_view_name]])])])])]),r.createFiles?(openBlock(),createElementBlock("div",_hoisted_25$2,[d[41]||(d[41]=createBaseVNode("div",{class:"flex items-center gap-3 mb-4"},[createBaseVNode("div",{class:"h-8 w-1 bg-blue-600 rounded-full"}),createBaseVNode("h3",{class:"text-lg font-black text-gray-800"},"Master Data Configuration")],-1)),createBaseVNode("div",_hoisted_26$2,[createBaseVNode("div",_hoisted_27$2,[d[29]||(d[29]=createBaseVNode("label",{class:"text-xs font-black text-gray-400 uppercase tracking-widest ml-1"},"Main Table",-1)),withDirectives(createBaseVNode("select",{"onUpdate:modelValue":d[11]||(d[11]=D=>n.tableName=D),class:"bg-white border border-gray-200 text-gray-700 text-sm rounded-xl focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 block w-full px-4 py-3 outline-none transition-all shadow-sm cursor-pointer",onChange:d[12]||(d[12]=D=>V())},[d[27]||(d[27]=createBaseVNode("option",{value:""},"Choose Main Database Table",-1)),(openBlock(!0),createElementBlock(Fragment,null,renderList(l.value,D=>(openBlock(),createElementBlock("option",{key:D.name,value:D.name},toDisplayString(D.name),9,_hoisted_28$2))),128))],544),[[vModelSelect,n.tableName]]),n.tableName?(openBlock(),createElementBlock("div",_hoisted_29$2,[createBaseVNode("span",_hoisted_30$2,[d[28]||(d[28]=createBaseVNode("i",{class:"fa fa-code mr-1.5"},null,-1)),createTextVNode(" "+toDisplayString(p(n.tableName)),1)])])):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_31$1,[createBaseVNode("div",_hoisted_32$1,[d[31]||(d[31]=createBaseVNode("label",{class:"text-xs font-black text-gray-400 uppercase tracking-widest ml-1"},"Relational Models",-1)),withDirectives(createBaseVNode("select",{"onUpdate:modelValue":d[13]||(d[13]=D=>u.tableName=D),class:"bg-white border border-gray-200 text-gray-700 text-sm rounded-xl focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 block w-full px-4 py-3 outline-none transition-all shadow-sm cursor-pointer",onChange:d[14]||(d[14]=D=>v())},[d[30]||(d[30]=createBaseVNode("option",{value:""},"Add Joint Table Relation",-1)),(openBlock(!0),createElementBlock(Fragment,null,renderList(l.value,D=>(openBlock(),createElementBlock("option",{key:D.name,value:D.name},toDisplayString(D.name),9,_hoisted_33$1))),128))],544),[[vModelSelect,u.tableName]])]),j()?(openBlock(),createElementBlock("div",_hoisted_34$1,[(openBlock(!0),createElementBlock(Fragment,null,renderList(u.models,(D,Q)=>(openBlock(),createElementBlock("div",{key:Q,class:"bg-gray-50 border border-gray-200 rounded-xl p-4 shadow-sm relative group overflow-hidden"},[createBaseVNode("div",_hoisted_35$1,[createBaseVNode("div",_hoisted_36,[createBaseVNode("span",_hoisted_37,toDisplayString(D.model.split("::")[0]),1),createBaseVNode("button",{type:"button",class:"text-gray-400 hover:text-red-500 transition-colors",onClick:X=>F(Q,D.model)},[...d[32]||(d[32]=[createBaseVNode("i",{class:"fa fa-times-circle"},null,-1)])],8,_hoisted_38)]),createBaseVNode("div",_hoisted_39,[createBaseVNode("input",{value:D.relationAlias,onInput:X=>H(X,Q,"relationAlias"),class:"bg-white border border-gray-200 text-[11px] rounded-lg px-2 py-1.5 focus:border-blue-500 outline-none shadow-sm",placeholder:"Alias"},null,40,_hoisted_40),createBaseVNode("select",{class:"bg-white border border-gray-200 text-[11px] rounded-lg px-2 py-1.5 shadow-sm",onChange:X=>H(X,Q,"relationType")},[...d[33]||(d[33]=[createBaseVNode("option",{value:"hasMany"},"hasMany",-1),createBaseVNode("option",{value:"belongsTo"},"belongsTo",-1),createBaseVNode("option",{value:"hasOne"},"hasOne",-1)])],40,_hoisted_41)]),createBaseVNode("label",_hoisted_42,[withDirectives(createBaseVNode("input",{"onUpdate:modelValue":X=>D.isLanguage=X,type:"checkbox",class:"w-3.5 h-3.5 text-blue-600 rounded border-gray-300"},null,8,_hoisted_43),[[vModelCheckbox,D.isLanguage]]),d[34]||(d[34]=createBaseVNode("span",{class:"text-[10px] font-bold text-gray-500"},"I18n / Language?",-1))])])]))),128))])):createCommentVNode("",!0)])]),E()?(openBlock(),createElementBlock("div",_hoisted_44,[d[37]||(d[37]=createBaseVNode("div",{class:"flex items-center justify-between"},[createBaseVNode("h4",{class:"text-xs font-black text-gray-400 uppercase tracking-widest ml-1"},"Select Fields to Include")],-1)),createBaseVNode("div",_hoisted_45,[createBaseVNode("div",_hoisted_46,[createBaseVNode("div",_hoisted_47,[createBaseVNode("span",_hoisted_48,toDisplayString(p(n.tableName).split("::")[0]),1),createBaseVNode("button",{type:"button",onClick:d[15]||(d[15]=D=>L(n)),class:"text-[10px] font-black bg-blue-600 text-white px-2 py-1 rounded-md hover:bg-blue-700 transition-all"},"Add All")]),createBaseVNode("div",_hoisted_49,[createBaseVNode("ul",_hoisted_50,[(openBlock(!0),createElementBlock(Fragment,null,renderList(n.fields,D=>(openBlock(),createElementBlock("li",{key:D,onClick:Q=>W(D,n),class:"px-3 py-2.5 text-xs font-bold text-gray-600 hover:bg-blue-50 hover:text-blue-700 rounded-xl cursor-not-allowed transition-all flex items-center justify-between group active:scale-[0.98] cursor-pointer"},[createTextVNode(toDisplayString(D)+" ",1),d[35]||(d[35]=createBaseVNode("i",{class:"fa fa-plus-circle text-blue-400 opacity-0 group-hover:opacity-100 transition-opacity"},null,-1))],8,_hoisted_51))),128))])])]),(openBlock(!0),createElementBlock(Fragment,null,renderList(u.models,(D,Q)=>(openBlock(),createElementBlock("div",{key:Q,class:"bg-white border border-gray-200 rounded-lg shadow-sm flex flex-col h-[400px]"},[createBaseVNode("div",_hoisted_52,[createBaseVNode("div",_hoisted_53,[createBaseVNode("span",_hoisted_54,toDisplayString(D.model.split("::")[0]),1),createBaseVNode("span",_hoisted_55,"via: "+toDisplayString(D.relationAlias),1)]),createBaseVNode("button",{type:"button",onClick:X=>L(n,D.relationAlias),class:"text-[10px] font-black bg-purple-600 text-white px-2 py-1 rounded-md hover:bg-purple-700 transition-all"},"Add All",8,_hoisted_56)]),createBaseVNode("div",_hoisted_57,[createBaseVNode("ul",_hoisted_58,[(openBlock(!0),createElementBlock(Fragment,null,renderList(D.fields,X=>(openBlock(),createElementBlock("li",{key:X,onClick:te=>W(X,n,D.relationAlias),class:"px-3 py-2.5 text-xs font-bold text-gray-600 hover:bg-purple-50 hover:text-purple-700 rounded-xl cursor-pointer transition-all flex items-center justify-between group active:scale-[0.98]"},[createTextVNode(toDisplayString(X)+" ",1),d[36]||(d[36]=createBaseVNode("i",{class:"fa fa-plus-circle text-purple-400 opacity-0 group-hover:opacity-100 transition-opacity"},null,-1))],8,_hoisted_59))),128))])])]))),128))])])):createCommentVNode("",!0),n.selected.length>0?(openBlock(),createElementBlock("div",_hoisted_60,[createBaseVNode("div",_hoisted_61,[createBaseVNode("div",_hoisted_62,[d[38]||(d[38]=createBaseVNode("div",{class:"flex items-center gap-3"},[createBaseVNode("div",{class:"h-6 w-1 bg-green-500 rounded-full"}),createBaseVNode("h4",{class:"text-sm font-black text-white uppercase tracking-widest"},[createTextVNode("Selected Schema "),createBaseVNode("span",{class:"text-gray-500 ml-2 font-medium"},"(Drag to reorder)")])],-1)),createBaseVNode("button",{type:"button",onClick:d[16]||(d[16]=D=>oe(n)),class:"text-[10px] font-black text-red-400 hover:bg-red-400/10 px-3 py-1 rounded-lg border border-red-400/20 transition-all uppercase tracking-widest"},"Clear All")]),createBaseVNode("ul",_hoisted_63,[(openBlock(!0),createElementBlock(Fragment,null,renderList(n.selected,(D,Q)=>(openBlock(),createElementBlock("li",{key:D,"data-fieldname":D,class:"bg-gray-800 border-2 border-transparent hover:border-blue-500/50 text-gray-300 px-4 py-2.5 rounded-xl text-[11px] font-black flex items-center gap-4 cursor-move hover:bg-gray-700 hover:text-white transition-all shadow-lg active:ring-2 active:ring-blue-500 group"},[d[40]||(d[40]=createBaseVNode("i",{class:"fa fa-grip-vertical text-gray-600 group-hover:text-blue-400"},null,-1)),createTextVNode(" "+toDisplayString(D)+" ",1),createBaseVNode("button",{type:"button",onClick:X=>q(n,Q),class:"text-gray-600 hover:text-red-400 transition-colors ml-1"},[...d[39]||(d[39]=[createBaseVNode("i",{class:"fa fa-times-circle text-base"},null,-1)])],8,_hoisted_65)],8,_hoisted_64))),128))])])])):createCommentVNode("",!0)])):createCommentVNode("",!0)]),createBaseVNode("div",_hoisted_66,[_.value!==""?(openBlock(),createElementBlock("div",_hoisted_67,[d[42]||(d[42]=createBaseVNode("i",{class:"fa fa-exclamation-triangle text-2xl"},null,-1)),createTextVNode(" "+toDisplayString(_.value),1)])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_68,[d[43]||(d[43]=createBaseVNode("button",{class:"w-full sm:w-auto px-16 py-4.5 bg-blue-600 hover:bg-blue-700 text-white font-black rounded-lg shadow-lg shadow-blue-500/30 transition-all hover:-translate-y-1 active:scale-95 text-lg tracking-tight",name:"submit",type:"submit"}," Create Module ",-1)),createBaseVNode("a",{href:S.dataBackUrl,class:"w-full sm:w-auto px-12 py-4.5 bg-white border border-gray-200 text-gray-500 font-bold rounded-lg hover:bg-gray-100 hover:text-gray-700 transition-all text-center"}," Cancel ",8,_hoisted_69)])])],40,_hoisted_2$d)]))}},_hoisted_1$g={class:"space-y-6 max-w-5xl mx-auto"},_hoisted_2$c={key:0,class:"bg-blue-50 border-l-4 border-blue-500 p-6 rounded-r-2xl shadow-sm"},_hoisted_3$c={class:"flex items-start gap-4"},_hoisted_4$b={class:"flex-1"},_hoisted_5$8={class:"text-blue-700 leading-relaxed"},_hoisted_6$7={class:"font-black underline"},_hoisted_7$6={class:"mt-6"},_hoisted_8$6=["href"],_hoisted_9$5=["action"],_hoisted_10$5={class:"px-8 py-6 border-b border-gray-100 bg-gray-50/50 flex flex-col sm:flex-row items-center justify-between gap-4"},_hoisted_11$4={class:"flex items-center gap-4"},_hoisted_12$4={class:"relative flex items-center"},_hoisted_13$3={for:"selectAll",class:"text-lg font-extrabold text-gray-800 cursor-pointer select-none"},_hoisted_14$3={class:"text-blue-600"},_hoisted_15$3={class:"text-[10px] uppercase font-black tracking-widest text-gray-400 bg-white px-3 py-1 rounded-full border border-gray-100 shadow-sm"},_hoisted_16$2={class:"p-4 sm:p-8"},_hoisted_17$2={class:"space-y-4"},_hoisted_18$2={class:"flex items-center gap-4"},_hoisted_19$1=["onClick","onUpdate:modelValue","id"],_hoisted_20$1=["for"],_hoisted_21$1={class:"flex items-center gap-3 bg-gray-50 px-3 py-1.5 rounded-lg border border-gray-100 group-hover:bg-white group-hover:border-orange-100 transition-all"},_hoisted_22$1=["id","onUpdate:modelValue","onClick"],_hoisted_23$1=["for"],_hoisted_24$1={key:1,class:"bg-white divide-y divide-gray-50"},_hoisted_25$1={class:"flex items-center justify-between p-4 sm:pl-14 sm:pr-6 hover:bg-blue-50/30 transition-all"},_hoisted_26$1={class:"flex items-center gap-3"},_hoisted_27$1=["onClick","onUpdate:modelValue","id"],_hoisted_28$1=["for"],_hoisted_29$1={class:"flex items-center gap-3 opacity-60 group-hover:opacity-100 transition-opacity"},_hoisted_30$1=["id","onUpdate:modelValue","onClick"],_hoisted_31=["for"],_hoisted_32={class:"px-8 py-8 bg-gray-50/50 border-t border-gray-100 flex flex-col items-center gap-6"},_hoisted_33={key:0,class:"w-full max-w-md bg-red-50 text-red-700 px-4 py-3 rounded-xl border border-red-100 text-sm font-bold flex items-center gap-3 animate-shake"},_hoisted_34={class:"flex flex-col sm:flex-row items-center gap-4 w-full justify-center"},_hoisted_35=["href"],_sfc_main$g={__name:"module-permission",props:["dataCmsModules","dataUserModules","dataControllerName","dataBackUrl","dataIsSuperAdmin"],setup(S){const e=S,o=getCurrentInstance(),i=ref(SafeJsonParse(e.dataUserModules,[])),l=reactive(new Form({cmsModuleData:[],userId:0})),b=ref(!1),n=ref(!1),u=ref(""),r=computed(()=>{const B=i.value.cmsmodules||[],M=SafeJsonParse(e.dataCmsModules,[]);function v(H){if(B.length>0){const F=B.find(j=>j.module_id.toString()===H.id.toString());return F===void 0?!1:F}return!1}const w=[];if(M.length>0)for(let H=0;H<M.length;H++){const F=M[H],j=v(F);if(F.selected=!!j,F.readonly=j&&j.readonly===1,F.parent_id===0&&F.child&&F.child.length>0)for(let E=0;E<F.child.length;E++){const t=F.child[E],N=v(t);t.selected=!!N,t.readonly=N&&N.readonly===1}F.parent_id===0&&w.push(F)}return w}),f=computed(()=>adminConfig.admin_path(e.dataControllerName+"/saveModulePermissions")),s=B=>B.child&&B.child.length>0,$=B=>B.parent_id===0,k=(B,M,v=null)=>{let w=B.selected;if(v!==null&&(w=v,B.selected=w),B.child&&B.child.length>0&&B.child.forEach(H=>{H.selected=w,w||(H.readonly=!1)}),w!==!0&&(B.readonly=!1),M){const H=M.child.find(F=>F.selected===!0);(w||H)&&(M.selected=!0)}w===!1&&(b.value=!1)},_=B=>{SafeJsonParse(B,{});function M(v){const w=document.getElementById("check_"+v),H=document.getElementById("check_readonly_"+v);return w&&w.checked?{selected:!0,readonly:H?H.checked:!1}:{selected:!1,readonly:!1}}l.cmsModuleData.forEach(v=>{const w=M(v.id);w.selected&&(v.selected=!0,v.readonly=w.readonly),v.child&&v.child.length>0&&v.child.forEach(H=>{const F=M(H.id);F.selected&&(H.selected=!0,H.readonly=F.readonly)})})},m=(B,M,v=!1)=>{const w=M.target.checked;B.selected!==!0&&(B.selected=w)},p=()=>{const B=!b.value;l.cmsModuleData.forEach(M=>{M.selected=B,k(M,void 0,B)})},g=()=>{(e.dataIsSuperAdmin.toString()==="1"||e.dataIsSuperAdmin.toString()==="true")&&(n.value=!0)},I=B=>{B.isSaved===!0?Toast.show(o,"Saved Successfully."):Toast.show(o,"There is some error.")},V=()=>{l.post(f.value,!1).then(B=>I(B)).catch(B=>I(B))};return onMounted(()=>{l.cmsModuleData=r.value,l.userId=i.value.id,g(),EventBus.on("on-paste",_)}),onBeforeUnmount(()=>{EventBus.off("on-paste",_)}),(B,M)=>(openBlock(),createElementBlock("div",_hoisted_1$g,[n.value?(openBlock(),createElementBlock("div",_hoisted_2$c,[createBaseVNode("div",_hoisted_3$c,[M[4]||(M[4]=createBaseVNode("div",{class:"flex-shrink-0 bg-blue-100 p-2 rounded-lg"},[createBaseVNode("i",{class:"fa fa-shield-alt text-blue-600 text-xl"})],-1)),createBaseVNode("div",_hoisted_4$b,[M[3]||(M[3]=createBaseVNode("h3",{class:"text-blue-800 font-bold text-lg mb-1"},"Administrative Privileges Active",-1)),createBaseVNode("p",_hoisted_5$8,[createBaseVNode("span",_hoisted_6$7,toDisplayString(i.value.name),1),M[2]||(M[2]=createTextVNode(" is registered as an Admin or Super Admin. All module accesses are granted automatically by the system. No manual configuration is required. ",-1))]),createBaseVNode("div",_hoisted_7$6,[createBaseVNode("a",{href:S.dataBackUrl,class:"inline-flex items-center px-6 py-2.5 bg-blue-600 text-white font-bold rounded-xl hover:bg-blue-700 shadow-md shadow-blue-200 transition-all active:scale-95"}," Return to User List ",8,_hoisted_8$6)])])])])):createCommentVNode("",!0),n.value?createCommentVNode("",!0):(openBlock(),createElementBlock("form",{key:1,action:f.value,class:"bg-white shadow-lg shadow-gray-200/50 border border-gray-100 rounded-lg overflow-hidden",method:"post",role:"form",onSubmit:withModifiers(V,["prevent"])},[createBaseVNode("div",_hoisted_10$5,[createBaseVNode("div",_hoisted_11$4,[createBaseVNode("div",_hoisted_12$4,[withDirectives(createBaseVNode("input",{"onUpdate:modelValue":M[0]||(M[0]=v=>b.value=v),type:"checkbox",id:"selectAll",class:"w-6 h-6 text-blue-600 bg-white border-gray-300 rounded-lg focus:ring-blue-500 focus:ring-offset-2 transition-all cursor-pointer shadow-sm",onClick:M[1]||(M[1]=v=>p())},null,512),[[vModelCheckbox,b.value]])]),createBaseVNode("label",_hoisted_13$3,[M[5]||(M[5]=createTextVNode(" Assign Modules for ",-1)),createBaseVNode("span",_hoisted_14$3,toDisplayString(i.value.name)+" "+toDisplayString(i.value.last_name),1)])]),createBaseVNode("div",_hoisted_15$3," Role: "+toDisplayString(i.value.role_name||"Standard User"),1)]),createBaseVNode("div",_hoisted_16$2,[createBaseVNode("ul",_hoisted_17$2,[(openBlock(!0),createElementBlock(Fragment,null,renderList(l.cmsModuleData,v=>(openBlock(),createElementBlock("li",{key:v.id,class:"border border-gray-100 rounded-lg overflow-hidden shadow-[0_2px_10px_rgba(0,0,0,0.02)] transition-all hover:shadow-[0_4px_20px_rgba(0,0,0,0.05)]"},[$(v)?(openBlock(),createElementBlock("div",{key:0,class:normalizeClass(["flex items-center justify-between bg-white p-4 sm:px-6 transition-colors border-b border-transparent group",{"border-gray-50 bg-gray-50/30":s(v)}])},[createBaseVNode("div",_hoisted_18$2,[withDirectives(createBaseVNode("input",{onClick:w=>k(v),class:"w-5 h-5 text-blue-600 bg-white border-gray-300 rounded focus:ring-blue-500 transition-all cursor-pointer shadow-sm",type:"checkbox","onUpdate:modelValue":w=>v.selected=w,id:"check_"+v.id},null,8,_hoisted_19$1),[[vModelCheckbox,v.selected]]),createBaseVNode("label",{class:"text-base font-bold text-gray-700 cursor-pointer select-none group-hover:text-blue-600 transition-colors",for:"check_"+v.id},toDisplayString(v.name),9,_hoisted_20$1)]),createBaseVNode("div",_hoisted_21$1,[withDirectives(createBaseVNode("input",{id:"check_readonly_"+v.id,"onUpdate:modelValue":w=>v.readonly=w,type:"checkbox",class:"w-4 h-4 text-orange-500 bg-white border-gray-300 rounded focus:ring-orange-500 transition-all cursor-pointer",onClick:w=>m(v,w)},null,8,_hoisted_22$1),[[vModelCheckbox,v.readonly]]),createBaseVNode("label",{for:"check_readonly_"+v.id,class:"text-[10px] font-black text-gray-400 group-hover:text-orange-500 cursor-pointer uppercase tracking-widest select-none"}," Read Only ",8,_hoisted_23$1)])],2)):createCommentVNode("",!0),s(v)?(openBlock(),createElementBlock("ul",_hoisted_24$1,[(openBlock(!0),createElementBlock(Fragment,null,renderList(v.child,w=>(openBlock(),createElementBlock("li",{key:w.id,class:"group"},[createBaseVNode("div",_hoisted_25$1,[createBaseVNode("div",_hoisted_26$1,[withDirectives(createBaseVNode("input",{onClick:H=>k(w,v),class:"w-4 h-4 text-blue-500 bg-white border-gray-300 rounded-md focus:ring-blue-500 transition-all cursor-pointer shadow-sm",type:"checkbox","onUpdate:modelValue":H=>w.selected=H,id:"check_"+w.id},null,8,_hoisted_27$1),[[vModelCheckbox,w.selected]]),createBaseVNode("label",{class:"text-sm font-semibold text-gray-600 cursor-pointer group-hover:text-gray-900 select-none",for:"check_"+w.id},toDisplayString(w.name),9,_hoisted_28$1)]),createBaseVNode("div",_hoisted_29$1,[withDirectives(createBaseVNode("input",{id:"check_readonly_"+w.id,"onUpdate:modelValue":H=>w.readonly=H,type:"checkbox",class:"w-4 h-4 text-orange-400 bg-white border-gray-300 rounded-md focus:ring-orange-400 transition-all cursor-pointer",onClick:H=>m(w,H,!0)},null,8,_hoisted_30$1),[[vModelCheckbox,w.readonly]]),createBaseVNode("label",{for:"check_readonly_"+w.id,class:"text-[9px] font-black text-gray-400 group-hover:text-orange-500 cursor-pointer uppercase tracking-tighter select-none"}," Read Only ",8,_hoisted_31)])])]))),128))])):createCommentVNode("",!0)]))),128))])]),createBaseVNode("div",_hoisted_32,[u.value!==""?(openBlock(),createElementBlock("div",_hoisted_33,[M[6]||(M[6]=createBaseVNode("i",{class:"fa fa-exclamation-triangle text-lg"},null,-1)),createTextVNode(" "+toDisplayString(u.value),1)])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_34,[M[7]||(M[7]=createBaseVNode("button",{class:"w-full sm:w-auto px-12 py-4 bg-blue-600 hover:bg-blue-700 text-white font-black rounded-lg shadow-lg shadow-blue-500/20 transition-all hover:-translate-y-1 active:scale-95 text-lg tracking-wide",name:"submit",type:"submit"}," Update Permissions ",-1)),createBaseVNode("a",{href:S.dataBackUrl,class:"w-full sm:w-auto px-10 py-4 bg-white border border-gray-200 text-gray-500 font-bold rounded-lg hover:bg-gray-100 hover:text-gray-700 transition-all text-center"}," Cancel ",8,_hoisted_35)])])],40,_hoisted_9$5))]))}},_hoisted_1$f={key:0,class:"flex flex-col sm:flex-row justify-between items-center bg-white p-4 rounded-lg border border-gray-100 shadow-sm gap-4 mt-8"},_hoisted_2$b={class:"text-xs font-black text-gray-400 uppercase tracking-widest px-4"},_hoisted_3$b={class:"counters"},_hoisted_4$a={class:"text-gray-900"},_hoisted_5$7={class:"text-gray-900"},_hoisted_6$6={class:"text-blue-600 font-black"},_hoisted_7$5={class:"flex-1 flex justify-center"},_hoisted_8$5={key:0,class:"px-2"},_sfc_main$f={__name:"pagination",props:["dataPaginator","dataFirstItem","dataLastItem","dataTotal","dataControllerName","dataNextLabel","dataPreviousLabel","dataShowDownload"],setup(S){const e=S,o=ref(parseInt(e.dataTotal)),i=ref(parseInt(e.dataLastItem)),l=ref(e.dataControllerName),b=ref(SafeJsonParse(e.dataPaginator,{})),n=ref(e.dataShowDownload==="true"||e.dataShowDownload==="1"),u=computed(()=>b.value.last_page>1),r=()=>{o.value=o.value-1,i.value=i.value-1},f=s=>{const $=b.value.links?.find(k=>k.label==s);if($&&$.url)window.location.href=$.url;else{const k=b.value.path,_=new URLSearchParams(window.location.search);_.set("page",s),window.location.href=`${k}?${_.toString()}`}};return onMounted(()=>{EventBus.on("pagination-on-delete",r)}),onBeforeUnmount(()=>{EventBus.off("pagination-on-delete",r)}),(s,$)=>o.value>0?(openBlock(),createElementBlock("div",_hoisted_1$f,[createBaseVNode("div",_hoisted_2$b,[createBaseVNode("span",_hoisted_3$b,[$[0]||($[0]=createTextVNode(" Showing ",-1)),createBaseVNode("span",_hoisted_4$a,toDisplayString(S.dataFirstItem),1),$[1]||($[1]=createTextVNode(" to ",-1)),createBaseVNode("span",_hoisted_5$7,toDisplayString(i.value),1),$[2]||($[2]=createTextVNode(" of ",-1)),createBaseVNode("span",_hoisted_6$6,toDisplayString(o.value),1),$[3]||($[3]=createTextVNode(" Results ",-1))])]),createBaseVNode("div",_hoisted_7$5,[u.value?(openBlock(),createBlock(HcPagination,{key:0,"model-value":b.value.current_page,"total-pages":b.value.last_page,onChange:f},null,8,["model-value","total-pages"])):createCommentVNode("",!0)]),o.value>0&&n.value?(openBlock(),createElementBlock("div",_hoisted_8$5,[createVNode(_sfc_main$u,{"data-controller-name":l.value},null,8,["data-controller-name"])])):createCommentVNode("",!0)])):createCommentVNode("",!0)}},_hoisted_1$e={class:"flex items-center space-x-2"},_hoisted_2$a=["name","id","multiple"],_hoisted_3$a=["value"],_hoisted_4$9={class:"fa fa-refresh fa-spin text-blue-600","aria-hidden":"true"},_sfc_main$e={__name:"platform-button",props:["dataName","dataId","dataPlatforms","dataSelected","dataMultiple","dataSiteId","dataFetchOnInit"],setup(S){const e=S,o=ref(SafeJsonParse(e.dataPlatforms,[])),i=ref(typeof e.dataName>"u"?"platform_id":e.dataName),l=ref(typeof e.dataId>"u"?"platform_id":e.dataId),b=ref(typeof e.dataSiteId>"u"?1:parseInt(e.dataSiteId)),n=ref(typeof e.dataFetchOnInit>"u"||e.dataFetchOnInit==="false"?!1:e.dataFetchOnInit),u=ref(!1),r=ref(e.dataMultiple!=="true"?typeof e.dataSelected>"u"?1:parseInt(e.dataSelected):SafeJsonParse(e.dataSelected,[1])),f=($=null)=>{if($===null||$==="")return o.value=[],!1;u.value=!0;let k=adminConfig.admin_path("ajax/getInfo/site/"+$);axios$1.get(k).then(function(_){o.value=_.data.results.platform,u.value=!1}).catch(function(_){console.error(_.data),u.value=!1})},s=()=>{EventBus.emit("platform_changed",r.value)};return onMounted(()=>{n.value!==!1&&f(b.value),EventBus.on("site_changed",f)}),onBeforeUnmount(()=>{EventBus.off("site_changed",f)}),($,k)=>(openBlock(),createElementBlock("div",_hoisted_1$e,[withDirectives(createBaseVNode("select",{name:i.value,id:l.value,onChange:s,"onUpdate:modelValue":k[0]||(k[0]=_=>r.value=_),multiple:S.dataMultiple=="true",class:"bg-white border border-gray-300 text-gray-700 text-sm rounded-lg focus:ring-blue-500 focus:border-blue-500 block w-full px-4 py-2 hover:border-gray-400 transition-all cursor-pointer"},[k[1]||(k[1]=createBaseVNode("option",{value:""},"Select Platform",-1)),(openBlock(!0),createElementBlock(Fragment,null,renderList(o.value,_=>(openBlock(),createElementBlock("option",{value:_.id,key:_.id},toDisplayString(_.name),9,_hoisted_3$a))),128))],40,_hoisted_2$a),[[vModelSelect,r.value]]),withDirectives(createBaseVNode("i",_hoisted_4$9,null,512),[[vShow,u.value]])]))}},_hoisted_1$d={class:"relative group"},_hoisted_2$9=["name","id"],_hoisted_3$9=["value"],_sfc_main$d={__name:"site-button",props:["dataName","dataId","dataSites","dataSelected"],setup(S){const e=S,o=ref(SafeJsonParse(e.dataSites,[])),i=ref(typeof e.dataSelected>"u"?1:parseInt(e.dataSelected)),l=ref(typeof e.dataName>"u"?"site_id":e.dataName),b=ref(typeof e.dataId>"u"?"site_id":e.dataId),n=()=>{EventBus.emit("site_changed",i.value)};return(u,r)=>(openBlock(),createElementBlock("div",_hoisted_1$d,[withDirectives(createBaseVNode("select",{name:l.value,id:b.value,onChange:n,"onUpdate:modelValue":r[0]||(r[0]=f=>i.value=f),class:"bg-white border border-gray-200 text-gray-700 text-sm rounded-xl focus:ring-2 focus:ring-blue-500/20 focus:border-blue-500 block w-full px-4 py-2.5 outline-none transition-all shadow-sm cursor-pointer hover:border-blue-300"},[r[1]||(r[1]=createBaseVNode("option",{value:""},"Select Target Site",-1)),(openBlock(!0),createElementBlock(Fragment,null,renderList(o.value,f=>(openBlock(),createElementBlock("option",{key:f.id,value:f.id},toDisplayString(f.name),9,_hoisted_3$9))),128))],40,_hoisted_2$9),[[vModelSelect,i.value]])]))}},_hoisted_1$c={class:"max-w-xl mx-auto space-y-8 py-4"},_hoisted_2$8={class:"bg-white shadow-lg rounded-lg border border-gray-100 overflow-hidden"},_hoisted_3$8={class:"p-10 space-y-8"},_hoisted_4$8={class:"grid grid-cols-1 md:grid-cols-2 gap-8"},_hoisted_5$6={class:"space-y-2"},_hoisted_6$5=["value"],_hoisted_7$4={class:"space-y-2"},_hoisted_8$4=["value"],_hoisted_9$4={class:"space-y-4"},_hoisted_10$4={class:"bg-amber-50 border border-amber-100 text-amber-700 px-8 py-5 rounded-lg text-[11px] font-black shadow-sm flex items-center gap-4 animate-fadeIn"},_hoisted_11$3={class:"bg-blue-50 border border-blue-100 text-blue-700 px-8 py-5 rounded-lg text-[11px] font-black shadow-sm flex items-center gap-4 animate-pulse"},_hoisted_12$3={class:"bg-gray-50/50 border border-gray-100 rounded-lg shadow-inner max-h-[300px] overflow-y-auto divide-y divide-gray-100/50 scrollbar-thin scrollbar-thumb-gray-200"},_hoisted_13$2={key:0,class:"fa fa-check-circle text-green-500 text-base"},_hoisted_14$2={key:1,class:"fa fa-times-circle text-red-500 text-base"},_hoisted_15$2={class:"pt-6"},_sfc_main$c={__name:"site-cloner",props:["dataAllSites"],setup(S){const o=ref(SafeJsonParse(S.dataAllSites,[])),i=ref(""),l=ref(""),b=ref(0),n=ref(""),u=ref([]),r=computed(()=>n.value===""?"It's undoable. Please be careful.":n.value),f=_=>{let m="";return _.name||_.alias?m=_.name||_.alias:_.lang&&(m=typeof _.lang.name>"u"?"":_.lang.name),m},s=_=>{b.value=_},$=()=>{console.log("copying now..."),s(1);const _={sourceSiteId:i.value,tagetSiteId:l.value},m=adminConfig.admin_path("site/cloneSite");axios.post(m,_).then(p=>{console.log(p),u.value=p.data,s(2)}).catch(p=>{console.log("Error: ",p.response),n.value=p.response?p.response.data.message:p.message,s(0)})},k=()=>{$()};return(_,m)=>(openBlock(),createElementBlock("div",_hoisted_1$c,[createBaseVNode("div",_hoisted_2$8,[m[9]||(m[9]=createBaseVNode("div",{class:"px-10 py-8 border-b border-gray-100 bg-gray-50/50"},[createBaseVNode("h2",{class:"text-2xl font-black text-gray-800 tracking-tight"},"Full Site Mirroring Tool"),createBaseVNode("p",{class:"text-sm text-gray-500 mt-1"},"Clone content, settings, and structure between sites")],-1)),createBaseVNode("div",_hoisted_3$8,[createBaseVNode("div",_hoisted_4$8,[createBaseVNode("div",_hoisted_5$6,[m[4]||(m[4]=createBaseVNode("label",{class:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1"},"Copy From (Source)",-1)),withDirectives(createBaseVNode("select",{class:"bg-white border border-gray-200 text-gray-700 text-sm rounded-lg focus:ring-4 focus:ring-blue-500/10 focus:border-blue-500 block w-full px-5 py-4 outline-none transition-all shadow-sm cursor-pointer hover:border-blue-300","onUpdate:modelValue":m[0]||(m[0]=p=>i.value=p)},[m[3]||(m[3]=createBaseVNode("option",{value:""},"Select Origin Site",-1)),(openBlock(!0),createElementBlock(Fragment,null,renderList(o.value,p=>(openBlock(),createElementBlock("option",{key:p.id,value:p.id},toDisplayString(f(p)),9,_hoisted_6$5))),128))],512),[[vModelSelect,i.value]])]),createBaseVNode("div",_hoisted_7$4,[m[6]||(m[6]=createBaseVNode("label",{class:"text-[10px] font-black text-gray-400 uppercase tracking-widest ml-1"},"Copy To (Destination)",-1)),withDirectives(createBaseVNode("select",{class:"bg-white border border-gray-200 text-gray-700 text-sm rounded-lg focus:ring-4 focus:ring-blue-500/10 focus:border-blue-500 block w-full px-5 py-4 outline-none transition-all shadow-sm cursor-pointer hover:border-blue-300","onUpdate:modelValue":m[1]||(m[1]=p=>l.value=p)},[m[5]||(m[5]=createBaseVNode("option",{value:""},"Select Target Site",-1)),(openBlock(!0),createElementBlock(Fragment,null,renderList(o.value,p=>(openBlock(),createElementBlock("option",{key:p.id,value:p.id},toDisplayString(f(p)),9,_hoisted_8$4))),128))],512),[[vModelSelect,l.value]])])]),createBaseVNode("div",_hoisted_9$4,[withDirectives(createBaseVNode("div",_hoisted_10$4,[m[7]||(m[7]=createBaseVNode("i",{class:"fa fa-exclamation-triangle text-amber-500 text-xl"},null,-1)),createBaseVNode("span",null,toDisplayString(r.value),1)],512),[[vShow,r.value!=""&&!b.value]]),withDirectives(createBaseVNode("div",_hoisted_11$3,[...m[8]||(m[8]=[createBaseVNode("i",{class:"fa fa-spinner fa-spin text-xl"},null,-1),createBaseVNode("span",null,"Processing mirroring request... Please stay on this page.",-1)])],512),[[vShow,b.value==1]]),withDirectives(createBaseVNode("div",_hoisted_12$3,[(openBlock(!0),createElementBlock(Fragment,null,renderList(u.value,(p,g)=>(openBlock(),createElementBlock("div",{key:g,class:"px-6 py-4 text-[10px] flex items-center gap-4 transition-colors hover:bg-white"},[p.success!==!1?(openBlock(),createElementBlock("i",_hoisted_13$2)):(openBlock(),createElementBlock("i",_hoisted_14$2)),createBaseVNode("span",{class:normalizeClass(p.success===!1?"text-red-600 font-black":"text-gray-600 font-bold")},toDisplayString(p.message),3)]))),128))],512),[[vShow,b.value>1]])]),createBaseVNode("div",_hoisted_15$2,[createBaseVNode("button",{onClick:m[2]||(m[2]=p=>k()),type:"button",class:"w-full py-5 bg-blue-600 hover:bg-blue-700 text-white font-black rounded-lg shadow-lg shadow-blue-500/30 transition-all hover:scale-[1.02] active:scale-95 text-lg uppercase tracking-widest"}," Initialize Copy ")])])])]))}},_hoisted_1$b={class:"grid grid-cols-1 md:grid-cols-2 gap-8 p-1 w-full"},_hoisted_2$7={class:"bg-white rounded-lg shadow-lg border border-gray-100 overflow-hidden flex flex-col"},_hoisted_3$7={class:"px-8 py-6 bg-white border-b border-gray-100 flex items-center justify-between"},_hoisted_4$7={class:"flex items-center gap-3"},_hoisted_5$5={class:"text-xs font-black text-gray-800 uppercase tracking-widest"},_hoisted_6$4={class:"bg-gray-100 text-gray-600 text-[10px] font-black px-2 py-0.5 rounded-full shadow-inner"},_hoisted_7$3={class:"p-8 space-y-4 flex-1 flex flex-col"},_hoisted_8$3={key:0,class:"flex flex-col sm:flex-row items-center justify-between gap-4"},_hoisted_9$3={class:"inline-flex items-center gap-2 cursor-pointer group text-[10px] font-black text-gray-400 uppercase tracking-widest"},_hoisted_10$3={key:0,class:"relative w-full sm:w-48"},_hoisted_11$2={class:"flex-1 divide-y divide-gray-50 min-h-[300px] max-h-[500px] overflow-y-auto scrollbar-thin scrollbar-thumb-gray-200 pr-2"},_hoisted_12$2=["onUpdate:modelValue"],_hoisted_13$1={class:"flex flex-col gap-0.5"},_hoisted_14$1={class:"text-xs font-black text-gray-500 group-hover:text-gray-900 transition-colors"},_hoisted_15$1={class:"text-[9px] font-black text-gray-300 uppercase tracking-widest"},_hoisted_16$1={class:"bg-white rounded-lg shadow-lg border border-gray-100 overflow-hidden flex flex-col"},_hoisted_17$1={key:0,class:"px-8 pt-6"},_hoisted_18$1=["innerHTML"],_hoisted_19={class:"px-8 py-6 bg-white border-b border-gray-100 flex items-center justify-between"},_hoisted_20={class:"flex items-center gap-3"},_hoisted_21={class:"text-xs font-black text-green-600 uppercase tracking-widest"},_hoisted_22={class:"bg-green-50 text-green-600 text-[10px] font-black px-2 py-0.5 rounded-full shadow-inner"},_hoisted_23={class:"p-8 space-y-4 flex-1 flex flex-col"},_hoisted_24={key:0},_hoisted_25={class:"inline-flex items-center gap-2 cursor-pointer group text-[10px] font-black text-gray-400 uppercase tracking-widest"},_hoisted_26={class:"flex-1 divide-y divide-gray-50 min-h-[300px] max-h-[500px] overflow-y-auto scrollbar-thin scrollbar-thumb-gray-200 pr-2"},_hoisted_27=["onUpdate:modelValue"],_hoisted_28={class:"flex flex-col gap-0.5"},_hoisted_29={class:"text-xs font-black text-gray-700 group-hover:text-green-700 transition-colors"},_hoisted_30={class:"text-[9px] font-black text-gray-300 uppercase tracking-widest"},_sfc_main$b={__name:"sitewise-data",props:["dataMessage","dataAllData","dataSiteData","dataCurrentKey","dataSiteId","dataDefaultActionForSave","dataAlertCss","dataControllerName"],setup(S,{expose:e}){const o=S,i=getCurrentInstance(),l=ref(SafeJsonParse(o.dataSiteData,[])),b=ref(SafeJsonParse(o.dataAllData,[])),n=ref(o.dataCurrentKey),u=ref(""),r=ref(parseInt(o.dataSiteId)),f=ref(typeof o.dataMessage>"u"?"":o.dataMessage),s=ref(typeof o.dataDefaultActionForSave>"u"?"saveSettings":o.dataDefaultActionForSave),$=ref(typeof o.dataAlertCss>"u"||o.dataAlertCss===""?"alert alert-info":o.dataAlertCss),k=ref(typeof o.dataControllerName>"u"?"site":o.dataControllerName),_=computed(()=>b.value.label),m=computed(()=>b.value.data?b.value.data.length:0),p=computed(()=>l.value==null?0:l.value.length),g=computed(()=>b.value.data&&b.value.data.length>10),I=(j,E)=>(Loader.show(i,"Please wait. Making Changes..."),new Promise((t,N)=>{axios.post(j,E).then(U=>t(U)).catch(U=>N(SafeErrorData(U))).finally(()=>Loader.hide(i))})),V=j=>{let E="";return j.lang?E=typeof j.lang.name>"u"?"":j.lang.name:E=j.name||j.alias||"",E},B=j=>{if(typeof j.name<"u"||typeof j.alias<"u")return j.name||j.alias;if(j.lang)return typeof j.lang.name>"u"?"":j.lang.name;if(b.value.data&&b.value.data.length>0){const E=b.value.data.findIndex(t=>t.id===j.id||typeof j.link_rewrite<"u"&&j.link_rewrite===t.link_rewrite);return E===-1?"":V(b.value.data[E])}return""},M=()=>{let j=u.value;return b.value.data?j!==""&&j!=null?(j=j.toLowerCase(),b.value.data.filter(E=>V(E).toLowerCase().includes(j)||E.id.toString()===j)):b.value.data:[]},v=(j="add")=>{const E=j==="add"?b.value.data:l.value,t=[],N=[];if(E&&E.length>0){if(E.forEach(U=>{U.selected===!0&&(t.push(U.id),N.push(U))}),typeof s.value=="function")return s.value(j,E,N,t),!1;if(t.length>0){const U={key:n.value,ids:t,site_id:r.value,action:j};I(adminConfig.admin_path(`${k.value}/${s.value}`),U).then(W=>{j==="add"?N.forEach(L=>{l.value.findIndex(oe=>oe.id===L.id)===-1&&l.value.push(L)}):N.forEach(L=>{const q=l.value.findIndex(oe=>oe.id===L.id);q!==-1&&l.value.splice(q,1)})}).catch(W=>{console.error("error: ",W),Toast.show(i,W?.data?.message||"I don't know what went wrong.",5e3)})}}},w=(j,E)=>{const t=j==="table"?b.value.data:l.value,N=E.checked;t&&t.length>0&&t.forEach(U=>{U.selected=N})};return e({setData:(j,E)=>{b.value[j]=E},setSiteData:j=>{l.value=j}}),(j,E)=>(openBlock(),createElementBlock("div",_hoisted_1$b,[createBaseVNode("div",_hoisted_2$7,[createBaseVNode("div",_hoisted_3$7,[createBaseVNode("div",_hoisted_4$7,[createBaseVNode("h3",_hoisted_5$5,"Available "+toDisplayString(_.value),1),createBaseVNode("span",_hoisted_6$4,toDisplayString(m.value),1)]),createBaseVNode("button",{type:"button",onClick:E[0]||(E[0]=t=>v("add")),class:"px-5 py-2.5 bg-blue-600 hover:bg-blue-700 text-white text-[10px] font-black uppercase tracking-widest rounded-xl shadow-lg shadow-blue-500/20 transition-all active:scale-95"}," Add Selected ")]),createBaseVNode("div",_hoisted_7$3,[m.value>0?(openBlock(),createElementBlock("div",_hoisted_8$3,[createBaseVNode("label",_hoisted_9$3,[createBaseVNode("input",{type:"checkbox",class:"w-4 h-4 rounded border-gray-300 text-blue-600 focus:ring-blue-500 transition-all font-black",onClick:E[1]||(E[1]=t=>w("table",t.target))}),E[5]||(E[5]=createBaseVNode("span",{class:"group-hover:text-blue-600 transition-colors"},"Select All Pool",-1))]),g.value?(openBlock(),createElementBlock("div",_hoisted_10$3,[E[6]||(E[6]=createBaseVNode("i",{class:"fa fa-search absolute left-3 top-1/2 -translate-y-1/2 text-gray-300 text-xs"},null,-1)),withDirectives(createBaseVNode("input",{type:"text",placeholder:"Filter available...",class:"w-full bg-gray-50 border border-gray-100 rounded-lg pl-9 pr-3 py-2 text-xs outline-none focus:ring-4 focus:ring-blue-500/5 focus:border-blue-500 transition-all","onUpdate:modelValue":E[2]||(E[2]=t=>u.value=t)},null,512),[[vModelText,u.value]])])):createCommentVNode("",!0)])):createCommentVNode("",!0),createBaseVNode("ul",_hoisted_11$2,[(openBlock(!0),createElementBlock(Fragment,null,renderList(M(),(t,N)=>(openBlock(),createElementBlock("li",{key:t.id,class:"py-3 flex items-center gap-4 transition-colors hover:bg-gray-50/50 rounded-xl group px-3"},[withDirectives(createBaseVNode("input",{type:"checkbox","onUpdate:modelValue":U=>t.selected=U,class:"w-5 h-5 rounded border-gray-200 text-blue-600 focus:ring-blue-500 transition-all cursor-pointer shadow-sm"},null,8,_hoisted_12$2),[[vModelCheckbox,t.selected]]),createBaseVNode("div",_hoisted_13$1,[createBaseVNode("span",_hoisted_14$1,toDisplayString(V(t)),1),createBaseVNode("span",_hoisted_15$1,"Entry ID: "+toDisplayString(t.id),1)])]))),128))])])]),createBaseVNode("div",_hoisted_16$1,[f.value.length>0?(openBlock(),createElementBlock("div",_hoisted_17$1,[createBaseVNode("div",{class:normalizeClass(["px-6 py-4 rounded-xl text-[10px] font-black uppercase tracking-widest shadow-sm border animate-fadeIn",$.value.includes("info")?"bg-blue-50 border-blue-100 text-blue-600":"bg-red-50 border-red-100 text-red-600"]),innerHTML:f.value},null,10,_hoisted_18$1)])):createCommentVNode("",!0),createBaseVNode("div",_hoisted_19,[createBaseVNode("div",_hoisted_20,[createBaseVNode("h3",_hoisted_21,"Attached "+toDisplayString(_.value),1),createBaseVNode("span",_hoisted_22,toDisplayString(p.value),1)]),createBaseVNode("button",{onClick:E[3]||(E[3]=t=>v("remove")),class:"px-5 py-2.5 bg-red-50 hover:bg-red-100 text-red-600 text-[10px] font-black uppercase tracking-widest rounded-xl transition-all active:scale-95 shadow-sm border border-red-100/50"}," Remove Selected ")]),createBaseVNode("div",_hoisted_23,[p.value>0?(openBlock(),createElementBlock("div",_hoisted_24,[createBaseVNode("label",_hoisted_25,[createBaseVNode("input",{type:"checkbox",class:"w-4 h-4 rounded border-gray-300 text-red-600 focus:ring-red-500 transition-all font-black",onClick:E[4]||(E[4]=t=>w("sitewise",t.target))}),E[7]||(E[7]=createBaseVNode("span",{class:"group-hover:text-red-600 transition-colors"},"Deselect All Attached",-1))])])):createCommentVNode("",!0),createBaseVNode("ul",_hoisted_26,[(openBlock(!0),createElementBlock(Fragment,null,renderList(l.value,(t,N)=>(openBlock(),createElementBlock("li",{key:t.id,class:"py-3 flex items-center gap-4 transition-colors hover:bg-gray-50/50 rounded-xl group px-3"},[withDirectives(createBaseVNode("input",{type:"checkbox","onUpdate:modelValue":U=>t.selected=U,class:"w-5 h-5 rounded border-gray-200 text-green-600 focus:ring-green-500 transition-all cursor-pointer shadow-sm"},null,8,_hoisted_27),[[vModelCheckbox,t.selected]]),createBaseVNode("div",_hoisted_28,[createBaseVNode("span",_hoisted_29,toDisplayString(B(t)),1),createBaseVNode("span",_hoisted_30,"Link ID: "+toDisplayString(t.id),1)])]))),128))])])])]))}},_hoisted_1$a={class:"space-y-6"},_hoisted_2$6={class:"bg-white p-6 rounded-lg border border-gray-100 shadow-sm flex flex-col md:flex-row items-center justify-between gap-4 transition-all hover:border-gray-200"},_hoisted_3$6={class:"w-full md:w-80"},_hoisted_4$6=["value"],_hoisted_5$4={class:"bg-white rounded-lg shadow-lg border border-gray-100 overflow-hidden min-h-[400px]"},_sfc_main$a={__name:"sitewise-copier",props:["dataAllSites","dataMessage","dataAllData","dataSiteData","dataCurrentKey","dataSiteId","dataAlertCss","dataControllerName"],setup(S){const e=S,o=getCurrentInstance(),i=ref(null),l=ref(SafeJsonParse(e.dataAllSites,[])),b=ref(SafeJsonParse(e.dataSiteData,[])),n=ref(SafeJsonParse(e.dataAllData,[])),u=ref(e.dataCurrentKey),r=ref(parseInt(e.dataSiteId)),f=ref(""),s=ref(typeof e.dataControllerName>"u"?"site":e.dataControllerName),$=V=>{V?Loader.show(o,"Please wait..."):Loader.hide(o)},k=V=>{let B="";return V.name||V.alias?B=V.name||V.alias:V.lang&&(B=typeof V.lang.name>"u"?"":V.lang.name),B},_=V=>{n.value=V,i.value&&i.value.setData("data",V)},m=()=>{if(f.value!==""){const V=adminConfig.admin_path(`${s.value}/getBySite/${f.value}/${u.value}`);$(!0),axios.get(V).then(B=>{_(B.data)}).catch(B=>{console.error("getBySite error:",SafeErrorData(B))}).finally(()=>{$(!1)})}else _([])},p=(V,B,M)=>{console.log("copying now...");const v={fromSite:{site_id:f.value,data:B},toSite:{site_id:r.value},type:u.value};$(!0);const w=adminConfig.admin_path(`${s.value}/copySettings`);axios.post(w,v).then(H=>{const F=H.data;if(F.inserted===!1)Toast.show(o,F.message||"Nothing happened.",5e3);else{const j=F.ignored,E=F.copied;i.value&&i.value.setSiteData(F.siteData);const t=`${E.length} Copied and ${j.length} ignored. Open console for details`;Toast.show(o,t,7e3),console.info("Copied: ",E),console.info("Ignored: ",j)}}).catch(H=>{console.error("actionAdd error:",SafeErrorData(H))}).finally(()=>{$(!1)})},g=(V,B,M)=>{const v=B.length>0?B[0].site_id:null;if(v===null)return!1;const w={site_id:v,ids:M,type:u.value},H=adminConfig.admin_path(`${s.value}/removeSettings`);$(!0),axios.post(H,w).then(F=>{const j=F.data;j.deleted===0&&Toast.show(o,"Sorry!, Somehow it's not deleted.",5e3),i.value&&i.value.setSiteData(j.siteData)}).catch(F=>{console.error("actionRemove error:",SafeErrorData(F))}).finally(()=>{$(!1)})},I=(V,B,M,v)=>{V==="add"?p(B,M):g(B,M,v)};return(V,B)=>{const M=resolveComponent("site-wise");return openBlock(),createElementBlock("div",_hoisted_1$a,[createBaseVNode("div",_hoisted_2$6,[B[3]||(B[3]=createStaticVNode('<div class="flex items-center gap-4"><div class="w-12 h-12 rounded-lg bg-blue-50 flex items-center justify-center text-blue-600 shadow-inner group-hover:scale-110 transition-transform"><i class="fa fa-copy text-lg"></i></div><div><h3 class="text-[10px] font-black text-gray-400 uppercase tracking-[0.2em] leading-none mb-1.5">Source Filter</h3><p class="text-xs text-gray-500 font-bold">Select the site to migrate data from</p></div></div>',1)),createBaseVNode("div",_hoisted_3$6,[withDirectives(createBaseVNode("select",{class:"bg-white border border-gray-200 text-gray-700 text-sm rounded-xl focus:ring-4 focus:ring-blue-500/10 focus:border-blue-500 block w-full px-5 py-3 outline-none transition-all shadow-sm cursor-pointer hover:border-blue-300 font-bold",onChange:B[0]||(B[0]=v=>m()),"onUpdate:modelValue":B[1]||(B[1]=v=>f.value=v)},[B[2]||(B[2]=createBaseVNode("option",{value:""},"Select Origin Context...",-1)),(openBlock(!0),createElementBlock(Fragment,null,renderList(l.value,v=>(openBlock(),createElementBlock("option",{key:v.id,value:v.id},toDisplayString(k(v)),9,_hoisted_4$6))),128))],544),[[vModelSelect,f.value]])])]),createBaseVNode("div",_hoisted_5$4,[createVNode(M,{ref_key:"siteWiseComponent",ref:i,"data-message":S.dataMessage,"data-site-data":JSON.stringify(b.value),"data-all-data":JSON.stringify(n.value),"data-current-key":u.value,"data-site-id":r.value,"data-default-action-for-save":I,"data-alert-css":S.dataAlertCss},null,8,["data-message","data-site-data","data-all-data","data-current-key","data-site-id","data-alert-css"])])])}}},_hoisted_1$9={class:"mt-6"},_hoisted_2$5={id:"sortableField",class:"space-y-3"},_hoisted_3$5=["onClick"],_hoisted_4$5={class:"flex items-center gap-4"},_hoisted_5$3={class:"text-sm font-black text-gray-700 tracking-tight"},_hoisted_6$3={key:0,class:"p-2 text-gray-400 hover:text-blue-600 transition-colors rounded-lg hover:bg-blue-50"},_hoisted_7$2={key:0,class:"bg-gray-50/50 border-t border-gray-100 animate-slideDown"},_hoisted_8$2={class:"divide-y divide-gray-100/50"},_hoisted_9$2={class:"flex items-center gap-3"},_hoisted_10$2={class:"text-xs font-bold text-gray-500"},_sfc_main$9={__name:"sorter",props:["dataAllModules","dataControllerName"],setup(S){const e=S,o=getCurrentInstance(),i=ref(SafeJsonParse(e.dataAllModules,[])),l=ref(null),b=ref(null),n=computed(()=>(typeof e.dataControllerName>"u"?"":e.dataControllerName.toLowerCase()).replace(/\s/g,"")),u=computed(()=>adminConfig.admin_path(`${n.value}/updateIndex`)),r=g=>g.child&&g.child.length>0,f=g=>{b.value=b.value===g?null:g},s=g=>{Toast.show(o,"Modules Sorted.")},$=g=>{console.log(g)},k=(g,I,V)=>new Promise((B,M)=>{axios[g](I,V).then(v=>{s(),B(v)}).catch(v=>{$(SafeErrorData(v)),M(v)})}),_=g=>{k("post",u.value,g)},m=g=>{const I=[];document.querySelectorAll(".parent").forEach((B,M)=>{const v=B.querySelector(".text-sm"),w=v?v.innerText:"",H=i.value.find(F=>F.module_pid==0&&F.name===w);H&&I.push({id:H.id,position:M,name:H.name})}),_(I)},p=()=>{nextTick(()=>{l.value!=null&&l.value.destroy();const g=document.getElementById("sortableField");g&&(l.value=Sortable.create(g,{animation:300,ghostClass:"bg-blue-50",dragClass:"shadow-lg",onEnd:m}))})};return onMounted(()=>{p()}),(g,I)=>(openBlock(),createElementBlock("div",_hoisted_1$9,[createBaseVNode("ul",_hoisted_2$5,[g.current.module_pid==0?(openBlock(!0),createElementBlock(Fragment,{key:0},renderList(i.value,(V,B)=>(openBlock(),createElementBlock("li",{key:V.id,class:"parent bg-white border border-gray-100 rounded-lg shadow-sm overflow-hidden transition-all duration-300 group"},[createBaseVNode("div",{class:"px-6 py-4 flex items-center justify-between hover:bg-gray-50/50 cursor-pointer",onClick:M=>f(B)},[createBaseVNode("div",_hoisted_4$5,[I[0]||(I[0]=createBaseVNode("i",{class:"fa fa-grip-vertical text-gray-300 group-hover:text-blue-500 transition-colors cursor-grab active:cursor-grabbing"},null,-1)),createBaseVNode("span",_hoisted_5$3,toDisplayString(V.name),1)]),r(V)?(openBlock(),createElementBlock("button",_hoisted_6$3,[createBaseVNode("i",{class:normalizeClass(["js_more fa fa-chevron-down text-[10px] transition-transform duration-300",{"rotate-180":b.value===B}])},null,2)])):createCommentVNode("",!0)],8,_hoisted_3$5),r(V)?withDirectives((openBlock(),createElementBlock("div",_hoisted_7$2,[createBaseVNode("ul",_hoisted_8$2,[(openBlock(!0),createElementBlock(Fragment,null,renderList(V.child,M=>(openBlock(),createElementBlock("li",{key:M.id,class:"px-16 py-3 hover:bg-white transition-colors"},[createBaseVNode("div",_hoisted_9$2,[I[1]||(I[1]=createBaseVNode("div",{class:"w-1.5 h-1.5 rounded-full bg-blue-400/50"},null,-1)),createBaseVNode("span",_hoisted_10$2,toDisplayString(M.name),1)])]))),128))])],512)),[[vShow,b.value===B]]):createCommentVNode("",!0)]))),128)):createCommentVNode("",!0)])]))}},_hoisted_1$8={class:"clear-both space-y-8"},_hoisted_2$4={key:0,class:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8"},_hoisted_3$4=["id"],_hoisted_4$4={class:"w-full text-xs text-left"},_hoisted_5$2=["innerHTML"],_hoisted_6$2=["innerHTML"],_hoisted_7$1={key:1,class:"bg-white rounded-lg shadow-lg border border-gray-100 overflow-hidden"},_hoisted_8$1={class:"overflow-x-auto"},_hoisted_9$1={class:"w-full text-left border-collapse"},_hoisted_10$1={class:"bg-gray-100/50 border-b border-gray-100"},_hoisted_11$1={class:""},_hoisted_12$1=["id","data-id"],_hoisted_13=["innerHTML"],_hoisted_14=["innerHTML"],_hoisted_15={class:"text-red-600 font-medium"},_hoisted_16={class:"flex items-center justify-between w-full"},_hoisted_17={class:"flex items-center"},_hoisted_18={class:"flex space-x-2"},_sfc_main$8={__name:"tabular-view",props:["dataHeaders","dataList","dataActionFields","dataMoreActionFields","dataControllerName","dataActionAsAjax","dataActionCss","dataUserRights","dataMakeFieldAsLink","dataShowDeletePopup","dataEditHandledByOtherComponent","dataMinResultsNeeded","dataLayoutType","dataNoResultsFoundText"],setup(S){const e=S,{proxy:o}=getCurrentInstance(),i=ref(SafeJsonParse(e.dataActionFields,[])),l=ref(SafeJsonParse(e.dataUserRights,[])),b=ref(SafeJsonParse(e.dataMoreActionFields,[])),n=(h,x)=>window.Laravel?.htcmsAdminConfig?.(h)||x,u=ref(SafeJsonParse(e.dataActionAsAjax,n("action_as_ajax",[]))),r=ref(SafeJsonParse(e.dataActionCss,n("action_icon_css",[]))),f=reactive({current:"Are you sure to delete this?",delete:"Are you sure to delete this?",permission:"Sorry! You don't have permission to delete this."}),s=ref(!0),$=ref(null),k=ref(!1),_=ref(SafeJsonParse(e.dataMakeFieldAsLink,[])),m=reactive({}),p=ref((e.dataShowDeletePopup||"FALSE").toString().toUpperCase()),g=ref(!!e.dataEditHandledByOtherComponent&&e.dataEditHandledByOtherComponent.toString()==="true"),I=ref(parseInt(e.dataMinResultsNeeded)||-1),V=ref(e.dataLayoutType||"table"),B=ref(e.dataNoResultsFoundText),M=["fa-spinner","fa-pulse","fa-fw"],v=ref(null),w=ref(null),H=computed(()=>SafeJsonParse(e.dataHeaders,[]).map(x=>({label:x.label||x,key:x.key||x,isImage:x.isImage?.toString()==="true",showAllScopes:x.showAllScopes?.toString()==="true"}))),F=ref(SafeJsonParse(e.dataList,[]));watch(()=>e.dataList,h=>{F.value=SafeJsonParse(h,[])});const j=h=>{if(!h||typeof h!="string")return h;try{const A=new DOMParser().parseFromString(h,"text/html");return["script","iframe","object","embed","base"].forEach(K=>{A.querySelectorAll(K).forEach(ee=>ee.remove())}),A.querySelectorAll("*").forEach(K=>{for(let ee=K.attributes.length-1;ee>=0;ee--){const Z=K.attributes[ee].name.toLowerCase();(Z.startsWith("on")||Z==="javascript:")&&K.removeAttribute(Z)}}),A.body.innerHTML}catch(x){return console.error("Sanitization failed",x),h}},E=h=>{const x=(h||"").toLowerCase();return x==="action"||x==="moreactions"},t=h=>{if(m[h]!==void 0)return m[h];const x=_.value.find(A=>A.key===h||A.action===h);return m[h]=x===void 0?-1:x,m[h]},N=h=>l.value.indexOf(h)>=0,U=h=>u.value.indexOf(h)>=0,W=(h,x="label")=>typeof h=="string"||h[x]===void 0?h:h[x],L=h=>{if(!h)return"";const x=h.toString().replace(/\.|_/g," ");return x.charAt(0).toUpperCase()+x.slice(1)},q=h=>(h||"").toString().replace(/\s|\./g,"_").toLowerCase(),oe=(h,x)=>H.value.length-1===x?"active":"",ne=h=>r.value[h]||"",se=(h,x=!1)=>{const A=typeof h=="object"?h.action:h;return`js_action ${x||U(A)?"js_ajax ":""}js_${A}`},_e=(h,x)=>h.map(A=>A[x]).join(","),re=(h,x,A)=>{const[O,G]=x.split("."),K=h[O];return K===void 0?"":Array.isArray(K)?K.length>0?A.showAllScopes?_e(K,G):K[0][G]:"":typeof K=="object"&&K!==null&&K[G]||""},pe=h=>{const x=adminConfig.get("media_path"),A=["apng","avif","gif","jpg","jpeg","jfif","pjpeg","pjp","png","svg","webp","bmp","ico","cur","tif","tiff"],O=["mp4","mov","ogg"],G=h.toString().substring(h.lastIndexOf(".")+1).toLowerCase();let K="";return O.includes(G)?K=`<video height="30"><source src="${x}/${h}"></video>`:A.includes(G)?K=`<img height="30" src='${x}/${h}' />`:K=h,`<a class="text-blue-600 hover:text-blue-800 underline" href="${x}/${h}" target="_blank">${K}</a>`},P=(h,x,A)=>{const O=A.action||x,G=L(O),K=adminConfig.admin_path(`${e.dataControllerName}/${O}/${h.id}`);let ee=h[x];const Z=h[x]===null||h[x]===void 0||h[x]===""?"0":h[x].toString(),le=U(x);let ie=se(O,le);if(le){ie+=` ${x}_${Z} w-8 h-8 flex items-center justify-center rounded-lg transition-all hover:bg-gray-100 text-gray-400 hover:text-blue-600`;let me=A["css_"+Z]||ne(O)||"";me&&!me.includes("fa ")&&(me="fa "+me),ee=`<i class="js_icon ${me}"></i>`,N(O)||(ie+=" opacity-30 cursor-not-allowed pointer-events-none")}return x==="id"&&i.value.indexOf("edit")===-1?ee:`<a class="${ie}" data-value="${Z}" data-rowid="${h.id}" data-action="${O}" title="${G}" href="${K}">${ee}</a>`},d=(h,x,A)=>{const O=t(x);if(O!==void 0&&O!==-1)return P(h,x,O);let G=h[x];if(typeof G=="string"&&/^\d{4}-\d{2}-\d{2}T\d{2}:\d{2}:\d{2}/.test(G)){const K=new Date(G);isNaN(K.getTime())||(G=K.toLocaleDateString(void 0,{year:"numeric",month:"short",day:"numeric"}))}return A.isImage&&G?pe(G):G},D=(h,x,A)=>x.includes(".")?re(h,x,A):d(h,x,A),Q=h=>{const x=[];return i.value.forEach(A=>{let O="";const G=L(A);if(A==="edit"?O=adminConfig.admin_path(`${e.dataControllerName}/${A}/${h.id}`):A==="delete"?(I.value===-1||I.value<F.value.length)&&(O=adminConfig.admin_path(`${e.dataControllerName}/destroy/${h.id}`)):O=adminConfig.admin_path(`${e.dataControllerName}/${A}/${h.id}`),O){const K=se(A),ee="w-8 h-8 flex items-center justify-center rounded-lg transition-all hover:bg-gray-100 text-gray-400 hover:text-blue-600";let Z=ne(A);Z&&!Z.includes("fa ")&&(Z="fa "+Z);const le=`<i class="js_icon ${Z}"></i>`;x.push(`<a class="${K} ${ee}" data-rowid="${h.id}" data-action="${A}" title="${G}" href="${O}">${le}</a>`)}}),b.value.forEach(A=>{const O=se(A),G="w-8 h-8 flex items-center justify-center rounded-lg transition-all hover:bg-gray-100 text-gray-400 hover:text-blue-600",K=A.css||"";let ee="";A.hrefAttributes&&Object.entries(A.hrefAttributes).forEach(([ke,Ne])=>{ee+=`${ke}='${Ne}' `});const Z=A.action,le=h[A.action_append_field]||"",ie=L(A.label),me=adminConfig.admin_path(`${e.dataControllerName}/${Z}/${le}`);let he=A.icon_css||"";he&&!he.includes("fa ")&&(he="fa "+he);const $e=`<i class="js_icon ${he}"></i>`;x.push(`<a class="${O} ${G} ${K}" data-rowid="${h.id}" title="${ie}" href="${me}" data-action="${Z}" ${ee}>${$e}</a>`)}),x.join("&nbsp;")},X=()=>{document.querySelectorAll(".fa-spinner").forEach(h=>{h.classList.remove(...M)})},te=(h,x=!0)=>{if(!h){X();return}const A=h instanceof HTMLElement?h:h.currentTarget;X(),x===!0&&A.firstElementChild&&A.firstElementChild.classList.add(...M)},ve=(h,x,A,O)=>axios$1[h](x).then(G=>A&&A(G)).catch(G=>{O?O(G):Toast.show(o,G.message,5e3,"error"),te($.value,!1)}),ge=()=>{v.value&&v.value.close()},be=h=>{v.value&&v.value.open(h)},fe=(h=1)=>{if(h!==1){te($.value,!1),ge();return}const x=$.value;if(!N("delete")){Toast.show(o,"Sorry! You don't have permission to delete.",3e3,"error"),setTimeout(()=>te(x,!1),1e3),ge();return}""+x.getAttribute("data-rowid");const A=x.getAttribute("href");ve("delete",A,O=>{if(O.status===200){const G=F.value.findIndex(K=>K.id.toString()===O.data.id.toString());G>=0?(Toast.show(o,"Record has been deleted",2e3),F.value.splice(G,1)):Toast.show(o,"Record deleted but list state mismatch.",2e3,"warning"),setTimeout(y,100),EventBus.emit("pagination-on-delete")}else te(x,!1),Toast.show(o,"Ooops! Got some error!",5e3,"error")}),ge()},xe=(h,x,A,O)=>{w.value&&w.value.showInfo(h,x,A,O)},ue=(h,x,A,O)=>{ve("get",O,G=>{te(h,!1);const K=t(x),ee=h.querySelector(".js_icon");if(ee){const Z=K["css_"+A];Z&&ee.classList.remove(...Z.split(" "));const le=G.data.status;h.setAttribute("data-value",le);const ie=K["css_"+le];ie&&ee.classList.add(...ie.split(" "))}},G=>{te(h,!1),Toast.show(o,G?.response?.data?.message||"Unknown Error!",5e3,"error")})},z=h=>{h.preventDefault(),h.stopPropagation();const x=h.currentTarget,{action:A,rowid:O,value:G}=x.dataset;let K=x.getAttribute("href");if(G&&(K+=`/${G}`),$.value=x,A==="delete")f.current=f.delete,s.value=!0,k.value?fe(1):be(x);else if(A==="showinfo"){const{info:ee,editable:Z,excludefields:le=[]}=x.dataset;xe(ee,O,le,Z)}else ue(x,A,G,K)},y=()=>{o.$el.querySelectorAll(".js_action").forEach(x=>{x.classList.contains("js_ajax")&&x.addEventListener("click",z,!1),x.addEventListener("click",te,!1)}),g.value&&o.$el.querySelectorAll("a[data-action='edit']").forEach(A=>{A.addEventListener("click",O=>{O.preventDefault(),EventBus.emit("list-view-pre-edit",O.currentTarget)})})},C=()=>{const h=QueryBuilder.get("id");if(h){const x="#row_"+h;Fx.scrollWinTo(x,()=>Fx.highlight("row_"+h))}},R=()=>F.value.length===0;return onMounted(()=>{C(),y(),p.value==="FALSE"&&(k.value=!0),EventBus.on("list-view-hide-spinner",()=>te(void 0,"false")),EventBus.on("info-popup-open",()=>X())}),(h,x)=>(openBlock(),createElementBlock("div",_hoisted_1$8,[R()?createCommentVNode("",!0):(openBlock(),createElementBlock(Fragment,{key:0},[V.value==="grid"?(openBlock(),createElementBlock("div",_hoisted_2$4,[(openBlock(!0),createElementBlock(Fragment,null,renderList(F.value,A=>(openBlock(),createElementBlock("div",{id:"row_"+A.id,key:A.key,class:"group"},[createVNode(HcCard,{shadow:"md",rounded:"lg","body-class":"p-0",p:"p-0",px:"px-0",py:"py-0",class:"overflow-hidden hover:border-blue-200 transition-all duration-300 hover:-translate-y-1"},{default:withCtx(()=>[createBaseVNode("table",_hoisted_4$4,[(openBlock(!0),createElementBlock(Fragment,null,renderList(H.value,(O,G)=>(openBlock(),createElementBlock("tr",{class:normalizeClass([oe(O,G),"border-b border-gray-100 last:border-0 group/row hover:bg-gray-50/50 transition-colors"]),key:G},[createBaseVNode("td",{class:normalizeClass(["px-5 py-2.5 font-black text-gray-400 uppercase tracking-widest bg-gray-100/50 w-1/3 border-r border-gray-100 head_"+W(O)])},toDisplayString(L(W(O))),3),createBaseVNode("td",{class:normalizeClass(["px-5 py-2.5 font-bold text-gray-700",E(W(O,"key"))?"bg-gray-50/50 border-t border-gray-100":""])},[E(W(O,"key"))?(openBlock(),createElementBlock("div",{key:1,class:"flex flex-wrap gap-2 actions",innerHTML:j(Q(A))},null,8,_hoisted_6$2)):(openBlock(),createElementBlock("span",{key:0,innerHTML:j(D(A,W(O,"key"),O))},null,8,_hoisted_5$2))],2)],2))),128))])]),_:2},1024)],8,_hoisted_3$4))),128))])):createCommentVNode("",!0),V.value==="table"?(openBlock(),createElementBlock("div",_hoisted_7$1,[createBaseVNode("div",_hoisted_8$1,[createBaseVNode("table",_hoisted_9$1,[createBaseVNode("thead",_hoisted_10$1,[createBaseVNode("tr",null,[(openBlock(!0),createElementBlock(Fragment,null,renderList(H.value,A=>(openBlock(),createElementBlock("th",{key:"th_"+W(A),class:normalizeClass(["px-6 py-3 text-[10px] font-black text-gray-400 uppercase tracking-[0.2em] head_"+q(W(A))]),scope:"col"},toDisplayString(L(W(A))),3))),128))])]),createBaseVNode("tbody",_hoisted_11$1,[(openBlock(!0),createElementBlock(Fragment,null,renderList(F.value,A=>(openBlock(),createElementBlock("tr",{id:"row_"+A.id,key:A.key,"data-id":A.id,class:"group hover:bg-blue-50/30 transition-all duration-200 list-table-row border-b border-gray-100 last:border-0"},[(openBlock(!0),createElementBlock(Fragment,null,renderList(H.value,O=>(openBlock(),createElementBlock("td",{key:W(O,"key"),class:"px-6 py-3 text-sm font-bold text-gray-700"},[E(W(O,"key"))?(openBlock(),createElementBlock("div",{key:0,class:"flex items-center gap-2 actions min-w-[120px]",innerHTML:j(Q(A))},null,8,_hoisted_13)):(openBlock(),createElementBlock("span",{key:1,class:"block group-hover:text-blue-900 transition-colors",innerHTML:j(D(A,W(O,"key"),O))},null,8,_hoisted_14))]))),128))],8,_hoisted_12$1))),128))])])])])):createCommentVNode("",!0)],64)),createVNode(_sfc_main$x,{ref_key:"deleteBox",ref:v,"data-show-footer":!0,"data-show-modal":!1,onOnClose:fe},{title:withCtx(()=>[...x[4]||(x[4]=[createTextVNode("Alert",-1)])]),content:withCtx(()=>[createBaseVNode("span",_hoisted_15,toDisplayString(f.current),1)]),footer:withCtx(()=>[createBaseVNode("div",_hoisted_16,[createBaseVNode("div",_hoisted_17,[withDirectives(createBaseVNode("input",{id:"flexCheckDefault","onUpdate:modelValue":x[0]||(x[0]=A=>k.value=A),class:"w-4 h-4 text-blue-600 bg-gray-100 rounded border-gray-300 focus:ring-blue-500",type:"checkbox"},null,512),[[vModelCheckbox,k.value]]),x[5]||(x[5]=createBaseVNode("label",{class:"ml-2 text-sm font-medium text-gray-900",for:"flexCheckDefault"}," Don't ask again ",-1))]),createBaseVNode("div",_hoisted_18,[withDirectives(createBaseVNode("button",{class:"px-4 py-2 text-sm font-medium text-gray-700 bg-white border border-gray-300 rounded-lg hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",type:"button",onClick:x[1]||(x[1]=A=>fe(0))}," No ",512),[[vShow,s.value]]),withDirectives(createBaseVNode("button",{class:"px-4 py-2 text-sm font-medium text-white bg-red-600 border border-transparent rounded-lg hover:bg-red-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-red-500",type:"button",onClick:x[2]||(x[2]=A=>fe(1))}," Yes ",512),[[vShow,s.value]]),withDirectives(createBaseVNode("button",{class:"px-4 py-2 text-sm font-medium text-white bg-blue-600 border border-transparent rounded-lg hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500",type:"button",onClick:x[3]||(x[3]=A=>ge())}," Okay ",512),[[vShow,!s.value]])])])]),_:1},512),createVNode(_sfc_main$q,{ref_key:"infoPopup",ref:w},null,512),R()?(openBlock(),createBlock(HcAlert,{key:1,variant:"info",title:B.value},null,8,["title"])):createCommentVNode("",!0)]))}},_hoisted_1$7={class:"w-full"},_hoisted_2$3={class:"border-b border-gray-100 mb-6"},_hoisted_3$3={role:"tablist",class:"flex flex-nowrap overflow-x-auto no-scrollbar -mb-px"},_hoisted_4$3=["href","onClick","aria-selected","aria-controls"],_sfc_main$7={__name:"tab-view",props:{dataTabs:{type:[Array,String],required:!0,default:()=>[]},dataActiveTab:{type:[String,Object],default:null},dataBaseUrl:{type:String,default:""}},emits:["tab-change"],setup(S,{emit:e}){const o=S,i=e,l=computed(()=>SafeJsonParse(o.dataTabs,[])),b=computed(()=>o.dataActiveTab),n=computed(()=>o.dataBaseUrl),u=k=>typeof k=="string"?k.replace(/\s/g,"").toLowerCase():k.id||(k.label?k.label.replace(/\s/g,"").toLowerCase():Math.random().toString(36).substr(2,9)),r=k=>typeof k=="string"?k:k.label,f=k=>typeof k=="object"&&k.href?k.href:n.value?`${n.value}/${u(k)}`:`#${u(k)}`,s=k=>{const _=u(k),m=b.value?typeof b.value=="string"?b.value.replace(/\s/g,"").toLowerCase():u(b.value):null;return _===m},$=k=>{const _=f(k);i("tab-change",k),_&&_!=="#"&&!_.startsWith("javascript")&&(window.location.href=_)};return(k,_)=>(openBlock(),createElementBlock("div",_hoisted_1$7,[createBaseVNode("div",_hoisted_2$3,[createBaseVNode("ul",_hoisted_3$3,[(openBlock(!0),createElementBlock(Fragment,null,renderList(l.value,m=>(openBlock(),createElementBlock("li",{key:u(m),role:"presentation",class:"mr-6 flex-shrink-0"},[createBaseVNode("a",{href:f(m),onClick:withModifiers(p=>$(m),["prevent"]),role:"tab","aria-selected":s(m),"aria-controls":`panel-${u(m)}`,class:normalizeClass(["inline-block py-4 px-1 border-b-[3px] text-[11px] font-black uppercase tracking-widest transition-all duration-300 hover:scale-105 active:scale-95",s(m)?"border-blue-600 text-blue-600 rounded-t-sm":"border-transparent text-gray-400 hover:text-gray-600 hover:border-gray-200"])},toDisplayString(r(m)),11,_hoisted_4$3)]))),128))])])]))}},TabView=_export_sfc(_sfc_main$7,[["__scopeId","data-v-7b6ded36"]]),_hoisted_1$6={class:"inline-flex items-center gap-2 p-1 bg-gray-50/50 rounded-lg border border-gray-100 shadow-inner"},_sfc_main$6={__name:"copy-paste",props:{dataIgnoreFields:[String,Array],dataPasteElement:String,dataForm:String,dataBackUrl:String,dataCopyPasteAutoInit:[String,Boolean],dataShowCopy:[String,Boolean],dataShowPaste:[String,Boolean]},setup(S,{expose:e}){const o=S,i=getCurrentInstance(),l=["id","site_id","backURL","actionPerformed","platform_id","_token","insert_by","update_by"],b=computed(()=>SafeJsonParse(o.dataIgnoreFields,l)),n=computed(()=>o.dataCopyPasteAutoInit===void 0||o.dataCopyPasteAutoInit?.toString()==="true"),u=computed(()=>o.dataShowCopy===void 0||o.dataShowCopy.toString()==="true"),r=computed(()=>o.dataShowPaste===void 0||o.dataShowPaste.toString()==="true"),f=computed(()=>{if(typeof o.dataForm<"u"){const g=document.getElementById(o.dataForm);if(g)return g}return document}),s=computed(()=>typeof o.dataPasteElement<"u"?document.getElementById(o.dataPasteElement):f.value.querySelectorAll?.("input[type='text'], input:not([type])")[0]);onMounted(()=>{n.value&&$()});const $=()=>{s.value&&s.value.addEventListener("blur",g=>{IsJson(g.target.value)&&_()})},k=()=>{const g=Array.from(f.value.querySelectorAll("input, textarea, select")),I={};g.forEach(B=>{const M=B.getAttribute("name")||B.getAttribute("id");!M||typeof M=="object"||b.value.includes(M)||(B.type==="checkbox"?I[M]=B.checked:B.type==="radio"?B.checked&&(I[M]=B.value):I[M]=B.value)});const V=JSON.stringify(I);CopyToClipboard(V)&&(EventBus.emit("on-copy",V),Toast.show(i.proxy,"Copied to clipboard!",1e3))},_=g=>{PasteFromClipboard().then(I=>{if(!I){Toast.show(i.proxy,"Clipboard is empty",2e3,"warning");return}if(!IsJson(I)){Toast.show(i.proxy,"Invalid data in clipboard",2e3,"warning");return}const V=SafeJsonParse(I,{});m(V),typeof g=="function"&&g(V),EventBus.emit("on-paste",I),Toast.show(i.proxy,"Data pasted and forms updated",2e3)}).catch(I=>{console.error("Paste failed:",I),Toast.show(i.proxy,"Unable to access clipboard. Try copying something first.",4e3,"error")})},m=g=>{g&&Object.entries(g).forEach(([I,V])=>{try{const B=f.value.querySelectorAll(`[name="${I}"], #${I}`);if(B.length===0)return;B.forEach(M=>{let v=!1;if(M.type==="checkbox")M.checked!==!!V&&(M.checked=!!V,v=!0);else if(M.type==="radio"){const w=M.value.toString()===(V||"").toString();M.checked!==w&&(M.checked=w,v=!0)}else M.value!==V&&(M.value=V||"",v=!0);v&&(M.dispatchEvent(new Event("input",{bubbles:!0})),M.dispatchEvent(new Event("change",{bubbles:!0})),p(M))})}catch(B){console.warn(`Could not fill field: ${I}`,B)}})},p=g=>{const I=g.style.transition,V=g.style.backgroundColor;g.style.transition="background-color 0.5s ease",g.style.backgroundColor="#dbeafe",setTimeout(()=>{g.style.backgroundColor=V,setTimeout(()=>{g.style.transition=I},500)},1e3)};return e({copyNow:k,pasteNow:_}),(g,I)=>(openBlock(),createElementBlock("div",_hoisted_1$6,[u.value?(openBlock(),createBlock(HcButton,{key:0,variant:"secondary",outline:"","is-square":"",size:"sm",icon:"fa fa-copy",title:"Copy Configuration",onClick:k})):createCommentVNode("",!0),r.value?(openBlock(),createBlock(HcButton,{key:1,variant:"primary","is-square":"",size:"sm",icon:"fa fa-paste",title:"Paste Configuration",onClick:_})):createCommentVNode("",!0)]))}},_hoisted_1$5={class:"inline-flex"},_sfc_main$5={__name:"left-menu-show-hide",props:["dataIconCss","dataIconCssOff","dataMode"],setup(S){const e=S,o=ref(""),i=ref(e.dataMode||"collapse"),l=ref(e.dataIconCss||"fa fa-bars"),b=ref(e.dataIconCssOff||"fa fa-bars"),n=()=>{i.value==="collapse"?o.value=LeftMenu.isCollapsed()?b.value:l.value:o.value=LeftMenu.isVisible()?l.value:b.value},u=()=>n(),r=()=>n(),f=()=>n(),s=()=>n(),$=()=>{n(),EventBus.on("left-menu-on-show",u),EventBus.on("left-menu-on-hide",r),EventBus.on("left-menu-on-collapse",f),EventBus.on("left-menu-on-expand",s)};onMounted(()=>{LeftMenu.init(),$()}),onBeforeUnmount(()=>{EventBus.off("left-menu-on-show",u),EventBus.off("left-menu-on-hide",r),EventBus.off("left-menu-on-collapse",f),EventBus.off("left-menu-on-expand",s)});const k=()=>{i.value==="collapse"?LeftMenu.toggleCollapse():LeftMenu.toggleShow(),n()};return(_,m)=>(openBlock(),createElementBlock("div",_hoisted_1$5,[createVNode(HcButton,{variant:"soft","is-square":"",size:"sm",icon:o.value,onClick:k,"aria-label":i.value==="collapse"?"Collapse Side Menu":"Toggle Side Menu"},null,8,["icon","aria-label"])]))}},_hoisted_1$4={class:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-6 mb-8"},_hoisted_2$2={class:"flex items-center gap-4"},_hoisted_3$2={key:0,class:"flex items-center"},_hoisted_4$2=["innerHTML"],_hoisted_5$1={class:"text-[10px] font-black text-gray-400 uppercase tracking-widest mt-1.5 opacity-70"},_hoisted_6$1={class:"flex items-center gap-3 w-full sm:w-auto bg-gray-50/50 p-2 rounded-lg border border-gray-100 shadow-inner"},_sfc_main$4={__name:"title-bar",props:["dataTitle","dataBackUrl","dataBackTitle","dataSubTitle","dataShowCopy","dataShowPaste","dataCopyPasteAutoInit","dataShowExpand"],setup(S){const e=S,o=ref(e.dataTitle),i=ref(e.dataSubTitle||""),l=ref(e.dataBackUrl),b=ref(typeof e.dataBackTitle>"u"?"Back":e.dataBackTitle),n=computed(()=>e.dataBackUrl!==void 0),u=computed(()=>e.dataShowExpand!==void 0);return(r,f)=>(openBlock(),createElementBlock("div",_hoisted_1$4,[createBaseVNode("div",_hoisted_2$2,[u.value?(openBlock(),createElementBlock("div",_hoisted_3$2,[createVNode(_sfc_main$5,{"data-icon-css":"fa fa-chevron-left shadow-sm","data-icon-css-off":"fa fa-chevron-right shadow-sm"})])):createCommentVNode("",!0),f[0]||(f[0]=createBaseVNode("div",{class:"w-1.5 h-10 bg-blue-600 rounded-full shadow-lg shadow-blue-500/20"},null,-1)),createBaseVNode("div",null,[createBaseVNode("h4",{class:"text-2xl font-black text-gray-900 tracking-tight uppercase leading-none",innerHTML:o.value},null,8,_hoisted_4$2),createBaseVNode("p",_hoisted_5$1,toDisplayString(i.value),1)])]),createBaseVNode("div",_hoisted_6$1,[createVNode(_sfc_main$6,{"data-copy-paste-auto-init":S.dataCopyPasteAutoInit,"data-show-copy":S.dataShowCopy,"data-show-paste":S.dataShowPaste},null,8,["data-copy-paste-auto-init","data-show-copy","data-show-paste"]),n.value?(openBlock(),createBlock(HcButton,{key:0,variant:"dark",href:l.value,as:"a",icon:"fa fa-arrow-left"},{default:withCtx(()=>[createTextVNode(toDisplayString(b.value),1)]),_:1},8,["href"])):createCommentVNode("",!0)])]))}},_hoisted_1$3={class:"w-full bg-white/80 backdrop-blur-xl border-b border-gray-100 px-8 py-4 sticky top-0 z-50 shadow-sm"},_hoisted_2$1={class:"flex flex-wrap justify-between items-center mx-auto max-w-[1920px]"},_hoisted_3$1={href:"/",target:"_blank",class:"flex items-center gap-4 group"},_hoisted_4$1={class:"p-2 bg-gray-50 rounded-lg group-hover:bg-blue-50 transition-colors shadow-inner"},_hoisted_5=["src"],_hoisted_6={class:"flex flex-col"},_hoisted_7={class:"text-lg font-black text-gray-800 tracking-tighter leading-none"},_hoisted_8={class:"hidden md:flex items-center gap-10"},_hoisted_9={class:"flex items-center gap-3"},_hoisted_10={class:"flex items-center gap-6 border-l border-gray-100 pl-10"},_hoisted_11={class:"flex flex-col items-end"},_hoisted_12={class:"text-sm font-black text-gray-800 tracking-tight"},_sfc_main$3={__name:"top-nav",props:["dataUsername","dataSiteName","dataCurrentSite","dataSupportedSites","dataIsAdmin","dataSiteCombo","dataLogo","dataLogoHeight"],setup(S){const e=S,o=ref(e.dataSiteName||"hashtagcms.org"),i=ref(e.dataUsername);ref(!!(e.dataUsername&&e.dataUsername!=="")),ref(!(e.dataSiteCombo=="undefined"||e.dataSiteCombo==="false"));const l=ref(e.dataLogoHeight=="undefined"||e.dataLogoHeight===""?50:e.dataLogoHeight),b=ref("active"),n=ref(null),u=computed(()=>e.dataLogo!=="undefined"&&e.dataLogo!==""?e.dataLogo:adminConfig.admin_asset("img/logo-transparent.png")),r=computed(()=>b.value==="active"?"Session Active":"Session Expired"),f=()=>{document.getElementById("logout-form").submit()},s=async()=>{try{await axios$1.get(adminConfig.admin_path("heartbeat")),b.value="active"}catch(k){k.response&&[401,419].includes(k.response.status)&&(b.value="expired")}},$=()=>{n.value=setInterval(()=>{s()},6e4)};return onMounted(()=>{$()}),onBeforeUnmount(()=>{n.value&&clearInterval(n.value)}),(k,_)=>(openBlock(),createElementBlock("nav",_hoisted_1$3,[createBaseVNode("div",_hoisted_2$1,[createBaseVNode("a",_hoisted_3$1,[createBaseVNode("div",_hoisted_4$1,[createBaseVNode("img",{class:"h-10 w-auto transition-transform group-hover:scale-110",src:u.value,style:normalizeStyle({height:l.value+"px"})},null,12,_hoisted_5)]),createBaseVNode("div",_hoisted_6,[createBaseVNode("span",_hoisted_7,toDisplayString(o.value),1)])]),_[1]||(_[1]=createBaseVNode("button",{class:"md:hidden p-3 text-gray-400 rounded-lg hover:bg-gray-100 focus:outline-none focus:ring-4 focus:ring-gray-100 transition-all"},[createBaseVNode("svg",{class:"w-6 h-6",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24"},[createBaseVNode("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2.5",d:"M4 6h16M4 12h16m-7 6h7"})])],-1)),createBaseVNode("div",_hoisted_8,[createBaseVNode("div",_hoisted_9,[createVNode(_sfc_main$r,{"data-current-site":S.dataCurrentSite,"data-supported-sites":S.dataSupportedSites,"data-is-admin":S.dataIsAdmin},null,8,["data-current-site","data-supported-sites","data-is-admin"])]),createBaseVNode("div",_hoisted_10,[createBaseVNode("div",{class:normalizeClass(["w-1.5 h-1.5 rounded-full transition-all duration-500",b.value==="active"?"bg-green-500 animate-pulse":"bg-red-500 shadow-[0_0_8px_rgba(239,68,68,0.5)]"])},null,2),createBaseVNode("div",_hoisted_11,[createBaseVNode("span",{class:normalizeClass(["text-[10px] font-black uppercase tracking-[0.2em] leading-none mb-1 transition-colors duration-500",b.value==="active"?"text-gray-400":"text-red-500"])},toDisplayString(r.value),3),createBaseVNode("span",_hoisted_12,toDisplayString(i.value),1)]),createBaseVNode("a",{href:"/logout",onClick:withModifiers(f,["prevent"]),class:"w-12 h-12 flex items-center justify-center bg-red-50 text-red-500 hover:bg-red-500 hover:text-white rounded-lg transition-all shadow-sm hover:shadow-red-500/20 active:scale-95 group",title:"Secure Logout"},[..._[0]||(_[0]=[createBaseVNode("i",{class:"fa fa-power-off text-lg group-hover:rotate-12 transition-transform"},null,-1)])])])])])]))}},_hoisted_1$2={class:"fixed inset-0 z-[9999] flex items-center justify-center"},_hoisted_2={key:0,class:"absolute inset-0 bg-gray-900/40 backdrop-blur-[2px] transition-opacity"},_hoisted_3={class:"relative flex flex-col items-center bg-white p-8 rounded-lg shadow-lg border border-gray-100 min-w-[200px]"},_hoisted_4=["innerHTML"],_sfc_main$2={__name:"loader",props:["dataLoadingText","dataAsModal"],setup(S,{expose:e}){const o=S,i=ref(typeof o.dataLoadingText>"u"?"Loading. Please wait...":o.dataLoadingText),l=ref(typeof o.dataAsModal>"u"||o.dataAsModal===!0),b=ref(!1);return onMounted(()=>{}),e({show:(r=null,f=null)=>{b.value=!0,typeof r=="string"&&(i.value=r)},hide:()=>{b.value=!1}}),(r,f)=>withDirectives((openBlock(),createElementBlock("div",_hoisted_1$2,[l.value?(openBlock(),createElementBlock("div",_hoisted_2)):createCommentVNode("",!0),createBaseVNode("div",_hoisted_3,[f[0]||(f[0]=createStaticVNode('<div class="relative w-12 h-12"><svg class="absolute inset-0 w-full h-full text-gray-100" viewBox="0 0 66 66" xmlns="http://www.w3.org/2000/svg"><circle fill="none" stroke="currentColor" stroke-width="8" cx="33" cy="33" r="28"></circle></svg><svg class="absolute inset-0 w-full h-full text-blue-600 animate-spin" viewBox="0 0 66 66" xmlns="http://www.w3.org/2000/svg"><circle fill="none" stroke="currentColor" stroke-width="8" stroke-linecap="round" stroke-dasharray="100" stroke-dashoffset="60" cx="33" cy="33" r="28"></circle></svg></div>',1)),createBaseVNode("span",{class:"mt-4 text-gray-600 font-medium text-sm tracking-wide",innerHTML:i.value},null,8,_hoisted_4)])],512)),[[vShow,b.value]])}},_hoisted_1$1={class:"ml-1 font-bold"},_sfc_main$1={__name:"timer-button",props:["dataBackUrl","dataTimeout"],setup(S){const e=S,o=ref(typeof e.dataTimeout>"u"?5:parseInt(e.dataTimeout)),i=ref(0),l=ref(0),b=ref("Seconds"),n=()=>{clearInterval(l.value),e.dataBackUrl&&(window.location.href=e.dataBackUrl)},u=()=>{i.value>=o.value?(clearInterval(l.value),n()):i.value++,b.value=o.value-i.value<=1?"Second":"Seconds"};return onMounted(()=>{l.value=setInterval(u,1e3)}),onBeforeUnmount(()=>{clearInterval(l.value)}),(r,f)=>(openBlock(),createElementBlock("a",{href:"#",onClick:f[0]||(f[0]=s=>n()),class:"inline-flex items-center px-4 py-2 border border-gray-300 shadow-sm text-sm font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-all"},[renderSlot(r.$slots,"default",{},()=>[f[1]||(f[1]=createTextVNode("Back in ",-1))]),createBaseVNode("span",_hoisted_1$1,toDisplayString(o.value-i.value)+" "+toDisplayString(b.value),1)]))}},_hoisted_1={class:"fixed top-0 right-0 z-[10000] p-6 space-y-4"},_sfc_main={__name:"toast-box",setup(S,{expose:e}){const o=ref([]);let i=0;const l=(r="",f=5e3,s={})=>{const $=++i;let k="info",_=null;typeof s=="string"?k=s:typeof s=="object"&&s!==null&&(k=s.variant||"info",_=s.title);const m=32+o.value.length*92,p={id:$,message:r,title:_,variant:k,duration:f,offset:m};o.value.push(p)},b=()=>{o.value.forEach((r,f)=>{r.offset=32+f*92})},n=r=>{const f=o.value.findIndex(s=>s.id===r);f!==-1&&(o.value.splice(f,1),b())};return e({show:l,hide:()=>{o.value=[]}}),(r,f)=>(openBlock(),createElementBlock("div",_hoisted_1,[(openBlock(!0),createElementBlock(Fragment,null,renderList(o.value,s=>(openBlock(),createBlock(HcToast,{key:s.id,title:s.title,message:s.message,variant:s.variant,duration:s.duration,offset:s.offset,onClose:$=>n(s.id)},null,8,["title","message","variant","duration","offset","onClose"]))),128))]))}},HashtagCmsAdminUI={VERSION:"2.0.0",ActionBar:_sfc_main$y,CategoryPlatform:_sfc_main$w,CategorySettings:_sfc_main$v,CmsModuleDropdown:_sfc_main$B,DownloadButton:_sfc_main$u,FileUploader:_sfc_main$t,FrontendModuleCreator:_sfc_main$s,GlobalSiteButton:_sfc_main$r,Homepage:_sfc_main$p,HtmlSlot:_sfc_main$o,ImageGallery:_sfc_main$n,InfoBoxes:_sfc_main$l,InfoPopup:_sfc_main$q,LanguageButton:_sfc_main$A,LanguageCopier:_sfc_main$k,LeftNav:_sfc_main$j,MenuSorter:_sfc_main$i,ModuleCreator:_sfc_main$h,ModulePermission:_sfc_main$g,Pagination:_sfc_main$f,PlatformButton:_sfc_main$e,SearchBar:_sfc_main$z,SiteButton:_sfc_main$d,SiteCloner:_sfc_main$c,SitewiseCopier:_sfc_main$a,SitewiseData:_sfc_main$b,Sorter:_sfc_main$9,TabularView:_sfc_main$8,TabView,TitleBar:_sfc_main$4,TopNav:_sfc_main$3,CopyPaste:_sfc_main$6,InfoBox:_sfc_main$m,LeftMenuShowHide:_sfc_main$5,Loader:_sfc_main$2,ModalBox:_sfc_main$x,SplitButton:_sfc_main$C,TimerButton:_sfc_main$1,ToastBox:_sfc_main,...HcUiKit,AdminConfig,...common,Dashboard,EditorHelper,PageManager,ErrorMessage,MapAPI,Form};typeof window<"u"&&(window.HashtagCmsAdminUI=HashtagCmsAdminUI);export{_sfc_main$y as ActionBar,AdminConfig,_sfc_main$w as CategoryPlatform,_sfc_main$v as CategorySettings,qe as CleanForUrl,_sfc_main$B as CmsModuleDropdown,_sfc_main$6 as CopyPaste,CopyToClipboard,Dashboard,_sfc_main$u as DownloadButton,EditorHelper,ErrorMessage,Ge as Fetcher,_sfc_main$t as FileUploader,Form,_sfc_main$s as FrontendModuleCreator,_sfc_main$r as GlobalSiteButton,HcAlert,Xe as HcAvatar,Ze as HcBadge,et as HcBadgeContainer,tt as HcBreadcrumbs,HcButton,ot as HcButtonGroup,HcCard,at as HcCheckbox,st as HcDrawer,rt as HcDropdown,lt as HcFileUpload,HcInput,HcModal,HcPagination,nt as HcPlaceholder,HcPopover,HcProgress,it as HcRadioGroup,dt as HcSelect,ct as HcSpinner,ut as HcStatCard,pt as HcSwitch,gt as HcTable,ft as HcTabs,HcToast,mt as HcTooltip,_sfc_main$p as Homepage,_sfc_main$o as HtmlSlot,_sfc_main$n as ImageGallery,_sfc_main$m as InfoBox,_sfc_main$l as InfoBoxes,_sfc_main$q as InfoPopup,IsJson,_sfc_main$A as LanguageButton,_sfc_main$k as LanguageCopier,LeftMenu,_sfc_main$5 as LeftMenuShowHide,_sfc_main$j as LeftNav,_sfc_main$2 as Loader,MapAPI,_sfc_main$i as MenuSorter,Modal,_sfc_main$x as ModalBox,_sfc_main$h as ModuleCreator,_sfc_main$g as ModulePermission,PageManager,_sfc_main$f as Pagination,PasteFromClipboard,_sfc_main$e as PlatformButton,QueryBuilder,SafeErrorData,SafeJsonParse,_sfc_main$z as SearchBar,_sfc_main$d as SiteButton,_sfc_main$c as SiteCloner,_sfc_main$a as SitewiseCopier,_sfc_main$b as SitewiseData,_sfc_main$9 as Sorter,_sfc_main$C as SplitButton,We as Storage,Store,TabView,_sfc_main$8 as TabularView,_sfc_main$1 as TimerButton,_sfc_main$4 as TitleBar,Ke as TitleCase,Toast,_sfc_main as ToastBox,_sfc_main$3 as TopNav,Ye as Utils,HashtagCmsAdminUI as default};
